<html>
<head>
<title>csstree.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cfd2d5;}
.s1 { color: #cc7832; font-weight: bold;}
.s2 { color: #cc7832;}
.s3 { color: #8ea765;}
.s4 { color: #808080;}
.s5 { color: #6897bb;}
.s6 { color: #8a8a8a;}
.s7 { color: #8a8a8a; font-style: italic;}
.s8 { color: #8a8a8a; font-weight: bold; font-style: italic;}
</style>
</head>
<body bgcolor="#1c1c1c">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
csstree.js</font>
</center></td></tr></table>
<pre><span class="s0">(</span><span class="s1">function </span><span class="s0">(global</span><span class="s2">, </span><span class="s0">factory) {</span>
    <span class="s1">typeof </span><span class="s0">exports === </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">module !== </span><span class="s3">'undefined' </span><span class="s0">? module.exports = factory() :</span>
    <span class="s1">typeof </span><span class="s0">define === </span><span class="s3">'function' </span><span class="s0">&amp;&amp; define.amd ? define(factory) :</span>
    <span class="s0">(global = global || self</span><span class="s2">, </span><span class="s0">global.csstree = factory())</span><span class="s2">;</span>
<span class="s0">}(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">(</span><span class="s1">function </span><span class="s0">() { </span><span class="s3">'use strict'</span><span class="s2">;</span>

    <span class="s4">//</span>
    <span class="s4">//                              list</span>
    <span class="s4">//                            ┌──────┐</span>
    <span class="s4">//             ┌──────────────┼─head │</span>
    <span class="s4">//             │              │ tail─┼──────────────┐</span>
    <span class="s4">//             │              └──────┘              │</span>
    <span class="s4">//             ▼                                    ▼</span>
    <span class="s4">//            item        item        item        item</span>
    <span class="s4">//          ┌──────┐    ┌──────┐    ┌──────┐    ┌──────┐</span>
    <span class="s4">//  null ◀──┼─prev │◀───┼─prev │◀───┼─prev │◀───┼─prev │</span>
    <span class="s4">//          │ next─┼───▶│ next─┼───▶│ next─┼───▶│ next─┼──▶ null</span>
    <span class="s4">//          ├──────┤    ├──────┤    ├──────┤    ├──────┤</span>
    <span class="s4">//          │ data │    │ data │    │ data │    │ data │</span>
    <span class="s4">//          └──────┘    └──────┘    └──────┘    └──────┘</span>
    <span class="s4">//</span>

    <span class="s1">function </span><span class="s0">createItem(data) {</span>
        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">prev: </span><span class="s1">null</span><span class="s2">,</span>
            <span class="s0">next: </span><span class="s1">null</span><span class="s2">,</span>
            <span class="s0">data: data</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">allocateCursor(node</span><span class="s2">, </span><span class="s0">prev</span><span class="s2">, </span><span class="s0">next) {</span>
        <span class="s1">var </span><span class="s0">cursor</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(cursors !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">cursor = cursors</span><span class="s2">;</span>
            <span class="s0">cursors = cursors.cursor</span><span class="s2">;</span>
            <span class="s0">cursor.prev = prev</span><span class="s2">;</span>
            <span class="s0">cursor.next = next</span><span class="s2">;</span>
            <span class="s0">cursor.cursor = node.cursor</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">cursor = {</span>
                <span class="s0">prev: prev</span><span class="s2">,</span>
                <span class="s0">next: next</span><span class="s2">,</span>
                <span class="s0">cursor: node.cursor</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">node.cursor = cursor</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">cursor</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">releaseCursor(node) {</span>
        <span class="s1">var </span><span class="s0">cursor = node.cursor</span><span class="s2">;</span>

        <span class="s0">node.cursor = cursor.cursor</span><span class="s2">;</span>
        <span class="s0">cursor.prev = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">cursor.next = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">cursor.cursor = cursors</span><span class="s2">;</span>
        <span class="s0">cursors = cursor</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">cursors = </span><span class="s1">null</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">List = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">this</span><span class="s0">.cursor = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.head = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.tail = </span><span class="s1">null</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.createItem = createItem</span><span class="s2">;</span>
    <span class="s0">List.prototype.createItem = createItem</span><span class="s2">;</span>

    <span class="s0">List.prototype.updateCursors = </span><span class="s1">function</span><span class="s0">(prevOld</span><span class="s2">, </span><span class="s0">prevNew</span><span class="s2">, </span><span class="s0">nextOld</span><span class="s2">, </span><span class="s0">nextNew) {</span>
        <span class="s1">var </span><span class="s0">cursor = </span><span class="s1">this</span><span class="s0">.cursor</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(cursor !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(cursor.prev === prevOld) {</span>
                <span class="s0">cursor.prev = prevNew</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(cursor.next === nextOld) {</span>
                <span class="s0">cursor.next = nextNew</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">cursor = cursor.cursor</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.getSize = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">var </span><span class="s0">size = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">cursor = </span><span class="s1">this</span><span class="s0">.head</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(cursor) {</span>
            <span class="s0">size++</span><span class="s2">;</span>
            <span class="s0">cursor = cursor.next</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">size</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.fromArray = </span><span class="s1">function</span><span class="s0">(array) {</span>
        <span class="s1">var </span><span class="s0">cursor = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s1">this</span><span class="s0">.head = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; array.length</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s1">var </span><span class="s0">item = createItem(array[i])</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(cursor !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s0">cursor.next = item</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">.head = item</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">item.prev = cursor</span><span class="s2">;</span>
            <span class="s0">cursor = item</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">this</span><span class="s0">.tail = cursor</span><span class="s2">;</span>

        <span class="s1">return this</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.toArray = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">var </span><span class="s0">cursor = </span><span class="s1">this</span><span class="s0">.head</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">result = []</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(cursor) {</span>
            <span class="s0">result.push(cursor.data)</span><span class="s2">;</span>
            <span class="s0">cursor = cursor.next</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.toJSON = List.prototype.toArray</span><span class="s2">;</span>

    <span class="s0">List.prototype.isEmpty = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">return this</span><span class="s0">.head === </span><span class="s1">null</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.first = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">return this</span><span class="s0">.head &amp;&amp; </span><span class="s1">this</span><span class="s0">.head.data</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.last = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">return this</span><span class="s0">.tail &amp;&amp; </span><span class="s1">this</span><span class="s0">.tail.data</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.each = </span><span class="s1">function</span><span class="s0">(fn</span><span class="s2">, </span><span class="s0">context) {</span>
        <span class="s1">var </span><span class="s0">item</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(context === undefined) {</span>
            <span class="s0">context = </span><span class="s1">this</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// push cursor</span>
        <span class="s1">var </span><span class="s0">cursor = allocateCursor(</span><span class="s1">this</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.head)</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(cursor.next !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">item = cursor.next</span><span class="s2">;</span>
            <span class="s0">cursor.next = item.next</span><span class="s2">;</span>

            <span class="s0">fn.call(context</span><span class="s2">, </span><span class="s0">item.data</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// pop cursor</span>
        <span class="s0">releaseCursor(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.forEach = List.prototype.each</span><span class="s2">;</span>

    <span class="s0">List.prototype.eachRight = </span><span class="s1">function</span><span class="s0">(fn</span><span class="s2">, </span><span class="s0">context) {</span>
        <span class="s1">var </span><span class="s0">item</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(context === undefined) {</span>
            <span class="s0">context = </span><span class="s1">this</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// push cursor</span>
        <span class="s1">var </span><span class="s0">cursor = allocateCursor(</span><span class="s1">this</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.tail</span><span class="s2">, </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(cursor.prev !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">item = cursor.prev</span><span class="s2">;</span>
            <span class="s0">cursor.prev = item.prev</span><span class="s2">;</span>

            <span class="s0">fn.call(context</span><span class="s2">, </span><span class="s0">item.data</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// pop cursor</span>
        <span class="s0">releaseCursor(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.forEachRight = List.prototype.eachRight</span><span class="s2">;</span>

    <span class="s0">List.prototype.reduce = </span><span class="s1">function</span><span class="s0">(fn</span><span class="s2">, </span><span class="s0">initialValue</span><span class="s2">, </span><span class="s0">context) {</span>
        <span class="s1">var </span><span class="s0">item</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(context === undefined) {</span>
            <span class="s0">context = </span><span class="s1">this</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// push cursor</span>
        <span class="s1">var </span><span class="s0">cursor = allocateCursor(</span><span class="s1">this</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.head)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">acc = initialValue</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(cursor.next !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">item = cursor.next</span><span class="s2">;</span>
            <span class="s0">cursor.next = item.next</span><span class="s2">;</span>

            <span class="s0">acc = fn.call(context</span><span class="s2">, </span><span class="s0">acc</span><span class="s2">, </span><span class="s0">item.data</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// pop cursor</span>
        <span class="s0">releaseCursor(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">acc</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.reduceRight = </span><span class="s1">function</span><span class="s0">(fn</span><span class="s2">, </span><span class="s0">initialValue</span><span class="s2">, </span><span class="s0">context) {</span>
        <span class="s1">var </span><span class="s0">item</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(context === undefined) {</span>
            <span class="s0">context = </span><span class="s1">this</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// push cursor</span>
        <span class="s1">var </span><span class="s0">cursor = allocateCursor(</span><span class="s1">this</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.tail</span><span class="s2">, </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">acc = initialValue</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(cursor.prev !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">item = cursor.prev</span><span class="s2">;</span>
            <span class="s0">cursor.prev = item.prev</span><span class="s2">;</span>

            <span class="s0">acc = fn.call(context</span><span class="s2">, </span><span class="s0">acc</span><span class="s2">, </span><span class="s0">item.data</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// pop cursor</span>
        <span class="s0">releaseCursor(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">acc</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.nextUntil = </span><span class="s1">function</span><span class="s0">(start</span><span class="s2">, </span><span class="s0">fn</span><span class="s2">, </span><span class="s0">context) {</span>
        <span class="s1">if </span><span class="s0">(start === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">item</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(context === undefined) {</span>
            <span class="s0">context = </span><span class="s1">this</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// push cursor</span>
        <span class="s1">var </span><span class="s0">cursor = allocateCursor(</span><span class="s1">this</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s0">start)</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(cursor.next !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">item = cursor.next</span><span class="s2">;</span>
            <span class="s0">cursor.next = item.next</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(fn.call(context</span><span class="s2">, </span><span class="s0">item.data</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)) {</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s4">// pop cursor</span>
        <span class="s0">releaseCursor(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.prevUntil = </span><span class="s1">function</span><span class="s0">(start</span><span class="s2">, </span><span class="s0">fn</span><span class="s2">, </span><span class="s0">context) {</span>
        <span class="s1">if </span><span class="s0">(start === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">item</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(context === undefined) {</span>
            <span class="s0">context = </span><span class="s1">this</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// push cursor</span>
        <span class="s1">var </span><span class="s0">cursor = allocateCursor(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">start</span><span class="s2">, </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(cursor.prev !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">item = cursor.prev</span><span class="s2">;</span>
            <span class="s0">cursor.prev = item.prev</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(fn.call(context</span><span class="s2">, </span><span class="s0">item.data</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)) {</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s4">// pop cursor</span>
        <span class="s0">releaseCursor(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.some = </span><span class="s1">function</span><span class="s0">(fn</span><span class="s2">, </span><span class="s0">context) {</span>
        <span class="s1">var </span><span class="s0">cursor = </span><span class="s1">this</span><span class="s0">.head</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(context === undefined) {</span>
            <span class="s0">context = </span><span class="s1">this</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">while </span><span class="s0">(cursor !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(fn.call(context</span><span class="s2">, </span><span class="s0">cursor.data</span><span class="s2">, </span><span class="s0">cursor</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)) {</span>
                <span class="s1">return true</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">cursor = cursor.next</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return false</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.map = </span><span class="s1">function</span><span class="s0">(fn</span><span class="s2">, </span><span class="s0">context) {</span>
        <span class="s1">var </span><span class="s0">result = </span><span class="s1">new </span><span class="s0">List()</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">cursor = </span><span class="s1">this</span><span class="s0">.head</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(context === undefined) {</span>
            <span class="s0">context = </span><span class="s1">this</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">while </span><span class="s0">(cursor !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">result.appendData(fn.call(context</span><span class="s2">, </span><span class="s0">cursor.data</span><span class="s2">, </span><span class="s0">cursor</span><span class="s2">, </span><span class="s1">this</span><span class="s0">))</span><span class="s2">;</span>
            <span class="s0">cursor = cursor.next</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.filter = </span><span class="s1">function</span><span class="s0">(fn</span><span class="s2">, </span><span class="s0">context) {</span>
        <span class="s1">var </span><span class="s0">result = </span><span class="s1">new </span><span class="s0">List()</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">cursor = </span><span class="s1">this</span><span class="s0">.head</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(context === undefined) {</span>
            <span class="s0">context = </span><span class="s1">this</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">while </span><span class="s0">(cursor !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(fn.call(context</span><span class="s2">, </span><span class="s0">cursor.data</span><span class="s2">, </span><span class="s0">cursor</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)) {</span>
                <span class="s0">result.appendData(cursor.data)</span><span class="s2">;</span>
            <span class="s0">}</span>
            <span class="s0">cursor = cursor.next</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.clear = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">this</span><span class="s0">.head = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.tail = </span><span class="s1">null</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.copy = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">var </span><span class="s0">result = </span><span class="s1">new </span><span class="s0">List()</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">cursor = </span><span class="s1">this</span><span class="s0">.head</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(cursor !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">result.insert(createItem(cursor.data))</span><span class="s2">;</span>
            <span class="s0">cursor = cursor.next</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.prepend = </span><span class="s1">function</span><span class="s0">(item) {</span>
        <span class="s4">//      head</span>
        <span class="s4">//    ^</span>
        <span class="s4">// item</span>
        <span class="s1">this</span><span class="s0">.updateCursors(</span><span class="s1">null</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.head</span><span class="s2">, </span><span class="s0">item)</span><span class="s2">;</span>

        <span class="s4">// insert to the beginning of the list</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.head !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s4">// new item &lt;- first item</span>
            <span class="s1">this</span><span class="s0">.head.prev = item</span><span class="s2">;</span>

            <span class="s4">// new item -&gt; first item</span>
            <span class="s0">item.next = </span><span class="s1">this</span><span class="s0">.head</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s4">// if list has no head, then it also has no tail</span>
            <span class="s4">// in this case tail points to the new item</span>
            <span class="s1">this</span><span class="s0">.tail = item</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// head always points to new item</span>
        <span class="s1">this</span><span class="s0">.head = item</span><span class="s2">;</span>

        <span class="s1">return this</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.prependData = </span><span class="s1">function</span><span class="s0">(data) {</span>
        <span class="s1">return this</span><span class="s0">.prepend(createItem(data))</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.append = </span><span class="s1">function</span><span class="s0">(item) {</span>
        <span class="s1">return this</span><span class="s0">.insert(item)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.appendData = </span><span class="s1">function</span><span class="s0">(data) {</span>
        <span class="s1">return this</span><span class="s0">.insert(createItem(data))</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.insert = </span><span class="s1">function</span><span class="s0">(item</span><span class="s2">, </span><span class="s0">before) {</span>
        <span class="s1">if </span><span class="s0">(before !== undefined &amp;&amp; before !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s4">// prev   before</span>
            <span class="s4">//      ^</span>
            <span class="s4">//     item</span>
            <span class="s1">this</span><span class="s0">.updateCursors(before.prev</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">before</span><span class="s2">, </span><span class="s0">item)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(before.prev === </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s4">// insert to the beginning of list</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.head !== before) {</span>
                    <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'before doesn</span><span class="s2">\'</span><span class="s3">t belong to list'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s4">// since head points to before therefore list doesn't empty</span>
                <span class="s4">// no need to check tail</span>
                <span class="s1">this</span><span class="s0">.head = item</span><span class="s2">;</span>
                <span class="s0">before.prev = item</span><span class="s2">;</span>
                <span class="s0">item.next = before</span><span class="s2">;</span>

                <span class="s1">this</span><span class="s0">.updateCursors(</span><span class="s1">null</span><span class="s2">, </span><span class="s0">item)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>

                <span class="s4">// insert between two items</span>
                <span class="s0">before.prev.next = item</span><span class="s2">;</span>
                <span class="s0">item.prev = before.prev</span><span class="s2">;</span>

                <span class="s0">before.prev = item</span><span class="s2">;</span>
                <span class="s0">item.next = before</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s4">// tail</span>
            <span class="s4">//      ^</span>
            <span class="s4">//      item</span>
            <span class="s1">this</span><span class="s0">.updateCursors(</span><span class="s1">this</span><span class="s0">.tail</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s0">item)</span><span class="s2">;</span>

            <span class="s4">// insert to the ending of the list</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.tail !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s4">// last item -&gt; new item</span>
                <span class="s1">this</span><span class="s0">.tail.next = item</span><span class="s2">;</span>

                <span class="s4">// last item &lt;- new item</span>
                <span class="s0">item.prev = </span><span class="s1">this</span><span class="s0">.tail</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s4">// if list has no tail, then it also has no head</span>
                <span class="s4">// in this case head points to new item</span>
                <span class="s1">this</span><span class="s0">.head = item</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// tail always points to new item</span>
            <span class="s1">this</span><span class="s0">.tail = item</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return this</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.insertData = </span><span class="s1">function</span><span class="s0">(data</span><span class="s2">, </span><span class="s0">before) {</span>
        <span class="s1">return this</span><span class="s0">.insert(createItem(data)</span><span class="s2">, </span><span class="s0">before)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.remove = </span><span class="s1">function</span><span class="s0">(item) {</span>
        <span class="s4">//      item</span>
        <span class="s4">//       ^</span>
        <span class="s4">// prev     next</span>
        <span class="s1">this</span><span class="s0">.updateCursors(item</span><span class="s2">, </span><span class="s0">item.prev</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">item.next)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(item.prev !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">item.prev.next = item.next</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.head !== item) {</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'item doesn</span><span class="s2">\'</span><span class="s3">t belong to list'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.head = item.next</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(item.next !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">item.next.prev = item.prev</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.tail !== item) {</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'item doesn</span><span class="s2">\'</span><span class="s3">t belong to list'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.tail = item.prev</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">item.prev = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">item.next = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">item</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.push = </span><span class="s1">function</span><span class="s0">(data) {</span>
        <span class="s1">this</span><span class="s0">.insert(createItem(data))</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.pop = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.tail !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return this</span><span class="s0">.remove(</span><span class="s1">this</span><span class="s0">.tail)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.unshift = </span><span class="s1">function</span><span class="s0">(data) {</span>
        <span class="s1">this</span><span class="s0">.prepend(createItem(data))</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.shift = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.head !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return this</span><span class="s0">.remove(</span><span class="s1">this</span><span class="s0">.head)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.prependList = </span><span class="s1">function</span><span class="s0">(list) {</span>
        <span class="s1">return this</span><span class="s0">.insertList(list</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.head)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.appendList = </span><span class="s1">function</span><span class="s0">(list) {</span>
        <span class="s1">return this</span><span class="s0">.insertList(list)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.insertList = </span><span class="s1">function</span><span class="s0">(list</span><span class="s2">, </span><span class="s0">before) {</span>
        <span class="s4">// ignore empty lists</span>
        <span class="s1">if </span><span class="s0">(list.head === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return this</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(before !== undefined &amp;&amp; before !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">this</span><span class="s0">.updateCursors(before.prev</span><span class="s2">, </span><span class="s0">list.tail</span><span class="s2">, </span><span class="s0">before</span><span class="s2">, </span><span class="s0">list.head)</span><span class="s2">;</span>

            <span class="s4">// insert in the middle of dist list</span>
            <span class="s1">if </span><span class="s0">(before.prev !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s4">// before.prev &lt;-&gt; list.head</span>
                <span class="s0">before.prev.next = list.head</span><span class="s2">;</span>
                <span class="s0">list.head.prev = before.prev</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">.head = list.head</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">before.prev = list.tail</span><span class="s2">;</span>
            <span class="s0">list.tail.next = before</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s1">this</span><span class="s0">.updateCursors(</span><span class="s1">this</span><span class="s0">.tail</span><span class="s2">, </span><span class="s0">list.tail</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s0">list.head)</span><span class="s2">;</span>

            <span class="s4">// insert to end of the list</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.tail !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s4">// if destination list has a tail, then it also has a head,</span>
                <span class="s4">// but head doesn't change</span>

                <span class="s4">// dest tail -&gt; source head</span>
                <span class="s1">this</span><span class="s0">.tail.next = list.head</span><span class="s2">;</span>

                <span class="s4">// dest tail &lt;- source head</span>
                <span class="s0">list.head.prev = </span><span class="s1">this</span><span class="s0">.tail</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s4">// if list has no a tail, then it also has no a head</span>
                <span class="s4">// in this case points head to new item</span>
                <span class="s1">this</span><span class="s0">.head = list.head</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// tail always start point to new item</span>
            <span class="s1">this</span><span class="s0">.tail = list.tail</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">list.head = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">list.tail = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s1">return this</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">List.prototype.replace = </span><span class="s1">function</span><span class="s0">(oldItem</span><span class="s2">, </span><span class="s0">newItemOrList) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s3">'head' </span><span class="s1">in </span><span class="s0">newItemOrList) {</span>
            <span class="s1">this</span><span class="s0">.insertList(newItemOrList</span><span class="s2">, </span><span class="s0">oldItem)</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s1">this</span><span class="s0">.insert(newItemOrList</span><span class="s2">, </span><span class="s0">oldItem)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">this</span><span class="s0">.remove(oldItem)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">List_1 = List</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">createCustomError = </span><span class="s1">function </span><span class="s0">createCustomError(name</span><span class="s2">, </span><span class="s0">message) {</span>
        <span class="s4">// use Object.create(), because some VMs prevent setting line/column otherwise</span>
        <span class="s4">// (iOS Safari 10 even throws an exception)</span>
        <span class="s1">var </span><span class="s0">error = Object.create(SyntaxError.prototype)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">errorStack = </span><span class="s1">new </span><span class="s0">Error()</span><span class="s2">;</span>

        <span class="s0">error.name = name</span><span class="s2">;</span>
        <span class="s0">error.message = message</span><span class="s2">;</span>

        <span class="s0">Object.defineProperty(error</span><span class="s2">, </span><span class="s3">'stack'</span><span class="s2">, </span><span class="s0">{</span>
            <span class="s0">get: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">return </span><span class="s0">(errorStack.stack || </span><span class="s3">''</span><span class="s0">).replace(</span><span class="s5">/^(.+\n){1,3}/</span><span class="s2">, </span><span class="s0">name + </span><span class="s3">': ' </span><span class="s0">+ message + </span><span class="s3">'</span><span class="s2">\n</span><span class="s3">'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">})</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">error</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">MAX_LINE_LENGTH = </span><span class="s5">100</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">OFFSET_CORRECTION = </span><span class="s5">60</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TAB_REPLACEMENT = </span><span class="s3">'    '</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">sourceFragment(error</span><span class="s2">, </span><span class="s0">extraLines) {</span>
        <span class="s1">function </span><span class="s0">processLines(start</span><span class="s2">, </span><span class="s0">end) {</span>
            <span class="s1">return </span><span class="s0">lines.slice(start</span><span class="s2">, </span><span class="s0">end).map(</span><span class="s1">function</span><span class="s0">(line</span><span class="s2">, </span><span class="s0">idx) {</span>
                <span class="s1">var </span><span class="s0">num = String(start + idx + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>

                <span class="s1">while </span><span class="s0">(num.length &lt; maxNumLength) {</span>
                    <span class="s0">num = </span><span class="s3">' ' </span><span class="s0">+ num</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">return </span><span class="s0">num + </span><span class="s3">' |' </span><span class="s0">+ line</span><span class="s2">;</span>
            <span class="s0">}).join(</span><span class="s3">'</span><span class="s2">\n</span><span class="s3">'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">lines = error.source.split(</span><span class="s5">/\r\n?|\n|\f/</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">line = error.line</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">column = error.column</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">startLine = Math.max(</span><span class="s5">1</span><span class="s2">, </span><span class="s0">line - extraLines) - </span><span class="s5">1</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">endLine = Math.min(line + extraLines</span><span class="s2">, </span><span class="s0">lines.length + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">maxNumLength = Math.max(</span><span class="s5">4</span><span class="s2">, </span><span class="s0">String(endLine).length) + </span><span class="s5">1</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">cutLeft = </span><span class="s5">0</span><span class="s2">;</span>

        <span class="s4">// column correction according to replaced tab before column</span>
        <span class="s0">column += (TAB_REPLACEMENT.length - </span><span class="s5">1</span><span class="s0">) * (lines[line - </span><span class="s5">1</span><span class="s0">].substr(</span><span class="s5">0</span><span class="s2">, </span><span class="s0">column - </span><span class="s5">1</span><span class="s0">).match(</span><span class="s5">/\t/g</span><span class="s0">) || []).length</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(column &gt; MAX_LINE_LENGTH) {</span>
            <span class="s0">cutLeft = column - OFFSET_CORRECTION + </span><span class="s5">3</span><span class="s2">;</span>
            <span class="s0">column = OFFSET_CORRECTION - </span><span class="s5">2</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = startLine</span><span class="s2">; </span><span class="s0">i &lt;= endLine</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s1">if </span><span class="s0">(i &gt;= </span><span class="s5">0 </span><span class="s0">&amp;&amp; i &lt; lines.length) {</span>
                <span class="s0">lines[i] = lines[i].replace(</span><span class="s5">/\t/g</span><span class="s2">, </span><span class="s0">TAB_REPLACEMENT)</span><span class="s2">;</span>
                <span class="s0">lines[i] =</span>
                    <span class="s0">(cutLeft &gt; </span><span class="s5">0 </span><span class="s0">&amp;&amp; lines[i].length &gt; cutLeft ? </span><span class="s3">'</span><span class="s2">\u2026</span><span class="s3">' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">) +</span>
                    <span class="s0">lines[i].substr(cutLeft</span><span class="s2">, </span><span class="s0">MAX_LINE_LENGTH - </span><span class="s5">2</span><span class="s0">) +</span>
                    <span class="s0">(lines[i].length &gt; cutLeft + MAX_LINE_LENGTH - </span><span class="s5">1 </span><span class="s0">? </span><span class="s3">'</span><span class="s2">\u2026</span><span class="s3">' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">[</span>
            <span class="s0">processLines(startLine</span><span class="s2">, </span><span class="s0">line)</span><span class="s2">,</span>
            <span class="s1">new </span><span class="s0">Array(column + maxNumLength + </span><span class="s5">2</span><span class="s0">).join(</span><span class="s3">'-'</span><span class="s0">) + </span><span class="s3">'^'</span><span class="s2">,</span>
            <span class="s0">processLines(line</span><span class="s2">, </span><span class="s0">endLine)</span>
        <span class="s0">].filter(Boolean).join(</span><span class="s3">'</span><span class="s2">\n</span><span class="s3">'</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">SyntaxError$1 = </span><span class="s1">function</span><span class="s0">(message</span><span class="s2">, </span><span class="s0">source</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">line</span><span class="s2">, </span><span class="s0">column) {</span>
        <span class="s1">var </span><span class="s0">error = createCustomError(</span><span class="s3">'SyntaxError'</span><span class="s2">, </span><span class="s0">message)</span><span class="s2">;</span>

        <span class="s0">error.source = source</span><span class="s2">;</span>
        <span class="s0">error.offset = offset</span><span class="s2">;</span>
        <span class="s0">error.line = line</span><span class="s2">;</span>
        <span class="s0">error.column = column</span><span class="s2">;</span>

        <span class="s0">error.sourceFragment = </span><span class="s1">function</span><span class="s0">(extraLines) {</span>
            <span class="s1">return </span><span class="s0">sourceFragment(error</span><span class="s2">, </span><span class="s0">isNaN(extraLines) ? </span><span class="s5">0 </span><span class="s0">: extraLines)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">Object.defineProperty(error</span><span class="s2">, </span><span class="s3">'formattedMessage'</span><span class="s2">, </span><span class="s0">{</span>
            <span class="s0">get: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">return </span><span class="s0">(</span>
                    <span class="s3">'Parse error: ' </span><span class="s0">+ error.message + </span><span class="s3">'</span><span class="s2">\n</span><span class="s3">' </span><span class="s0">+</span>
                    <span class="s0">sourceFragment(error</span><span class="s2">, </span><span class="s5">2</span><span class="s0">)</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">})</span><span class="s2">;</span>

        <span class="s4">// for backward capability</span>
        <span class="s0">error.parseError = {</span>
            <span class="s0">offset: offset</span><span class="s2">,</span>
            <span class="s0">line: line</span><span class="s2">,</span>
            <span class="s0">column: column</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">error</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">_SyntaxError = SyntaxError$1</span><span class="s2">;</span>

    <span class="s4">// CSS Syntax Module Level 3</span>
    <span class="s4">// https://www.w3.org/TR/css-syntax-3/</span>
    <span class="s1">var </span><span class="s0">TYPE = {</span>
        <span class="s0">EOF: </span><span class="s5">0</span><span class="s2">,                 </span><span class="s4">// &lt;EOF-token&gt;</span>
        <span class="s0">Ident: </span><span class="s5">1</span><span class="s2">,               </span><span class="s4">// &lt;ident-token&gt;</span>
        <span class="s0">Function: </span><span class="s5">2</span><span class="s2">,            </span><span class="s4">// &lt;function-token&gt;</span>
        <span class="s0">AtKeyword: </span><span class="s5">3</span><span class="s2">,           </span><span class="s4">// &lt;at-keyword-token&gt;</span>
        <span class="s0">Hash: </span><span class="s5">4</span><span class="s2">,                </span><span class="s4">// &lt;hash-token&gt;</span>
        <span class="s0">String: </span><span class="s5">5</span><span class="s2">,              </span><span class="s4">// &lt;string-token&gt;</span>
        <span class="s0">BadString: </span><span class="s5">6</span><span class="s2">,           </span><span class="s4">// &lt;bad-string-token&gt;</span>
        <span class="s0">Url: </span><span class="s5">7</span><span class="s2">,                 </span><span class="s4">// &lt;url-token&gt;</span>
        <span class="s0">BadUrl: </span><span class="s5">8</span><span class="s2">,              </span><span class="s4">// &lt;bad-url-token&gt;</span>
        <span class="s0">Delim: </span><span class="s5">9</span><span class="s2">,               </span><span class="s4">// &lt;delim-token&gt;</span>
        <span class="s0">Number: </span><span class="s5">10</span><span class="s2">,             </span><span class="s4">// &lt;number-token&gt;</span>
        <span class="s0">Percentage: </span><span class="s5">11</span><span class="s2">,         </span><span class="s4">// &lt;percentage-token&gt;</span>
        <span class="s0">Dimension: </span><span class="s5">12</span><span class="s2">,          </span><span class="s4">// &lt;dimension-token&gt;</span>
        <span class="s0">WhiteSpace: </span><span class="s5">13</span><span class="s2">,         </span><span class="s4">// &lt;whitespace-token&gt;</span>
        <span class="s0">CDO: </span><span class="s5">14</span><span class="s2">,                </span><span class="s4">// &lt;CDO-token&gt;</span>
        <span class="s0">CDC: </span><span class="s5">15</span><span class="s2">,                </span><span class="s4">// &lt;CDC-token&gt;</span>
        <span class="s0">Colon: </span><span class="s5">16</span><span class="s2">,              </span><span class="s4">// &lt;colon-token&gt;     :</span>
        <span class="s0">Semicolon: </span><span class="s5">17</span><span class="s2">,          </span><span class="s4">// &lt;semicolon-token&gt; ;</span>
        <span class="s0">Comma: </span><span class="s5">18</span><span class="s2">,              </span><span class="s4">// &lt;comma-token&gt;     ,</span>
        <span class="s0">LeftSquareBracket: </span><span class="s5">19</span><span class="s2">,  </span><span class="s4">// &lt;[-token&gt;</span>
        <span class="s0">RightSquareBracket: </span><span class="s5">20</span><span class="s2">, </span><span class="s4">// &lt;]-token&gt;</span>
        <span class="s0">LeftParenthesis: </span><span class="s5">21</span><span class="s2">,    </span><span class="s4">// &lt;(-token&gt;</span>
        <span class="s0">RightParenthesis: </span><span class="s5">22</span><span class="s2">,   </span><span class="s4">// &lt;)-token&gt;</span>
        <span class="s0">LeftCurlyBracket: </span><span class="s5">23</span><span class="s2">,   </span><span class="s4">// &lt;{-token&gt;</span>
        <span class="s0">RightCurlyBracket: </span><span class="s5">24</span><span class="s2">,  </span><span class="s4">// &lt;}-token&gt;</span>
        <span class="s0">Comment: </span><span class="s5">25</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">NAME = Object.keys(TYPE).reduce(</span><span class="s1">function</span><span class="s0">(result</span><span class="s2">, </span><span class="s0">key) {</span>
        <span class="s0">result[TYPE[key]] = key</span><span class="s2">;</span>
        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">, </span><span class="s0">{})</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">_const = {</span>
        <span class="s0">TYPE: TYPE</span><span class="s2">,</span>
        <span class="s0">NAME: NAME</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">EOF = </span><span class="s5">0</span><span class="s2">;</span>

    <span class="s4">// https://drafts.csswg.org/css-syntax-3/</span>
    <span class="s4">// § 4.2. Definitions</span>

    <span class="s4">// digit</span>
    <span class="s4">// A code point between U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9).</span>
    <span class="s1">function </span><span class="s0">isDigit(code) {</span>
        <span class="s1">return </span><span class="s0">code &gt;= </span><span class="s5">0x0030 </span><span class="s0">&amp;&amp; code &lt;= </span><span class="s5">0x0039</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// hex digit</span>
    <span class="s4">// A digit, or a code point between U+0041 LATIN CAPITAL LETTER A (A) and U+0046 LATIN CAPITAL LETTER F (F),</span>
    <span class="s4">// or a code point between U+0061 LATIN SMALL LETTER A (a) and U+0066 LATIN SMALL LETTER F (f).</span>
    <span class="s1">function </span><span class="s0">isHexDigit(code) {</span>
        <span class="s1">return </span><span class="s0">(</span>
            <span class="s0">isDigit(code) || </span><span class="s4">// 0 .. 9</span>
            <span class="s0">(code &gt;= </span><span class="s5">0x0041 </span><span class="s0">&amp;&amp; code &lt;= </span><span class="s5">0x0046</span><span class="s0">) || </span><span class="s4">// A .. F</span>
            <span class="s0">(code &gt;= </span><span class="s5">0x0061 </span><span class="s0">&amp;&amp; code &lt;= </span><span class="s5">0x0066</span><span class="s0">)    </span><span class="s4">// a .. f</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// uppercase letter</span>
    <span class="s4">// A code point between U+0041 LATIN CAPITAL LETTER A (A) and U+005A LATIN CAPITAL LETTER Z (Z).</span>
    <span class="s1">function </span><span class="s0">isUppercaseLetter(code) {</span>
        <span class="s1">return </span><span class="s0">code &gt;= </span><span class="s5">0x0041 </span><span class="s0">&amp;&amp; code &lt;= </span><span class="s5">0x005A</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// lowercase letter</span>
    <span class="s4">// A code point between U+0061 LATIN SMALL LETTER A (a) and U+007A LATIN SMALL LETTER Z (z).</span>
    <span class="s1">function </span><span class="s0">isLowercaseLetter(code) {</span>
        <span class="s1">return </span><span class="s0">code &gt;= </span><span class="s5">0x0061 </span><span class="s0">&amp;&amp; code &lt;= </span><span class="s5">0x007A</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// letter</span>
    <span class="s4">// An uppercase letter or a lowercase letter.</span>
    <span class="s1">function </span><span class="s0">isLetter(code) {</span>
        <span class="s1">return </span><span class="s0">isUppercaseLetter(code) || isLowercaseLetter(code)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// non-ASCII code point</span>
    <span class="s4">// A code point with a value equal to or greater than U+0080 &lt;control&gt;.</span>
    <span class="s1">function </span><span class="s0">isNonAscii(code) {</span>
        <span class="s1">return </span><span class="s0">code &gt;= </span><span class="s5">0x0080</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// name-start code point</span>
    <span class="s4">// A letter, a non-ASCII code point, or U+005F LOW LINE (_).</span>
    <span class="s1">function </span><span class="s0">isNameStart(code) {</span>
        <span class="s1">return </span><span class="s0">isLetter(code) || isNonAscii(code) || code === </span><span class="s5">0x005F</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// name code point</span>
    <span class="s4">// A name-start code point, a digit, or U+002D HYPHEN-MINUS (-).</span>
    <span class="s1">function </span><span class="s0">isName(code) {</span>
        <span class="s1">return </span><span class="s0">isNameStart(code) || isDigit(code) || code === </span><span class="s5">0x002D</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// non-printable code point</span>
    <span class="s4">// A code point between U+0000 NULL and U+0008 BACKSPACE, or U+000B LINE TABULATION,</span>
    <span class="s4">// or a code point between U+000E SHIFT OUT and U+001F INFORMATION SEPARATOR ONE, or U+007F DELETE.</span>
    <span class="s1">function </span><span class="s0">isNonPrintable(code) {</span>
        <span class="s1">return </span><span class="s0">(</span>
            <span class="s0">(code &gt;= </span><span class="s5">0x0000 </span><span class="s0">&amp;&amp; code &lt;= </span><span class="s5">0x0008</span><span class="s0">) ||</span>
            <span class="s0">(code === </span><span class="s5">0x000B</span><span class="s0">) ||</span>
            <span class="s0">(code &gt;= </span><span class="s5">0x000E </span><span class="s0">&amp;&amp; code &lt;= </span><span class="s5">0x001F</span><span class="s0">) ||</span>
            <span class="s0">(code === </span><span class="s5">0x007F</span><span class="s0">)</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// newline</span>
    <span class="s4">// U+000A LINE FEED. Note that U+000D CARRIAGE RETURN and U+000C FORM FEED are not included in this definition,</span>
    <span class="s4">// as they are converted to U+000A LINE FEED during preprocessing.</span>
    <span class="s4">// TODO: we doesn't do a preprocessing, so check a code point for U+000D CARRIAGE RETURN and U+000C FORM FEED</span>
    <span class="s1">function </span><span class="s0">isNewline(code) {</span>
        <span class="s1">return </span><span class="s0">code === </span><span class="s5">0x000A </span><span class="s0">|| code === </span><span class="s5">0x000D </span><span class="s0">|| code === </span><span class="s5">0x000C</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// whitespace</span>
    <span class="s4">// A newline, U+0009 CHARACTER TABULATION, or U+0020 SPACE.</span>
    <span class="s1">function </span><span class="s0">isWhiteSpace(code) {</span>
        <span class="s1">return </span><span class="s0">isNewline(code) || code === </span><span class="s5">0x0020 </span><span class="s0">|| code === </span><span class="s5">0x0009</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// § 4.3.8. Check if two code points are a valid escape</span>
    <span class="s1">function </span><span class="s0">isValidEscape(first</span><span class="s2">, </span><span class="s0">second) {</span>
        <span class="s4">// If the first code point is not U+005C REVERSE SOLIDUS (\), return false.</span>
        <span class="s1">if </span><span class="s0">(first !== </span><span class="s5">0x005C</span><span class="s0">) {</span>
            <span class="s1">return false</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// Otherwise, if the second code point is a newline or EOF, return false.</span>
        <span class="s1">if </span><span class="s0">(isNewline(second) || second === EOF) {</span>
            <span class="s1">return false</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// Otherwise, return true.</span>
        <span class="s1">return true</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// § 4.3.9. Check if three code points would start an identifier</span>
    <span class="s1">function </span><span class="s0">isIdentifierStart(first</span><span class="s2">, </span><span class="s0">second</span><span class="s2">, </span><span class="s0">third) {</span>
        <span class="s4">// Look at the first code point:</span>

        <span class="s4">// U+002D HYPHEN-MINUS</span>
        <span class="s1">if </span><span class="s0">(first === </span><span class="s5">0x002D</span><span class="s0">) {</span>
            <span class="s4">// If the second code point is a name-start code point or a U+002D HYPHEN-MINUS,</span>
            <span class="s4">// or the second and third code points are a valid escape, return true. Otherwise, return false.</span>
            <span class="s1">return </span><span class="s0">(</span>
                <span class="s0">isNameStart(second) ||</span>
                <span class="s0">second === </span><span class="s5">0x002D </span><span class="s0">||</span>
                <span class="s0">isValidEscape(second</span><span class="s2">, </span><span class="s0">third)</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// name-start code point</span>
        <span class="s1">if </span><span class="s0">(isNameStart(first)) {</span>
            <span class="s4">// Return true.</span>
            <span class="s1">return true</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// U+005C REVERSE SOLIDUS (\)</span>
        <span class="s1">if </span><span class="s0">(first === </span><span class="s5">0x005C</span><span class="s0">) {</span>
            <span class="s4">// If the first and second code points are a valid escape, return true. Otherwise, return false.</span>
            <span class="s1">return </span><span class="s0">isValidEscape(first</span><span class="s2">, </span><span class="s0">second)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// anything else</span>
        <span class="s4">// Return false.</span>
        <span class="s1">return false</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// § 4.3.10. Check if three code points would start a number</span>
    <span class="s1">function </span><span class="s0">isNumberStart(first</span><span class="s2">, </span><span class="s0">second</span><span class="s2">, </span><span class="s0">third) {</span>
        <span class="s4">// Look at the first code point:</span>

        <span class="s4">// U+002B PLUS SIGN (+)</span>
        <span class="s4">// U+002D HYPHEN-MINUS (-)</span>
        <span class="s1">if </span><span class="s0">(first === </span><span class="s5">0x002B </span><span class="s0">|| first === </span><span class="s5">0x002D</span><span class="s0">) {</span>
            <span class="s4">// If the second code point is a digit, return true.</span>
            <span class="s1">if </span><span class="s0">(isDigit(second)) {</span>
                <span class="s1">return </span><span class="s5">2</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// Otherwise, if the second code point is a U+002E FULL STOP (.)</span>
            <span class="s4">// and the third code point is a digit, return true.</span>
            <span class="s4">// Otherwise, return false.</span>
            <span class="s1">return </span><span class="s0">second === </span><span class="s5">0x002E </span><span class="s0">&amp;&amp; isDigit(third) ? </span><span class="s5">3 </span><span class="s0">: </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// U+002E FULL STOP (.)</span>
        <span class="s1">if </span><span class="s0">(first === </span><span class="s5">0x002E</span><span class="s0">) {</span>
            <span class="s4">// If the second code point is a digit, return true. Otherwise, return false.</span>
            <span class="s1">return </span><span class="s0">isDigit(second) ? </span><span class="s5">2 </span><span class="s0">: </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// digit</span>
        <span class="s1">if </span><span class="s0">(isDigit(first)) {</span>
            <span class="s4">// Return true.</span>
            <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// anything else</span>
        <span class="s4">// Return false.</span>
        <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">//</span>
    <span class="s4">// Misc</span>
    <span class="s4">//</span>

    <span class="s4">// detect BOM (https://en.wikipedia.org/wiki/Byte_order_mark)</span>
    <span class="s1">function </span><span class="s0">isBOM(code) {</span>
        <span class="s4">// UTF-16BE</span>
        <span class="s1">if </span><span class="s0">(code === </span><span class="s5">0xFEFF</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// UTF-16LE</span>
        <span class="s1">if </span><span class="s0">(code === </span><span class="s5">0xFFFE</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// Fast code category</span>
    <span class="s4">//</span>
    <span class="s4">// https://drafts.csswg.org/css-syntax/#tokenizer-definitions</span>
    <span class="s4">// &gt; non-ASCII code point</span>
    <span class="s4">// &gt;   A code point with a value equal to or greater than U+0080 &lt;control&gt;</span>
    <span class="s4">// &gt; name-start code point</span>
    <span class="s4">// &gt;   A letter, a non-ASCII code point, or U+005F LOW LINE (_).</span>
    <span class="s4">// &gt; name code point</span>
    <span class="s4">// &gt;   A name-start code point, a digit, or U+002D HYPHEN-MINUS (-)</span>
    <span class="s4">// That means only ASCII code points has a special meaning and we define a maps for 0..127 codes only</span>
    <span class="s1">var </span><span class="s0">CATEGORY = </span><span class="s1">new </span><span class="s0">Array(</span><span class="s5">0x80</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">charCodeCategory.Eof = </span><span class="s5">0x80</span><span class="s2">;</span>
    <span class="s0">charCodeCategory.WhiteSpace = </span><span class="s5">0x82</span><span class="s2">;</span>
    <span class="s0">charCodeCategory.Digit = </span><span class="s5">0x83</span><span class="s2">;</span>
    <span class="s0">charCodeCategory.NameStart = </span><span class="s5">0x84</span><span class="s2">;</span>
    <span class="s0">charCodeCategory.NonPrintable = </span><span class="s5">0x85</span><span class="s2">;</span>

    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; CATEGORY.length</span><span class="s2">; </span><span class="s0">i++) {</span>
        <span class="s1">switch </span><span class="s0">(</span><span class="s1">true</span><span class="s0">) {</span>
            <span class="s1">case </span><span class="s0">isWhiteSpace(i):</span>
                <span class="s0">CATEGORY[i] = charCodeCategory.WhiteSpace</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">isDigit(i):</span>
                <span class="s0">CATEGORY[i] = charCodeCategory.Digit</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">isNameStart(i):</span>
                <span class="s0">CATEGORY[i] = charCodeCategory.NameStart</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">isNonPrintable(i):</span>
                <span class="s0">CATEGORY[i] = charCodeCategory.NonPrintable</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">default</span><span class="s0">:</span>
                <span class="s0">CATEGORY[i] = i || charCodeCategory.Eof</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">charCodeCategory(code) {</span>
        <span class="s1">return </span><span class="s0">code &lt; </span><span class="s5">0x80 </span><span class="s0">? CATEGORY[code] : charCodeCategory.NameStart</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s0">charCodeDefinitions = {</span>
        <span class="s0">isDigit: isDigit</span><span class="s2">,</span>
        <span class="s0">isHexDigit: isHexDigit</span><span class="s2">,</span>
        <span class="s0">isUppercaseLetter: isUppercaseLetter</span><span class="s2">,</span>
        <span class="s0">isLowercaseLetter: isLowercaseLetter</span><span class="s2">,</span>
        <span class="s0">isLetter: isLetter</span><span class="s2">,</span>
        <span class="s0">isNonAscii: isNonAscii</span><span class="s2">,</span>
        <span class="s0">isNameStart: isNameStart</span><span class="s2">,</span>
        <span class="s0">isName: isName</span><span class="s2">,</span>
        <span class="s0">isNonPrintable: isNonPrintable</span><span class="s2">,</span>
        <span class="s0">isNewline: isNewline</span><span class="s2">,</span>
        <span class="s0">isWhiteSpace: isWhiteSpace</span><span class="s2">,</span>
        <span class="s0">isValidEscape: isValidEscape</span><span class="s2">,</span>
        <span class="s0">isIdentifierStart: isIdentifierStart</span><span class="s2">,</span>
        <span class="s0">isNumberStart: isNumberStart</span><span class="s2">,</span>

        <span class="s0">isBOM: isBOM</span><span class="s2">,</span>
        <span class="s0">charCodeCategory: charCodeCategory</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">isDigit$1 = charCodeDefinitions.isDigit</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isHexDigit$1 = charCodeDefinitions.isHexDigit</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isUppercaseLetter$1 = charCodeDefinitions.isUppercaseLetter</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isName$1 = charCodeDefinitions.isName</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isWhiteSpace$1 = charCodeDefinitions.isWhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isValidEscape$1 = charCodeDefinitions.isValidEscape</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">getCharCode(source</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s1">return </span><span class="s0">offset &lt; source.length ? source.charCodeAt(offset) : </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">getNewlineLength(source</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">code) {</span>
        <span class="s1">if </span><span class="s0">(code === </span><span class="s5">13 </span><span class="s6">/* \r */ </span><span class="s0">&amp;&amp; getCharCode(source</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">1</span><span class="s0">) === </span><span class="s5">10 </span><span class="s6">/* \n */</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s5">2</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">cmpChar(testStr</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">referenceCode) {</span>
        <span class="s1">var </span><span class="s0">code = testStr.charCodeAt(offset)</span><span class="s2">;</span>

        <span class="s4">// code.toLowerCase() for A..Z</span>
        <span class="s1">if </span><span class="s0">(isUppercaseLetter$1(code)) {</span>
            <span class="s0">code = code | </span><span class="s5">32</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">code === referenceCode</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">cmpStr(testStr</span><span class="s2">, </span><span class="s0">start</span><span class="s2">, </span><span class="s0">end</span><span class="s2">, </span><span class="s0">referenceStr) {</span>
        <span class="s1">if </span><span class="s0">(end - start !== referenceStr.length) {</span>
            <span class="s1">return false</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(start &lt; </span><span class="s5">0 </span><span class="s0">|| end &gt; testStr.length) {</span>
            <span class="s1">return false</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = start</span><span class="s2">; </span><span class="s0">i &lt; end</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s1">var </span><span class="s0">testCode = testStr.charCodeAt(i)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">referenceCode = referenceStr.charCodeAt(i - start)</span><span class="s2">;</span>

            <span class="s4">// testCode.toLowerCase() for A..Z</span>
            <span class="s1">if </span><span class="s0">(isUppercaseLetter$1(testCode)) {</span>
                <span class="s0">testCode = testCode | </span><span class="s5">32</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(testCode !== referenceCode) {</span>
                <span class="s1">return false</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return true</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">findWhiteSpaceStart(source</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">offset &gt;= </span><span class="s5">0</span><span class="s2">; </span><span class="s0">offset--) {</span>
            <span class="s1">if </span><span class="s0">(!isWhiteSpace$1(source.charCodeAt(offset))) {</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">offset + </span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">findWhiteSpaceEnd(source</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">offset &lt; source.length</span><span class="s2">; </span><span class="s0">offset++) {</span>
            <span class="s1">if </span><span class="s0">(!isWhiteSpace$1(source.charCodeAt(offset))) {</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">offset</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">findDecimalNumberEnd(source</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">offset &lt; source.length</span><span class="s2">; </span><span class="s0">offset++) {</span>
            <span class="s1">if </span><span class="s0">(!isDigit$1(source.charCodeAt(offset))) {</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">offset</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// § 4.3.7. Consume an escaped code point</span>
    <span class="s1">function </span><span class="s0">consumeEscaped(source</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s4">// It assumes that the U+005C REVERSE SOLIDUS (\) has already been consumed and</span>
        <span class="s4">// that the next input code point has already been verified to be part of a valid escape.</span>
        <span class="s0">offset += </span><span class="s5">2</span><span class="s2">;</span>

        <span class="s4">// hex digit</span>
        <span class="s1">if </span><span class="s0">(isHexDigit$1(getCharCode(source</span><span class="s2">, </span><span class="s0">offset - </span><span class="s5">1</span><span class="s0">))) {</span>
            <span class="s4">// Consume as many hex digits as possible, but no more than 5.</span>
            <span class="s4">// Note that this means 1-6 hex digits have been consumed in total.</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">maxOffset = Math.min(source.length</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">5</span><span class="s0">)</span><span class="s2">; </span><span class="s0">offset &lt; maxOffset</span><span class="s2">; </span><span class="s0">offset++) {</span>
                <span class="s1">if </span><span class="s0">(!isHexDigit$1(getCharCode(source</span><span class="s2">, </span><span class="s0">offset))) {</span>
                    <span class="s1">break</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s4">// If the next input code point is whitespace, consume it as well.</span>
            <span class="s1">var </span><span class="s0">code = getCharCode(source</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(isWhiteSpace$1(code)) {</span>
                <span class="s0">offset += getNewlineLength(source</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">code)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">offset</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// §4.3.11. Consume a name</span>
    <span class="s4">// Note: This algorithm does not do the verification of the first few code points that are necessary</span>
    <span class="s4">// to ensure the returned code points would constitute an &lt;ident-token&gt;. If that is the intended use,</span>
    <span class="s4">// ensure that the stream starts with an identifier before calling this algorithm.</span>
    <span class="s1">function </span><span class="s0">consumeName(source</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s4">// Let result initially be an empty string.</span>
        <span class="s4">// Repeatedly consume the next input code point from the stream:</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">offset &lt; source.length</span><span class="s2">; </span><span class="s0">offset++) {</span>
            <span class="s1">var </span><span class="s0">code = source.charCodeAt(offset)</span><span class="s2">;</span>

            <span class="s4">// name code point</span>
            <span class="s1">if </span><span class="s0">(isName$1(code)) {</span>
                <span class="s4">// Append the code point to result.</span>
                <span class="s1">continue</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// the stream starts with a valid escape</span>
            <span class="s1">if </span><span class="s0">(isValidEscape$1(code</span><span class="s2">, </span><span class="s0">getCharCode(source</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">1</span><span class="s0">))) {</span>
                <span class="s4">// Consume an escaped code point. Append the returned code point to result.</span>
                <span class="s0">offset = consumeEscaped(source</span><span class="s2">, </span><span class="s0">offset) - </span><span class="s5">1</span><span class="s2">;</span>
                <span class="s1">continue</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// anything else</span>
            <span class="s4">// Reconsume the current input code point. Return result.</span>
            <span class="s1">break</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">offset</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// §4.3.12. Consume a number</span>
    <span class="s1">function </span><span class="s0">consumeNumber(source</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s1">var </span><span class="s0">code = source.charCodeAt(offset)</span><span class="s2">;</span>

        <span class="s4">// 2. If the next input code point is U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-),</span>
        <span class="s4">// consume it and append it to repr.</span>
        <span class="s1">if </span><span class="s0">(code === </span><span class="s5">0x002B </span><span class="s0">|| code === </span><span class="s5">0x002D</span><span class="s0">) {</span>
            <span class="s0">code = source.charCodeAt(offset += </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// 3. While the next input code point is a digit, consume it and append it to repr.</span>
        <span class="s1">if </span><span class="s0">(isDigit$1(code)) {</span>
            <span class="s0">offset = findDecimalNumberEnd(source</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">code = source.charCodeAt(offset)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// 4. If the next 2 input code points are U+002E FULL STOP (.) followed by a digit, then:</span>
        <span class="s1">if </span><span class="s0">(code === </span><span class="s5">0x002E </span><span class="s0">&amp;&amp; isDigit$1(source.charCodeAt(offset + </span><span class="s5">1</span><span class="s0">))) {</span>
            <span class="s4">// 4.1 Consume them.</span>
            <span class="s4">// 4.2 Append them to repr.</span>
            <span class="s0">code = source.charCodeAt(offset += </span><span class="s5">2</span><span class="s0">)</span><span class="s2">;</span>

            <span class="s4">// 4.3 Set type to &quot;number&quot;.</span>
            <span class="s4">// TODO</span>

            <span class="s4">// 4.4 While the next input code point is a digit, consume it and append it to repr.</span>

            <span class="s0">offset = findDecimalNumberEnd(source</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// 5. If the next 2 or 3 input code points are U+0045 LATIN CAPITAL LETTER E (E)</span>
        <span class="s4">// or U+0065 LATIN SMALL LETTER E (e), ... , followed by a digit, then:</span>
        <span class="s1">if </span><span class="s0">(cmpChar(source</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s5">101 </span><span class="s6">/* e */</span><span class="s0">)) {</span>
            <span class="s1">var </span><span class="s0">sign = </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">code = source.charCodeAt(offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>

            <span class="s4">// ... optionally followed by U+002D HYPHEN-MINUS (-) or U+002B PLUS SIGN (+) ...</span>
            <span class="s1">if </span><span class="s0">(code === </span><span class="s5">0x002D </span><span class="s0">|| code === </span><span class="s5">0x002B</span><span class="s0">) {</span>
                <span class="s0">sign = </span><span class="s5">1</span><span class="s2">;</span>
                <span class="s0">code = source.charCodeAt(offset + </span><span class="s5">2</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// ... followed by a digit</span>
            <span class="s1">if </span><span class="s0">(isDigit$1(code)) {</span>
                <span class="s4">// 5.1 Consume them.</span>
                <span class="s4">// 5.2 Append them to repr.</span>

                <span class="s4">// 5.3 Set type to &quot;number&quot;.</span>
                <span class="s4">// TODO</span>

                <span class="s4">// 5.4 While the next input code point is a digit, consume it and append it to repr.</span>
                <span class="s0">offset = findDecimalNumberEnd(source</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">1 </span><span class="s0">+ sign + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">offset</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// § 4.3.14. Consume the remnants of a bad url</span>
    <span class="s4">// ... its sole use is to consume enough of the input stream to reach a recovery point</span>
    <span class="s4">// where normal tokenizing can resume.</span>
    <span class="s1">function </span><span class="s0">consumeBadUrlRemnants(source</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s4">// Repeatedly consume the next input code point from the stream:</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">offset &lt; source.length</span><span class="s2">; </span><span class="s0">offset++) {</span>
            <span class="s1">var </span><span class="s0">code = source.charCodeAt(offset)</span><span class="s2">;</span>

            <span class="s4">// U+0029 RIGHT PARENTHESIS ())</span>
            <span class="s4">// EOF</span>
            <span class="s1">if </span><span class="s0">(code === </span><span class="s5">0x0029</span><span class="s0">) {</span>
                <span class="s4">// Return.</span>
                <span class="s0">offset++</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(isValidEscape$1(code</span><span class="s2">, </span><span class="s0">getCharCode(source</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">1</span><span class="s0">))) {</span>
                <span class="s4">// Consume an escaped code point.</span>
                <span class="s4">// Note: This allows an escaped right parenthesis (&quot;\)&quot;) to be encountered</span>
                <span class="s4">// without ending the &lt;bad-url-token&gt;. This is otherwise identical to</span>
                <span class="s4">// the &quot;anything else&quot; clause.</span>
                <span class="s0">offset = consumeEscaped(source</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">offset</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">utils = {</span>
        <span class="s0">consumeEscaped: consumeEscaped</span><span class="s2">,</span>
        <span class="s0">consumeName: consumeName</span><span class="s2">,</span>
        <span class="s0">consumeNumber: consumeNumber</span><span class="s2">,</span>
        <span class="s0">consumeBadUrlRemnants: consumeBadUrlRemnants</span><span class="s2">,</span>

        <span class="s0">cmpChar: cmpChar</span><span class="s2">,</span>
        <span class="s0">cmpStr: cmpStr</span><span class="s2">,</span>

        <span class="s0">getNewlineLength: getNewlineLength</span><span class="s2">,</span>
        <span class="s0">findWhiteSpaceStart: findWhiteSpaceStart</span><span class="s2">,</span>
        <span class="s0">findWhiteSpaceEnd: findWhiteSpaceEnd</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$1 = _const.TYPE</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NAME$1 = _const.NAME</span><span class="s2">;</span>


    <span class="s1">var </span><span class="s0">cmpStr$1 = utils.cmpStr</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">EOF$1 = TYPE$1.EOF</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">WHITESPACE = TYPE$1.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMMENT = TYPE$1.Comment</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">OFFSET_MASK = </span><span class="s5">0x00FFFFFF</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE_SHIFT = </span><span class="s5">24</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TokenStream = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">this</span><span class="s0">.offsetAndType = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.balance = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s1">this</span><span class="s0">.reset()</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">TokenStream.prototype = {</span>
        <span class="s0">reset: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">this</span><span class="s0">.eof = </span><span class="s1">false</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.tokenIndex = -</span><span class="s5">1</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.tokenType = </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.tokenStart = </span><span class="s1">this</span><span class="s0">.firstCharOffset</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.tokenEnd = </span><span class="s1">this</span><span class="s0">.firstCharOffset</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">lookupType: </span><span class="s1">function</span><span class="s0">(offset) {</span>
            <span class="s0">offset += </span><span class="s1">this</span><span class="s0">.tokenIndex</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(offset &lt; </span><span class="s1">this</span><span class="s0">.tokenCount) {</span>
                <span class="s1">return this</span><span class="s0">.offsetAndType[offset] &gt;&gt; TYPE_SHIFT</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">EOF$1</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">lookupOffset: </span><span class="s1">function</span><span class="s0">(offset) {</span>
            <span class="s0">offset += </span><span class="s1">this</span><span class="s0">.tokenIndex</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(offset &lt; </span><span class="s1">this</span><span class="s0">.tokenCount) {</span>
                <span class="s1">return this</span><span class="s0">.offsetAndType[offset - </span><span class="s5">1</span><span class="s0">] &amp; OFFSET_MASK</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return this</span><span class="s0">.source.length</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">lookupValue: </span><span class="s1">function</span><span class="s0">(offset</span><span class="s2">, </span><span class="s0">referenceStr) {</span>
            <span class="s0">offset += </span><span class="s1">this</span><span class="s0">.tokenIndex</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(offset &lt; </span><span class="s1">this</span><span class="s0">.tokenCount) {</span>
                <span class="s1">return </span><span class="s0">cmpStr$1(</span>
                    <span class="s1">this</span><span class="s0">.source</span><span class="s2">,</span>
                    <span class="s1">this</span><span class="s0">.offsetAndType[offset - </span><span class="s5">1</span><span class="s0">] &amp; OFFSET_MASK</span><span class="s2">,</span>
                    <span class="s1">this</span><span class="s0">.offsetAndType[offset] &amp; OFFSET_MASK</span><span class="s2">,</span>
                    <span class="s0">referenceStr</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return false</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">getTokenStart: </span><span class="s1">function</span><span class="s0">(tokenIndex) {</span>
            <span class="s1">if </span><span class="s0">(tokenIndex === </span><span class="s1">this</span><span class="s0">.tokenIndex) {</span>
                <span class="s1">return this</span><span class="s0">.tokenStart</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(tokenIndex &gt; </span><span class="s5">0</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s0">tokenIndex &lt; </span><span class="s1">this</span><span class="s0">.tokenCount</span>
                    <span class="s0">? </span><span class="s1">this</span><span class="s0">.offsetAndType[tokenIndex - </span><span class="s5">1</span><span class="s0">] &amp; OFFSET_MASK</span>
                    <span class="s0">: </span><span class="s1">this</span><span class="s0">.offsetAndType[</span><span class="s1">this</span><span class="s0">.tokenCount] &amp; OFFSET_MASK</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return this</span><span class="s0">.firstCharOffset</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s4">// TODO: -&gt; skipUntilBalanced</span>
        <span class="s0">getRawLength: </span><span class="s1">function</span><span class="s0">(startToken</span><span class="s2">, </span><span class="s0">mode) {</span>
            <span class="s1">var </span><span class="s0">cursor = startToken</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">balanceEnd</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">offset = </span><span class="s1">this</span><span class="s0">.offsetAndType[Math.max(cursor - </span><span class="s5">1</span><span class="s2">, </span><span class="s5">0</span><span class="s0">)] &amp; OFFSET_MASK</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">type</span><span class="s2">;</span>

            <span class="s0">loop:</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">cursor &lt; </span><span class="s1">this</span><span class="s0">.tokenCount</span><span class="s2">; </span><span class="s0">cursor++) {</span>
                <span class="s0">balanceEnd = </span><span class="s1">this</span><span class="s0">.balance[cursor]</span><span class="s2">;</span>

                <span class="s4">// stop scanning on balance edge that points to offset before start token</span>
                <span class="s1">if </span><span class="s0">(balanceEnd &lt; startToken) {</span>
                    <span class="s1">break </span><span class="s0">loop</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">type = </span><span class="s1">this</span><span class="s0">.offsetAndType[cursor] &gt;&gt; TYPE_SHIFT</span><span class="s2">;</span>

                <span class="s4">// check token is stop type</span>
                <span class="s1">switch </span><span class="s0">(mode(type</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.source</span><span class="s2">, </span><span class="s0">offset)) {</span>
                    <span class="s1">case </span><span class="s5">1</span><span class="s0">:</span>
                        <span class="s1">break </span><span class="s0">loop</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s5">2</span><span class="s0">:</span>
                        <span class="s0">cursor++</span><span class="s2">;</span>
                        <span class="s1">break </span><span class="s0">loop</span><span class="s2">;</span>

                    <span class="s1">default</span><span class="s0">:</span>
                        <span class="s4">// fast forward to the end of balanced block</span>
                        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.balance[balanceEnd] === cursor) {</span>
                            <span class="s0">cursor = balanceEnd</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s0">offset = </span><span class="s1">this</span><span class="s0">.offsetAndType[cursor] &amp; OFFSET_MASK</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">cursor - </span><span class="s1">this</span><span class="s0">.tokenIndex</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">isBalanceEdge: </span><span class="s1">function</span><span class="s0">(pos) {</span>
            <span class="s1">return this</span><span class="s0">.balance[</span><span class="s1">this</span><span class="s0">.tokenIndex] &lt; pos</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">isDelim: </span><span class="s1">function</span><span class="s0">(code</span><span class="s2">, </span><span class="s0">offset) {</span>
            <span class="s1">if </span><span class="s0">(offset) {</span>
                <span class="s1">return </span><span class="s0">(</span>
                    <span class="s1">this</span><span class="s0">.lookupType(offset) === TYPE$1.Delim &amp;&amp;</span>
                    <span class="s1">this</span><span class="s0">.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.lookupOffset(offset)) === code</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">(</span>
                <span class="s1">this</span><span class="s0">.tokenType === TYPE$1.Delim &amp;&amp;</span>
                <span class="s1">this</span><span class="s0">.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.tokenStart) === code</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">getTokenValue: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return this</span><span class="s0">.source.substring(</span><span class="s1">this</span><span class="s0">.tokenStart</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.tokenEnd)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">getTokenLength: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return this</span><span class="s0">.tokenEnd - </span><span class="s1">this</span><span class="s0">.tokenStart</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">substrToCursor: </span><span class="s1">function</span><span class="s0">(start) {</span>
            <span class="s1">return this</span><span class="s0">.source.substring(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.tokenStart)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">skipWS: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s1">this</span><span class="s0">.tokenIndex</span><span class="s2">, </span><span class="s0">skipTokenCount = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; </span><span class="s1">this</span><span class="s0">.tokenCount</span><span class="s2">; </span><span class="s0">i++</span><span class="s2">, </span><span class="s0">skipTokenCount++) {</span>
                <span class="s1">if </span><span class="s0">((</span><span class="s1">this</span><span class="s0">.offsetAndType[i] &gt;&gt; TYPE_SHIFT) !== WHITESPACE) {</span>
                    <span class="s1">break</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(skipTokenCount &gt; </span><span class="s5">0</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.skip(skipTokenCount)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">skipSC: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">while </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.tokenType === WHITESPACE || </span><span class="s1">this</span><span class="s0">.tokenType === COMMENT) {</span>
                <span class="s1">this</span><span class="s0">.next()</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">skip: </span><span class="s1">function</span><span class="s0">(tokenCount) {</span>
            <span class="s1">var </span><span class="s0">next = </span><span class="s1">this</span><span class="s0">.tokenIndex + tokenCount</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(next &lt; </span><span class="s1">this</span><span class="s0">.tokenCount) {</span>
                <span class="s1">this</span><span class="s0">.tokenIndex = next</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.tokenStart = </span><span class="s1">this</span><span class="s0">.offsetAndType[next - </span><span class="s5">1</span><span class="s0">] &amp; OFFSET_MASK</span><span class="s2">;</span>
                <span class="s0">next = </span><span class="s1">this</span><span class="s0">.offsetAndType[next]</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.tokenType = next &gt;&gt; TYPE_SHIFT</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.tokenEnd = next &amp; OFFSET_MASK</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">.tokenIndex = </span><span class="s1">this</span><span class="s0">.tokenCount</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.next()</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">next: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">next = </span><span class="s1">this</span><span class="s0">.tokenIndex + </span><span class="s5">1</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(next &lt; </span><span class="s1">this</span><span class="s0">.tokenCount) {</span>
                <span class="s1">this</span><span class="s0">.tokenIndex = next</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.tokenStart = </span><span class="s1">this</span><span class="s0">.tokenEnd</span><span class="s2">;</span>
                <span class="s0">next = </span><span class="s1">this</span><span class="s0">.offsetAndType[next]</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.tokenType = next &gt;&gt; TYPE_SHIFT</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.tokenEnd = next &amp; OFFSET_MASK</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">.tokenIndex = </span><span class="s1">this</span><span class="s0">.tokenCount</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.eof = </span><span class="s1">true</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.tokenType = EOF$1</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.tokenStart = </span><span class="s1">this</span><span class="s0">.tokenEnd = </span><span class="s1">this</span><span class="s0">.source.length</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">forEachToken(fn) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">, </span><span class="s0">offset = </span><span class="s1">this</span><span class="s0">.firstCharOffset</span><span class="s2">; </span><span class="s0">i &lt; </span><span class="s1">this</span><span class="s0">.tokenCount</span><span class="s2">; </span><span class="s0">i++) {</span>
                <span class="s1">var </span><span class="s0">start = offset</span><span class="s2">;</span>
                <span class="s1">var </span><span class="s0">item = </span><span class="s1">this</span><span class="s0">.offsetAndType[i]</span><span class="s2">;</span>
                <span class="s1">var </span><span class="s0">end = item &amp; OFFSET_MASK</span><span class="s2">;</span>
                <span class="s1">var </span><span class="s0">type = item &gt;&gt; TYPE_SHIFT</span><span class="s2">;</span>

                <span class="s0">offset = end</span><span class="s2">;</span>

                <span class="s0">fn(type</span><span class="s2">, </span><span class="s0">start</span><span class="s2">, </span><span class="s0">end</span><span class="s2">, </span><span class="s0">i)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">dump() {</span>
            <span class="s1">var </span><span class="s0">tokens = </span><span class="s1">new </span><span class="s0">Array(</span><span class="s1">this</span><span class="s0">.tokenCount)</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.forEachToken((type</span><span class="s2">, </span><span class="s0">start</span><span class="s2">, </span><span class="s0">end</span><span class="s2">, </span><span class="s0">index) =&gt; {</span>
                <span class="s0">tokens[index] = {</span>
                    <span class="s0">idx: index</span><span class="s2">,</span>
                    <span class="s0">type: NAME$1[type]</span><span class="s2">,</span>
                    <span class="s0">chunk: </span><span class="s1">this</span><span class="s0">.source.substring(start</span><span class="s2">, </span><span class="s0">end)</span><span class="s2">,</span>
                    <span class="s0">balance: </span><span class="s1">this</span><span class="s0">.balance[index]</span>
                <span class="s0">}</span><span class="s2">;</span>
            <span class="s0">})</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">tokens</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TokenStream_1 = TokenStream</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">noop(value) {</span>
        <span class="s1">return </span><span class="s0">value</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">generateMultiplier(multiplier) {</span>
        <span class="s1">if </span><span class="s0">(multiplier.min === </span><span class="s5">0 </span><span class="s0">&amp;&amp; multiplier.max === </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s3">'*'</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(multiplier.min === </span><span class="s5">0 </span><span class="s0">&amp;&amp; multiplier.max === </span><span class="s5">1</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s3">'?'</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(multiplier.min === </span><span class="s5">1 </span><span class="s0">&amp;&amp; multiplier.max === </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s0">multiplier.comma ? </span><span class="s3">'#' </span><span class="s0">: </span><span class="s3">'+'</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(multiplier.min === </span><span class="s5">1 </span><span class="s0">&amp;&amp; multiplier.max === </span><span class="s5">1</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s3">''</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">(</span>
            <span class="s0">(multiplier.comma ? </span><span class="s3">'#' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">) +</span>
            <span class="s0">(multiplier.min === multiplier.max</span>
                <span class="s0">? </span><span class="s3">'{' </span><span class="s0">+ multiplier.min + </span><span class="s3">'}'</span>
                <span class="s0">: </span><span class="s3">'{' </span><span class="s0">+ multiplier.min + </span><span class="s3">',' </span><span class="s0">+ (multiplier.max !== </span><span class="s5">0 </span><span class="s0">? multiplier.max : </span><span class="s3">''</span><span class="s0">) + </span><span class="s3">'}'</span>
            <span class="s0">)</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">generateTypeOpts(node) {</span>
        <span class="s1">switch </span><span class="s0">(node.type) {</span>
            <span class="s1">case </span><span class="s3">'Range'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">(</span>
                    <span class="s3">' [' </span><span class="s0">+</span>
                    <span class="s0">(node.min === </span><span class="s1">null </span><span class="s0">? </span><span class="s3">'-∞' </span><span class="s0">: node.min) +</span>
                    <span class="s3">',' </span><span class="s0">+</span>
                    <span class="s0">(node.max === </span><span class="s1">null </span><span class="s0">? </span><span class="s3">'∞' </span><span class="s0">: node.max) +</span>
                    <span class="s3">']'</span>
                <span class="s0">)</span><span class="s2">;</span>

            <span class="s1">default</span><span class="s0">:</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Unknown node type `' </span><span class="s0">+ node.type + </span><span class="s3">'`'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">generateSequence(node</span><span class="s2">, </span><span class="s0">decorate</span><span class="s2">, </span><span class="s0">forceBraces</span><span class="s2">, </span><span class="s0">compact) {</span>
        <span class="s1">var </span><span class="s0">combinator = node.combinator === </span><span class="s3">' ' </span><span class="s0">|| compact ? node.combinator : </span><span class="s3">' ' </span><span class="s0">+ node.combinator + </span><span class="s3">' '</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">result = node.terms.map(</span><span class="s1">function</span><span class="s0">(term) {</span>
            <span class="s1">return </span><span class="s0">generate(term</span><span class="s2">, </span><span class="s0">decorate</span><span class="s2">, </span><span class="s0">forceBraces</span><span class="s2">, </span><span class="s0">compact)</span><span class="s2">;</span>
        <span class="s0">}).join(combinator)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(node.explicit || forceBraces) {</span>
            <span class="s0">result = (compact || result[</span><span class="s5">0</span><span class="s0">] === </span><span class="s3">',' </span><span class="s0">? </span><span class="s3">'[' </span><span class="s0">: </span><span class="s3">'[ '</span><span class="s0">) + result + (compact ? </span><span class="s3">']' </span><span class="s0">: </span><span class="s3">' ]'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">generate(node</span><span class="s2">, </span><span class="s0">decorate</span><span class="s2">, </span><span class="s0">forceBraces</span><span class="s2">, </span><span class="s0">compact) {</span>
        <span class="s1">var </span><span class="s0">result</span><span class="s2">;</span>

        <span class="s1">switch </span><span class="s0">(node.type) {</span>
            <span class="s1">case </span><span class="s3">'Group'</span><span class="s0">:</span>
                <span class="s0">result =</span>
                    <span class="s0">generateSequence(node</span><span class="s2">, </span><span class="s0">decorate</span><span class="s2">, </span><span class="s0">forceBraces</span><span class="s2">, </span><span class="s0">compact) +</span>
                    <span class="s0">(node.disallowEmpty ? </span><span class="s3">'!' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Multiplier'</span><span class="s0">:</span>
                <span class="s4">// return since node is a composition</span>
                <span class="s1">return </span><span class="s0">(</span>
                    <span class="s0">generate(node.term</span><span class="s2">, </span><span class="s0">decorate</span><span class="s2">, </span><span class="s0">forceBraces</span><span class="s2">, </span><span class="s0">compact) +</span>
                    <span class="s0">decorate(generateMultiplier(node)</span><span class="s2">, </span><span class="s0">node)</span>
                <span class="s0">)</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Type'</span><span class="s0">:</span>
                <span class="s0">result = </span><span class="s3">'&lt;' </span><span class="s0">+ node.name + (node.opts ? decorate(generateTypeOpts(node.opts)</span><span class="s2">, </span><span class="s0">node.opts) : </span><span class="s3">''</span><span class="s0">) + </span><span class="s3">'&gt;'</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Property'</span><span class="s0">:</span>
                <span class="s0">result = </span><span class="s3">'&lt;</span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ node.name + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">&gt;'</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Keyword'</span><span class="s0">:</span>
                <span class="s0">result = node.name</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'AtKeyword'</span><span class="s0">:</span>
                <span class="s0">result = </span><span class="s3">'@' </span><span class="s0">+ node.name</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Function'</span><span class="s0">:</span>
                <span class="s0">result = node.name + </span><span class="s3">'('</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'String'</span><span class="s0">:</span>
            <span class="s1">case </span><span class="s3">'Token'</span><span class="s0">:</span>
                <span class="s0">result = node.value</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Comma'</span><span class="s0">:</span>
                <span class="s0">result = </span><span class="s3">','</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">default</span><span class="s0">:</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Unknown node type `' </span><span class="s0">+ node.type + </span><span class="s3">'`'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">decorate(result</span><span class="s2">, </span><span class="s0">node)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">generate_1 = </span><span class="s1">function</span><span class="s0">(node</span><span class="s2">, </span><span class="s0">options) {</span>
        <span class="s1">var </span><span class="s0">decorate = noop</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">forceBraces = </span><span class="s1">false</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">compact = </span><span class="s1">false</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options === </span><span class="s3">'function'</span><span class="s0">) {</span>
            <span class="s0">decorate = options</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(options) {</span>
            <span class="s0">forceBraces = Boolean(options.forceBraces)</span><span class="s2">;</span>
            <span class="s0">compact = Boolean(options.compact)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options.decorate === </span><span class="s3">'function'</span><span class="s0">) {</span>
                <span class="s0">decorate = options.decorate</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">generate(node</span><span class="s2">, </span><span class="s0">decorate</span><span class="s2">, </span><span class="s0">forceBraces</span><span class="s2">, </span><span class="s0">compact)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">const </span><span class="s0">defaultLoc = { offset: </span><span class="s5">0</span><span class="s2">, </span><span class="s0">line: </span><span class="s5">1</span><span class="s2">, </span><span class="s0">column: </span><span class="s5">1 </span><span class="s0">}</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">locateMismatch(matchResult</span><span class="s2">, </span><span class="s0">node) {</span>
        <span class="s1">const </span><span class="s0">tokens = matchResult.tokens</span><span class="s2">;</span>
        <span class="s1">const </span><span class="s0">longestMatch = matchResult.longestMatch</span><span class="s2">;</span>
        <span class="s1">const </span><span class="s0">mismatchNode = longestMatch &lt; tokens.length ? tokens[longestMatch].node || </span><span class="s1">null </span><span class="s0">: </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">const </span><span class="s0">badNode = mismatchNode !== node ? mismatchNode : </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">let </span><span class="s0">mismatchOffset = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">let </span><span class="s0">mismatchLength = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">let </span><span class="s0">entries = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">let </span><span class="s0">css = </span><span class="s3">''</span><span class="s2">;</span>
        <span class="s1">let </span><span class="s0">start</span><span class="s2">;</span>
        <span class="s1">let </span><span class="s0">end</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; tokens.length</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s1">const </span><span class="s0">token = tokens[i].value</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(i === longestMatch) {</span>
                <span class="s0">mismatchLength = token.length</span><span class="s2">;</span>
                <span class="s0">mismatchOffset = css.length</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(badNode !== </span><span class="s1">null </span><span class="s0">&amp;&amp; tokens[i].node === badNode) {</span>
                <span class="s1">if </span><span class="s0">(i &lt;= longestMatch) {</span>
                    <span class="s0">entries++</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">entries = </span><span class="s5">0</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s0">css += token</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(longestMatch === tokens.length || entries &gt; </span><span class="s5">1</span><span class="s0">) { </span><span class="s4">// last</span>
            <span class="s0">start = fromLoc(badNode || node</span><span class="s2">, </span><span class="s3">'end'</span><span class="s0">) || buildLoc(defaultLoc</span><span class="s2">, </span><span class="s0">css)</span><span class="s2">;</span>
            <span class="s0">end = buildLoc(start)</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">start = fromLoc(badNode</span><span class="s2">, </span><span class="s3">'start'</span><span class="s0">) ||</span>
                <span class="s0">buildLoc(fromLoc(node</span><span class="s2">, </span><span class="s3">'start'</span><span class="s0">) || defaultLoc</span><span class="s2">, </span><span class="s0">css.slice(</span><span class="s5">0</span><span class="s2">, </span><span class="s0">mismatchOffset))</span><span class="s2">;</span>
            <span class="s0">end = fromLoc(badNode</span><span class="s2">, </span><span class="s3">'end'</span><span class="s0">) ||</span>
                <span class="s0">buildLoc(start</span><span class="s2">, </span><span class="s0">css.substr(mismatchOffset</span><span class="s2">, </span><span class="s0">mismatchLength))</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">css</span><span class="s2">,</span>
            <span class="s0">mismatchOffset</span><span class="s2">,</span>
            <span class="s0">mismatchLength</span><span class="s2">,</span>
            <span class="s0">start</span><span class="s2">,</span>
            <span class="s0">end</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">fromLoc(node</span><span class="s2">, </span><span class="s0">point) {</span>
        <span class="s1">const </span><span class="s0">value = node &amp;&amp; node.loc &amp;&amp; node.loc[point]</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(value) {</span>
            <span class="s1">return </span><span class="s3">'line' </span><span class="s1">in </span><span class="s0">value ? buildLoc(value) : value</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return null</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">buildLoc({ offset</span><span class="s2">, </span><span class="s0">line</span><span class="s2">, </span><span class="s0">column }</span><span class="s2">, </span><span class="s0">extra) {</span>
        <span class="s1">const </span><span class="s0">loc = {</span>
            <span class="s0">offset</span><span class="s2">,</span>
            <span class="s0">line</span><span class="s2">,</span>
            <span class="s0">column</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(extra) {</span>
            <span class="s1">const </span><span class="s0">lines = extra.split(</span><span class="s5">/\n|\r\n?|\f/</span><span class="s0">)</span><span class="s2">;</span>

            <span class="s0">loc.offset += extra.length</span><span class="s2">;</span>
            <span class="s0">loc.line += lines.length - </span><span class="s5">1</span><span class="s2">;</span>
            <span class="s0">loc.column = lines.length === </span><span class="s5">1 </span><span class="s0">? loc.column + extra.length : lines.pop().length + </span><span class="s5">1</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">loc</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">const </span><span class="s0">SyntaxReferenceError = </span><span class="s1">function</span><span class="s0">(type</span><span class="s2">, </span><span class="s0">referenceName) {</span>
        <span class="s1">const </span><span class="s0">error = createCustomError(</span>
            <span class="s3">'SyntaxReferenceError'</span><span class="s2">,</span>
            <span class="s0">type + (referenceName ? </span><span class="s3">' `' </span><span class="s0">+ referenceName + </span><span class="s3">'`' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">)</span>
        <span class="s0">)</span><span class="s2">;</span>

        <span class="s0">error.reference = referenceName</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">error</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">const </span><span class="s0">SyntaxMatchError = </span><span class="s1">function</span><span class="s0">(message</span><span class="s2">, </span><span class="s0">syntax</span><span class="s2">, </span><span class="s0">node</span><span class="s2">, </span><span class="s0">matchResult) {</span>
        <span class="s1">const </span><span class="s0">error = createCustomError(</span><span class="s3">'SyntaxMatchError'</span><span class="s2">, </span><span class="s0">message)</span><span class="s2">;</span>
        <span class="s1">const </span><span class="s0">{</span>
            <span class="s0">css</span><span class="s2">,</span>
            <span class="s0">mismatchOffset</span><span class="s2">,</span>
            <span class="s0">mismatchLength</span><span class="s2">,</span>
            <span class="s0">start</span><span class="s2">,</span>
            <span class="s0">end</span>
        <span class="s0">} = locateMismatch(matchResult</span><span class="s2">, </span><span class="s0">node)</span><span class="s2">;</span>

        <span class="s0">error.rawMessage = message</span><span class="s2">;</span>
        <span class="s0">error.syntax = syntax ? generate_1(syntax) : </span><span class="s3">'&lt;generic&gt;'</span><span class="s2">;</span>
        <span class="s0">error.css = css</span><span class="s2">;</span>
        <span class="s0">error.mismatchOffset = mismatchOffset</span><span class="s2">;</span>
        <span class="s0">error.mismatchLength = mismatchLength</span><span class="s2">;</span>
        <span class="s0">error.message = message + </span><span class="s3">'</span><span class="s2">\n</span><span class="s3">' </span><span class="s0">+</span>
            <span class="s3">'  syntax: ' </span><span class="s0">+ error.syntax + </span><span class="s3">'</span><span class="s2">\n</span><span class="s3">' </span><span class="s0">+</span>
            <span class="s3">'   value: ' </span><span class="s0">+ (css || </span><span class="s3">'&lt;empty string&gt;'</span><span class="s0">) + </span><span class="s3">'</span><span class="s2">\n</span><span class="s3">' </span><span class="s0">+</span>
            <span class="s3">'  --------' </span><span class="s0">+ </span><span class="s1">new </span><span class="s0">Array(error.mismatchOffset + </span><span class="s5">1</span><span class="s0">).join(</span><span class="s3">'-'</span><span class="s0">) + </span><span class="s3">'^'</span><span class="s2">;</span>

        <span class="s0">Object.assign(error</span><span class="s2">, </span><span class="s0">start)</span><span class="s2">;</span>
        <span class="s0">error.loc = {</span>
            <span class="s0">source: (node &amp;&amp; node.loc &amp;&amp; node.loc.source) || </span><span class="s3">'&lt;unknown&gt;'</span><span class="s2">,</span>
            <span class="s0">start</span><span class="s2">,</span>
            <span class="s0">end</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">error</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">error = {</span>
        <span class="s0">SyntaxReferenceError</span><span class="s2">,</span>
        <span class="s0">SyntaxMatchError</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">hasOwnProperty = Object.prototype.hasOwnProperty</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">keywords = Object.create(</span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">properties = Object.create(</span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">HYPHENMINUS = </span><span class="s5">45</span><span class="s2">; </span><span class="s4">// '-'.charCodeAt()</span>

    <span class="s1">function </span><span class="s0">isCustomProperty(str</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s0">offset = offset || </span><span class="s5">0</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">str.length - offset &gt;= </span><span class="s5">2 </span><span class="s0">&amp;&amp;</span>
               <span class="s0">str.charCodeAt(offset) === HYPHENMINUS &amp;&amp;</span>
               <span class="s0">str.charCodeAt(offset + </span><span class="s5">1</span><span class="s0">) === HYPHENMINUS</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">getVendorPrefix(str</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s0">offset = offset || </span><span class="s5">0</span><span class="s2">;</span>

        <span class="s4">// verdor prefix should be at least 3 chars length</span>
        <span class="s1">if </span><span class="s0">(str.length - offset &gt;= </span><span class="s5">3</span><span class="s0">) {</span>
            <span class="s4">// vendor prefix starts with hyper minus following non-hyper minus</span>
            <span class="s1">if </span><span class="s0">(str.charCodeAt(offset) === HYPHENMINUS &amp;&amp;</span>
                <span class="s0">str.charCodeAt(offset + </span><span class="s5">1</span><span class="s0">) !== HYPHENMINUS) {</span>
                <span class="s4">// vendor prefix should contain a hyper minus at the ending</span>
                <span class="s1">var </span><span class="s0">secondDashIndex = str.indexOf(</span><span class="s3">'-'</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">2</span><span class="s0">)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(secondDashIndex !== -</span><span class="s5">1</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">str.substring(offset</span><span class="s2">, </span><span class="s0">secondDashIndex + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s3">''</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">getKeywordDescriptor(keyword) {</span>
        <span class="s1">if </span><span class="s0">(hasOwnProperty.call(keywords</span><span class="s2">, </span><span class="s0">keyword)) {</span>
            <span class="s1">return </span><span class="s0">keywords[keyword]</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">name = keyword.toLowerCase()</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(hasOwnProperty.call(keywords</span><span class="s2">, </span><span class="s0">name)) {</span>
            <span class="s1">return </span><span class="s0">keywords[keyword] = keywords[name]</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">custom = isCustomProperty(name</span><span class="s2">, </span><span class="s5">0</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">vendor = !custom ? getVendorPrefix(name</span><span class="s2">, </span><span class="s5">0</span><span class="s0">) : </span><span class="s3">''</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">keywords[keyword] = Object.freeze({</span>
            <span class="s0">basename: name.substr(vendor.length)</span><span class="s2">,</span>
            <span class="s0">name: name</span><span class="s2">,</span>
            <span class="s0">vendor: vendor</span><span class="s2">,</span>
            <span class="s0">prefix: vendor</span><span class="s2">,</span>
            <span class="s0">custom: custom</span>
        <span class="s0">})</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">getPropertyDescriptor(property) {</span>
        <span class="s1">if </span><span class="s0">(hasOwnProperty.call(properties</span><span class="s2">, </span><span class="s0">property)) {</span>
            <span class="s1">return </span><span class="s0">properties[property]</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">name = property</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">hack = property[</span><span class="s5">0</span><span class="s0">]</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(hack === </span><span class="s3">'/'</span><span class="s0">) {</span>
            <span class="s0">hack = property[</span><span class="s5">1</span><span class="s0">] === </span><span class="s3">'/' </span><span class="s0">? </span><span class="s3">'//' </span><span class="s0">: </span><span class="s3">'/'</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(hack !== </span><span class="s3">'_' </span><span class="s0">&amp;&amp;</span>
                   <span class="s0">hack !== </span><span class="s3">'*' </span><span class="s0">&amp;&amp;</span>
                   <span class="s0">hack !== </span><span class="s3">'$' </span><span class="s0">&amp;&amp;</span>
                   <span class="s0">hack !== </span><span class="s3">'#' </span><span class="s0">&amp;&amp;</span>
                   <span class="s0">hack !== </span><span class="s3">'+' </span><span class="s0">&amp;&amp;</span>
                   <span class="s0">hack !== </span><span class="s3">'&amp;'</span><span class="s0">) {</span>
            <span class="s0">hack = </span><span class="s3">''</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">custom = isCustomProperty(name</span><span class="s2">, </span><span class="s0">hack.length)</span><span class="s2">;</span>

        <span class="s4">// re-use result when possible (the same as for lower case)</span>
        <span class="s1">if </span><span class="s0">(!custom) {</span>
            <span class="s0">name = name.toLowerCase()</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(hasOwnProperty.call(properties</span><span class="s2">, </span><span class="s0">name)) {</span>
                <span class="s1">return </span><span class="s0">properties[property] = properties[name]</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">vendor = !custom ? getVendorPrefix(name</span><span class="s2">, </span><span class="s0">hack.length) : </span><span class="s3">''</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">prefix = name.substr(</span><span class="s5">0</span><span class="s2">, </span><span class="s0">hack.length + vendor.length)</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">properties[property] = Object.freeze({</span>
            <span class="s0">basename: name.substr(prefix.length)</span><span class="s2">,</span>
            <span class="s0">name: name.substr(hack.length)</span><span class="s2">,</span>
            <span class="s0">hack: hack</span><span class="s2">,</span>
            <span class="s0">vendor: vendor</span><span class="s2">,</span>
            <span class="s0">prefix: prefix</span><span class="s2">,</span>
            <span class="s0">custom: custom</span>
        <span class="s0">})</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">names = {</span>
        <span class="s0">keyword: getKeywordDescriptor</span><span class="s2">,</span>
        <span class="s0">property: getPropertyDescriptor</span><span class="s2">,</span>
        <span class="s0">isCustomProperty: isCustomProperty</span><span class="s2">,</span>
        <span class="s0">vendorPrefix: getVendorPrefix</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">MIN_SIZE = </span><span class="s5">16 </span><span class="s0">* </span><span class="s5">1024</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">SafeUint32Array = </span><span class="s1">typeof </span><span class="s0">Uint32Array !== </span><span class="s3">'undefined' </span><span class="s0">? Uint32Array : Array</span><span class="s2">; </span><span class="s4">// fallback on Array when TypedArray is not supported</span>

    <span class="s1">var </span><span class="s0">adoptBuffer = </span><span class="s1">function </span><span class="s0">adoptBuffer(buffer</span><span class="s2">, </span><span class="s0">size) {</span>
        <span class="s1">if </span><span class="s0">(buffer === </span><span class="s1">null </span><span class="s0">|| buffer.length &lt; size) {</span>
            <span class="s1">return new </span><span class="s0">SafeUint32Array(Math.max(size + </span><span class="s5">1024</span><span class="s2">, </span><span class="s0">MIN_SIZE))</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">buffer</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$2 = _const.TYPE</span><span class="s2">;</span>


    <span class="s1">var </span><span class="s0">isNewline$1 = charCodeDefinitions.isNewline</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isName$2 = charCodeDefinitions.isName</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isValidEscape$2 = charCodeDefinitions.isValidEscape</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isNumberStart$1 = charCodeDefinitions.isNumberStart</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isIdentifierStart$1 = charCodeDefinitions.isIdentifierStart</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">charCodeCategory$1 = charCodeDefinitions.charCodeCategory</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isBOM$1 = charCodeDefinitions.isBOM</span><span class="s2">;</span>


    <span class="s1">var </span><span class="s0">cmpStr$2 = utils.cmpStr</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">getNewlineLength$1 = utils.getNewlineLength</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">findWhiteSpaceEnd$1 = utils.findWhiteSpaceEnd</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">consumeEscaped$1 = utils.consumeEscaped</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">consumeName$1 = utils.consumeName</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">consumeNumber$1 = utils.consumeNumber</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">consumeBadUrlRemnants$1 = utils.consumeBadUrlRemnants</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">OFFSET_MASK$1 = </span><span class="s5">0x00FFFFFF</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE_SHIFT$1 = </span><span class="s5">24</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">tokenize(source</span><span class="s2">, </span><span class="s0">stream) {</span>
        <span class="s1">function </span><span class="s0">getCharCode(offset) {</span>
            <span class="s1">return </span><span class="s0">offset &lt; sourceLength ? source.charCodeAt(offset) : </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// § 4.3.3. Consume a numeric token</span>
        <span class="s1">function </span><span class="s0">consumeNumericToken() {</span>
            <span class="s4">// Consume a number and let number be the result.</span>
            <span class="s0">offset = consumeNumber$1(source</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>

            <span class="s4">// If the next 3 input code points would start an identifier, then:</span>
            <span class="s1">if </span><span class="s0">(isIdentifierStart$1(getCharCode(offset)</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">2</span><span class="s0">))) {</span>
                <span class="s4">// Create a &lt;dimension-token&gt; with the same value and type flag as number, and a unit set initially to the empty string.</span>
                <span class="s4">// Consume a name. Set the &lt;dimension-token&gt;’s unit to the returned value.</span>
                <span class="s4">// Return the &lt;dimension-token&gt;.</span>
                <span class="s0">type = TYPE$2.Dimension</span><span class="s2">;</span>
                <span class="s0">offset = consumeName$1(source</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
                <span class="s1">return</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// Otherwise, if the next input code point is U+0025 PERCENTAGE SIGN (%), consume it.</span>
            <span class="s1">if </span><span class="s0">(getCharCode(offset) === </span><span class="s5">0x0025</span><span class="s0">) {</span>
                <span class="s4">// Create a &lt;percentage-token&gt; with the same value as number, and return it.</span>
                <span class="s0">type = TYPE$2.Percentage</span><span class="s2">;</span>
                <span class="s0">offset++</span><span class="s2">;</span>
                <span class="s1">return</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// Otherwise, create a &lt;number-token&gt; with the same value and type flag as number, and return it.</span>
            <span class="s0">type = TYPE$2.Number</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// § 4.3.4. Consume an ident-like token</span>
        <span class="s1">function </span><span class="s0">consumeIdentLikeToken() {</span>
            <span class="s1">const </span><span class="s0">nameStartOffset = offset</span><span class="s2">;</span>

            <span class="s4">// Consume a name, and let string be the result.</span>
            <span class="s0">offset = consumeName$1(source</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>

            <span class="s4">// If string’s value is an ASCII case-insensitive match for &quot;url&quot;,</span>
            <span class="s4">// and the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.</span>
            <span class="s1">if </span><span class="s0">(cmpStr$2(source</span><span class="s2">, </span><span class="s0">nameStartOffset</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s3">'url'</span><span class="s0">) &amp;&amp; getCharCode(offset) === </span><span class="s5">0x0028</span><span class="s0">) {</span>
                <span class="s4">// While the next two input code points are whitespace, consume the next input code point.</span>
                <span class="s0">offset = findWhiteSpaceEnd$1(source</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>

                <span class="s4">// If the next one or two input code points are U+0022 QUOTATION MARK (&quot;), U+0027 APOSTROPHE ('),</span>
                <span class="s4">// or whitespace followed by U+0022 QUOTATION MARK (&quot;) or U+0027 APOSTROPHE ('),</span>
                <span class="s4">// then create a &lt;function-token&gt; with its value set to string and return it.</span>
                <span class="s1">if </span><span class="s0">(getCharCode(offset) === </span><span class="s5">0x0022 </span><span class="s0">||</span>
                    <span class="s0">getCharCode(offset) === </span><span class="s5">0x0027</span><span class="s0">) {</span>
                    <span class="s0">type = TYPE$2.Function</span><span class="s2">;</span>
                    <span class="s0">offset = nameStartOffset + </span><span class="s5">4</span><span class="s2">;</span>
                    <span class="s1">return</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s4">// Otherwise, consume a url token, and return it.</span>
                <span class="s0">consumeUrlToken()</span><span class="s2">;</span>
                <span class="s1">return</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// Otherwise, if the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.</span>
            <span class="s4">// Create a &lt;function-token&gt; with its value set to string and return it.</span>
            <span class="s1">if </span><span class="s0">(getCharCode(offset) === </span><span class="s5">0x0028</span><span class="s0">) {</span>
                <span class="s0">type = TYPE$2.Function</span><span class="s2">;</span>
                <span class="s0">offset++</span><span class="s2">;</span>
                <span class="s1">return</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// Otherwise, create an &lt;ident-token&gt; with its value set to string and return it.</span>
            <span class="s0">type = TYPE$2.Ident</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// § 4.3.5. Consume a string token</span>
        <span class="s1">function </span><span class="s0">consumeStringToken(endingCodePoint) {</span>
            <span class="s4">// This algorithm may be called with an ending code point, which denotes the code point</span>
            <span class="s4">// that ends the string. If an ending code point is not specified,</span>
            <span class="s4">// the current input code point is used.</span>
            <span class="s1">if </span><span class="s0">(!endingCodePoint) {</span>
                <span class="s0">endingCodePoint = getCharCode(offset++)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// Initially create a &lt;string-token&gt; with its value set to the empty string.</span>
            <span class="s0">type = TYPE$2.String</span><span class="s2">;</span>

            <span class="s4">// Repeatedly consume the next input code point from the stream:</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">offset &lt; source.length</span><span class="s2">; </span><span class="s0">offset++) {</span>
                <span class="s1">var </span><span class="s0">code = source.charCodeAt(offset)</span><span class="s2">;</span>

                <span class="s1">switch </span><span class="s0">(charCodeCategory$1(code)) {</span>
                    <span class="s4">// ending code point</span>
                    <span class="s1">case </span><span class="s0">endingCodePoint:</span>
                        <span class="s4">// Return the &lt;string-token&gt;.</span>
                        <span class="s0">offset++</span><span class="s2">;</span>
                        <span class="s1">return</span><span class="s2">;</span>

                    <span class="s4">// EOF</span>
                    <span class="s1">case </span><span class="s0">charCodeCategory$1.Eof:</span>
                        <span class="s4">// This is a parse error. Return the &lt;string-token&gt;.</span>
                        <span class="s1">return</span><span class="s2">;</span>

                    <span class="s4">// newline</span>
                    <span class="s1">case </span><span class="s0">charCodeCategory$1.WhiteSpace:</span>
                        <span class="s1">if </span><span class="s0">(isNewline$1(code)) {</span>
                            <span class="s4">// This is a parse error. Reconsume the current input code point,</span>
                            <span class="s4">// create a &lt;bad-string-token&gt;, and return it.</span>
                            <span class="s0">offset += getNewlineLength$1(source</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">code)</span><span class="s2">;</span>
                            <span class="s0">type = TYPE$2.BadString</span><span class="s2">;</span>
                            <span class="s1">return</span><span class="s2">;</span>
                        <span class="s0">}</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s4">// U+005C REVERSE SOLIDUS (\)</span>
                    <span class="s1">case </span><span class="s5">0x005C</span><span class="s0">:</span>
                        <span class="s4">// If the next input code point is EOF, do nothing.</span>
                        <span class="s1">if </span><span class="s0">(offset === source.length - </span><span class="s5">1</span><span class="s0">) {</span>
                            <span class="s1">break</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s1">var </span><span class="s0">nextCode = getCharCode(offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>

                        <span class="s4">// Otherwise, if the next input code point is a newline, consume it.</span>
                        <span class="s1">if </span><span class="s0">(isNewline$1(nextCode)) {</span>
                            <span class="s0">offset += getNewlineLength$1(source</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">1</span><span class="s2">, </span><span class="s0">nextCode)</span><span class="s2">;</span>
                        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(isValidEscape$2(code</span><span class="s2">, </span><span class="s0">nextCode)) {</span>
                            <span class="s4">// Otherwise, (the stream starts with a valid escape) consume</span>
                            <span class="s4">// an escaped code point and append the returned code point to</span>
                            <span class="s4">// the &lt;string-token&gt;’s value.</span>
                            <span class="s0">offset = consumeEscaped$1(source</span><span class="s2">, </span><span class="s0">offset) - </span><span class="s5">1</span><span class="s2">;</span>
                        <span class="s0">}</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s4">// anything else</span>
                    <span class="s4">// Append the current input code point to the &lt;string-token&gt;’s value.</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s4">// § 4.3.6. Consume a url token</span>
        <span class="s4">// Note: This algorithm assumes that the initial &quot;url(&quot; has already been consumed.</span>
        <span class="s4">// This algorithm also assumes that it’s being called to consume an &quot;unquoted&quot; value, like url(foo).</span>
        <span class="s4">// A quoted value, like url(&quot;foo&quot;), is parsed as a &lt;function-token&gt;. Consume an ident-like token</span>
        <span class="s4">// automatically handles this distinction; this algorithm shouldn’t be called directly otherwise.</span>
        <span class="s1">function </span><span class="s0">consumeUrlToken() {</span>
            <span class="s4">// Initially create a &lt;url-token&gt; with its value set to the empty string.</span>
            <span class="s0">type = TYPE$2.Url</span><span class="s2">;</span>

            <span class="s4">// Consume as much whitespace as possible.</span>
            <span class="s0">offset = findWhiteSpaceEnd$1(source</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>

            <span class="s4">// Repeatedly consume the next input code point from the stream:</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">offset &lt; source.length</span><span class="s2">; </span><span class="s0">offset++) {</span>
                <span class="s1">var </span><span class="s0">code = source.charCodeAt(offset)</span><span class="s2">;</span>

                <span class="s1">switch </span><span class="s0">(charCodeCategory$1(code)) {</span>
                    <span class="s4">// U+0029 RIGHT PARENTHESIS ())</span>
                    <span class="s1">case </span><span class="s5">0x0029</span><span class="s0">:</span>
                        <span class="s4">// Return the &lt;url-token&gt;.</span>
                        <span class="s0">offset++</span><span class="s2">;</span>
                        <span class="s1">return</span><span class="s2">;</span>

                    <span class="s4">// EOF</span>
                    <span class="s1">case </span><span class="s0">charCodeCategory$1.Eof:</span>
                        <span class="s4">// This is a parse error. Return the &lt;url-token&gt;.</span>
                        <span class="s1">return</span><span class="s2">;</span>

                    <span class="s4">// whitespace</span>
                    <span class="s1">case </span><span class="s0">charCodeCategory$1.WhiteSpace:</span>
                        <span class="s4">// Consume as much whitespace as possible.</span>
                        <span class="s0">offset = findWhiteSpaceEnd$1(source</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>

                        <span class="s4">// If the next input code point is U+0029 RIGHT PARENTHESIS ()) or EOF,</span>
                        <span class="s4">// consume it and return the &lt;url-token&gt;</span>
                        <span class="s4">// (if EOF was encountered, this is a parse error);</span>
                        <span class="s1">if </span><span class="s0">(getCharCode(offset) === </span><span class="s5">0x0029 </span><span class="s0">|| offset &gt;= source.length) {</span>
                            <span class="s1">if </span><span class="s0">(offset &lt; source.length) {</span>
                                <span class="s0">offset++</span><span class="s2">;</span>
                            <span class="s0">}</span>
                            <span class="s1">return</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s4">// otherwise, consume the remnants of a bad url, create a &lt;bad-url-token&gt;,</span>
                        <span class="s4">// and return it.</span>
                        <span class="s0">offset = consumeBadUrlRemnants$1(source</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
                        <span class="s0">type = TYPE$2.BadUrl</span><span class="s2">;</span>
                        <span class="s1">return</span><span class="s2">;</span>

                    <span class="s4">// U+0022 QUOTATION MARK (&quot;)</span>
                    <span class="s4">// U+0027 APOSTROPHE (')</span>
                    <span class="s4">// U+0028 LEFT PARENTHESIS (()</span>
                    <span class="s4">// non-printable code point</span>
                    <span class="s1">case </span><span class="s5">0x0022</span><span class="s0">:</span>
                    <span class="s1">case </span><span class="s5">0x0027</span><span class="s0">:</span>
                    <span class="s1">case </span><span class="s5">0x0028</span><span class="s0">:</span>
                    <span class="s1">case </span><span class="s0">charCodeCategory$1.NonPrintable:</span>
                        <span class="s4">// This is a parse error. Consume the remnants of a bad url,</span>
                        <span class="s4">// create a &lt;bad-url-token&gt;, and return it.</span>
                        <span class="s0">offset = consumeBadUrlRemnants$1(source</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
                        <span class="s0">type = TYPE$2.BadUrl</span><span class="s2">;</span>
                        <span class="s1">return</span><span class="s2">;</span>

                    <span class="s4">// U+005C REVERSE SOLIDUS (\)</span>
                    <span class="s1">case </span><span class="s5">0x005C</span><span class="s0">:</span>
                        <span class="s4">// If the stream starts with a valid escape, consume an escaped code point and</span>
                        <span class="s4">// append the returned code point to the &lt;url-token&gt;’s value.</span>
                        <span class="s1">if </span><span class="s0">(isValidEscape$2(code</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">1</span><span class="s0">))) {</span>
                            <span class="s0">offset = consumeEscaped$1(source</span><span class="s2">, </span><span class="s0">offset) - </span><span class="s5">1</span><span class="s2">;</span>
                            <span class="s1">break</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s4">// Otherwise, this is a parse error. Consume the remnants of a bad url,</span>
                        <span class="s4">// create a &lt;bad-url-token&gt;, and return it.</span>
                        <span class="s0">offset = consumeBadUrlRemnants$1(source</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
                        <span class="s0">type = TYPE$2.BadUrl</span><span class="s2">;</span>
                        <span class="s1">return</span><span class="s2">;</span>

                    <span class="s4">// anything else</span>
                    <span class="s4">// Append the current input code point to the &lt;url-token&gt;’s value.</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(!stream) {</span>
            <span class="s0">stream = </span><span class="s1">new </span><span class="s0">TokenStream_1()</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// ensure source is a string</span>
        <span class="s0">source = String(source || </span><span class="s3">''</span><span class="s0">)</span><span class="s2">;</span>

        <span class="s1">var </span><span class="s0">sourceLength = source.length</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">offsetAndType = adoptBuffer(stream.offsetAndType</span><span class="s2">, </span><span class="s0">sourceLength + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">; </span><span class="s4">// +1 because of eof-token</span>
        <span class="s1">var </span><span class="s0">balance = adoptBuffer(stream.balance</span><span class="s2">, </span><span class="s0">sourceLength + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">tokenCount = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">start = isBOM$1(getCharCode(</span><span class="s5">0</span><span class="s0">))</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">offset = start</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">balanceCloseType = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">balanceStart = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">balancePrev = </span><span class="s5">0</span><span class="s2">;</span>

        <span class="s4">// https://drafts.csswg.org/css-syntax-3/#consume-token</span>
        <span class="s4">// § 4.3.1. Consume a token</span>
        <span class="s1">while </span><span class="s0">(offset &lt; sourceLength) {</span>
            <span class="s1">var </span><span class="s0">code = source.charCodeAt(offset)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">type = </span><span class="s5">0</span><span class="s2">;</span>

            <span class="s0">balance[tokenCount] = sourceLength</span><span class="s2">;</span>

            <span class="s1">switch </span><span class="s0">(charCodeCategory$1(code)) {</span>
                <span class="s4">// whitespace</span>
                <span class="s1">case </span><span class="s0">charCodeCategory$1.WhiteSpace:</span>
                    <span class="s4">// Consume as much whitespace as possible. Return a &lt;whitespace-token&gt;.</span>
                    <span class="s0">type = TYPE$2.WhiteSpace</span><span class="s2">;</span>
                    <span class="s0">offset = findWhiteSpaceEnd$1(source</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+0022 QUOTATION MARK (&quot;)</span>
                <span class="s1">case </span><span class="s5">0x0022</span><span class="s0">:</span>
                    <span class="s4">// Consume a string token and return it.</span>
                    <span class="s0">consumeStringToken()</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+0023 NUMBER SIGN (#)</span>
                <span class="s1">case </span><span class="s5">0x0023</span><span class="s0">:</span>
                    <span class="s4">// If the next input code point is a name code point or the next two input code points are a valid escape, then:</span>
                    <span class="s1">if </span><span class="s0">(isName$2(getCharCode(offset + </span><span class="s5">1</span><span class="s0">)) || isValidEscape$2(getCharCode(offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">2</span><span class="s0">))) {</span>
                        <span class="s4">// Create a &lt;hash-token&gt;.</span>
                        <span class="s0">type = TYPE$2.Hash</span><span class="s2">;</span>

                        <span class="s4">// If the next 3 input code points would start an identifier, set the &lt;hash-token&gt;’s type flag to &quot;id&quot;.</span>
                        <span class="s4">// if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {</span>
                        <span class="s4">//     // TODO: set id flag</span>
                        <span class="s4">// }</span>

                        <span class="s4">// Consume a name, and set the &lt;hash-token&gt;’s value to the returned string.</span>
                        <span class="s0">offset = consumeName$1(source</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>

                        <span class="s4">// Return the &lt;hash-token&gt;.</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s4">// Otherwise, return a &lt;delim-token&gt; with its value set to the current input code point.</span>
                        <span class="s0">type = TYPE$2.Delim</span><span class="s2">;</span>
                        <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+0027 APOSTROPHE (')</span>
                <span class="s1">case </span><span class="s5">0x0027</span><span class="s0">:</span>
                    <span class="s4">// Consume a string token and return it.</span>
                    <span class="s0">consumeStringToken()</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+0028 LEFT PARENTHESIS (()</span>
                <span class="s1">case </span><span class="s5">0x0028</span><span class="s0">:</span>
                    <span class="s4">// Return a &lt;(-token&gt;.</span>
                    <span class="s0">type = TYPE$2.LeftParenthesis</span><span class="s2">;</span>
                    <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+0029 RIGHT PARENTHESIS ())</span>
                <span class="s1">case </span><span class="s5">0x0029</span><span class="s0">:</span>
                    <span class="s4">// Return a &lt;)-token&gt;.</span>
                    <span class="s0">type = TYPE$2.RightParenthesis</span><span class="s2">;</span>
                    <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+002B PLUS SIGN (+)</span>
                <span class="s1">case </span><span class="s5">0x002B</span><span class="s0">:</span>
                    <span class="s4">// If the input stream starts with a number, ...</span>
                    <span class="s1">if </span><span class="s0">(isNumberStart$1(code</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">2</span><span class="s0">))) {</span>
                        <span class="s4">// ... reconsume the current input code point, consume a numeric token, and return it.</span>
                        <span class="s0">consumeNumericToken()</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s4">// Otherwise, return a &lt;delim-token&gt; with its value set to the current input code point.</span>
                        <span class="s0">type = TYPE$2.Delim</span><span class="s2">;</span>
                        <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+002C COMMA (,)</span>
                <span class="s1">case </span><span class="s5">0x002C</span><span class="s0">:</span>
                    <span class="s4">// Return a &lt;comma-token&gt;.</span>
                    <span class="s0">type = TYPE$2.Comma</span><span class="s2">;</span>
                    <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+002D HYPHEN-MINUS (-)</span>
                <span class="s1">case </span><span class="s5">0x002D</span><span class="s0">:</span>
                    <span class="s4">// If the input stream starts with a number, reconsume the current input code point, consume a numeric token, and return it.</span>
                    <span class="s1">if </span><span class="s0">(isNumberStart$1(code</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">2</span><span class="s0">))) {</span>
                        <span class="s0">consumeNumericToken()</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s4">// Otherwise, if the next 2 input code points are U+002D HYPHEN-MINUS U+003E GREATER-THAN SIGN (-&gt;), consume them and return a &lt;CDC-token&gt;.</span>
                        <span class="s1">if </span><span class="s0">(getCharCode(offset + </span><span class="s5">1</span><span class="s0">) === </span><span class="s5">0x002D </span><span class="s0">&amp;&amp;</span>
                            <span class="s0">getCharCode(offset + </span><span class="s5">2</span><span class="s0">) === </span><span class="s5">0x003E</span><span class="s0">) {</span>
                            <span class="s0">type = TYPE$2.CDC</span><span class="s2">;</span>
                            <span class="s0">offset = offset + </span><span class="s5">3</span><span class="s2">;</span>
                        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                            <span class="s4">// Otherwise, if the input stream starts with an identifier, ...</span>
                            <span class="s1">if </span><span class="s0">(isIdentifierStart$1(code</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">2</span><span class="s0">))) {</span>
                                <span class="s4">// ... reconsume the current input code point, consume an ident-like token, and return it.</span>
                                <span class="s0">consumeIdentLikeToken()</span><span class="s2">;</span>
                            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                                <span class="s4">// Otherwise, return a &lt;delim-token&gt; with its value set to the current input code point.</span>
                                <span class="s0">type = TYPE$2.Delim</span><span class="s2">;</span>
                                <span class="s0">offset++</span><span class="s2">;</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+002E FULL STOP (.)</span>
                <span class="s1">case </span><span class="s5">0x002E</span><span class="s0">:</span>
                    <span class="s4">// If the input stream starts with a number, ...</span>
                    <span class="s1">if </span><span class="s0">(isNumberStart$1(code</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">2</span><span class="s0">))) {</span>
                        <span class="s4">// ... reconsume the current input code point, consume a numeric token, and return it.</span>
                        <span class="s0">consumeNumericToken()</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s4">// Otherwise, return a &lt;delim-token&gt; with its value set to the current input code point.</span>
                        <span class="s0">type = TYPE$2.Delim</span><span class="s2">;</span>
                        <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+002F SOLIDUS (/)</span>
                <span class="s1">case </span><span class="s5">0x002F</span><span class="s0">:</span>
                    <span class="s4">// If the next two input code point are U+002F SOLIDUS (/) followed by a U+002A ASTERISK (*),</span>
                    <span class="s1">if </span><span class="s0">(getCharCode(offset + </span><span class="s5">1</span><span class="s0">) === </span><span class="s5">0x002A</span><span class="s0">) {</span>
                        <span class="s4">// ... consume them and all following code points up to and including the first U+002A ASTERISK (*)</span>
                        <span class="s4">// followed by a U+002F SOLIDUS (/), or up to an EOF code point.</span>
                        <span class="s0">type = TYPE$2.Comment</span><span class="s2">;</span>
                        <span class="s0">offset = source.indexOf(</span><span class="s3">'*/'</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">2</span><span class="s0">) + </span><span class="s5">2</span><span class="s2">;</span>
                        <span class="s1">if </span><span class="s0">(offset === </span><span class="s5">1</span><span class="s0">) {</span>
                            <span class="s0">offset = source.length</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">type = TYPE$2.Delim</span><span class="s2">;</span>
                        <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+003A COLON (:)</span>
                <span class="s1">case </span><span class="s5">0x003A</span><span class="s0">:</span>
                    <span class="s4">// Return a &lt;colon-token&gt;.</span>
                    <span class="s0">type = TYPE$2.Colon</span><span class="s2">;</span>
                    <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+003B SEMICOLON (;)</span>
                <span class="s1">case </span><span class="s5">0x003B</span><span class="s0">:</span>
                    <span class="s4">// Return a &lt;semicolon-token&gt;.</span>
                    <span class="s0">type = TYPE$2.Semicolon</span><span class="s2">;</span>
                    <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+003C LESS-THAN SIGN (&lt;)</span>
                <span class="s1">case </span><span class="s5">0x003C</span><span class="s0">:</span>
                    <span class="s4">// If the next 3 input code points are U+0021 EXCLAMATION MARK U+002D HYPHEN-MINUS U+002D HYPHEN-MINUS (!--), ...</span>
                    <span class="s1">if </span><span class="s0">(getCharCode(offset + </span><span class="s5">1</span><span class="s0">) === </span><span class="s5">0x0021 </span><span class="s0">&amp;&amp;</span>
                        <span class="s0">getCharCode(offset + </span><span class="s5">2</span><span class="s0">) === </span><span class="s5">0x002D </span><span class="s0">&amp;&amp;</span>
                        <span class="s0">getCharCode(offset + </span><span class="s5">3</span><span class="s0">) === </span><span class="s5">0x002D</span><span class="s0">) {</span>
                        <span class="s4">// ... consume them and return a &lt;CDO-token&gt;.</span>
                        <span class="s0">type = TYPE$2.CDO</span><span class="s2">;</span>
                        <span class="s0">offset = offset + </span><span class="s5">4</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s4">// Otherwise, return a &lt;delim-token&gt; with its value set to the current input code point.</span>
                        <span class="s0">type = TYPE$2.Delim</span><span class="s2">;</span>
                        <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+0040 COMMERCIAL AT (@)</span>
                <span class="s1">case </span><span class="s5">0x0040</span><span class="s0">:</span>
                    <span class="s4">// If the next 3 input code points would start an identifier, ...</span>
                    <span class="s1">if </span><span class="s0">(isIdentifierStart$1(getCharCode(offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">2</span><span class="s0">)</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">3</span><span class="s0">))) {</span>
                        <span class="s4">// ... consume a name, create an &lt;at-keyword-token&gt; with its value set to the returned value, and return it.</span>
                        <span class="s0">type = TYPE$2.AtKeyword</span><span class="s2">;</span>
                        <span class="s0">offset = consumeName$1(source</span><span class="s2">, </span><span class="s0">offset + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s4">// Otherwise, return a &lt;delim-token&gt; with its value set to the current input code point.</span>
                        <span class="s0">type = TYPE$2.Delim</span><span class="s2">;</span>
                        <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+005B LEFT SQUARE BRACKET ([)</span>
                <span class="s1">case </span><span class="s5">0x005B</span><span class="s0">:</span>
                    <span class="s4">// Return a &lt;[-token&gt;.</span>
                    <span class="s0">type = TYPE$2.LeftSquareBracket</span><span class="s2">;</span>
                    <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+005C REVERSE SOLIDUS (\)</span>
                <span class="s1">case </span><span class="s5">0x005C</span><span class="s0">:</span>
                    <span class="s4">// If the input stream starts with a valid escape, ...</span>
                    <span class="s1">if </span><span class="s0">(isValidEscape$2(code</span><span class="s2">, </span><span class="s0">getCharCode(offset + </span><span class="s5">1</span><span class="s0">))) {</span>
                        <span class="s4">// ... reconsume the current input code point, consume an ident-like token, and return it.</span>
                        <span class="s0">consumeIdentLikeToken()</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s4">// Otherwise, this is a parse error. Return a &lt;delim-token&gt; with its value set to the current input code point.</span>
                        <span class="s0">type = TYPE$2.Delim</span><span class="s2">;</span>
                        <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+005D RIGHT SQUARE BRACKET (])</span>
                <span class="s1">case </span><span class="s5">0x005D</span><span class="s0">:</span>
                    <span class="s4">// Return a &lt;]-token&gt;.</span>
                    <span class="s0">type = TYPE$2.RightSquareBracket</span><span class="s2">;</span>
                    <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+007B LEFT CURLY BRACKET ({)</span>
                <span class="s1">case </span><span class="s5">0x007B</span><span class="s0">:</span>
                    <span class="s4">// Return a &lt;{-token&gt;.</span>
                    <span class="s0">type = TYPE$2.LeftCurlyBracket</span><span class="s2">;</span>
                    <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// U+007D RIGHT CURLY BRACKET (})</span>
                <span class="s1">case </span><span class="s5">0x007D</span><span class="s0">:</span>
                    <span class="s4">// Return a &lt;}-token&gt;.</span>
                    <span class="s0">type = TYPE$2.RightCurlyBracket</span><span class="s2">;</span>
                    <span class="s0">offset++</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// digit</span>
                <span class="s1">case </span><span class="s0">charCodeCategory$1.Digit:</span>
                    <span class="s4">// Reconsume the current input code point, consume a numeric token, and return it.</span>
                    <span class="s0">consumeNumericToken()</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// name-start code point</span>
                <span class="s1">case </span><span class="s0">charCodeCategory$1.NameStart:</span>
                    <span class="s4">// Reconsume the current input code point, consume an ident-like token, and return it.</span>
                    <span class="s0">consumeIdentLikeToken()</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// EOF</span>
                <span class="s1">case </span><span class="s0">charCodeCategory$1.Eof:</span>
                    <span class="s4">// Return an &lt;EOF-token&gt;.</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// anything else</span>
                <span class="s1">default</span><span class="s0">:</span>
                    <span class="s4">// Return a &lt;delim-token&gt; with its value set to the current input code point.</span>
                    <span class="s0">type = TYPE$2.Delim</span><span class="s2">;</span>
                    <span class="s0">offset++</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">switch </span><span class="s0">(type) {</span>
                <span class="s1">case </span><span class="s0">balanceCloseType:</span>
                    <span class="s0">balancePrev = balanceStart &amp; OFFSET_MASK$1</span><span class="s2">;</span>
                    <span class="s0">balanceStart = balance[balancePrev]</span><span class="s2">;</span>
                    <span class="s0">balanceCloseType = balanceStart &gt;&gt; TYPE_SHIFT$1</span><span class="s2">;</span>
                    <span class="s0">balance[tokenCount] = balancePrev</span><span class="s2">;</span>
                    <span class="s0">balance[balancePrev++] = tokenCount</span><span class="s2">;</span>
                    <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">balancePrev &lt; tokenCount</span><span class="s2">; </span><span class="s0">balancePrev++) {</span>
                        <span class="s1">if </span><span class="s0">(balance[balancePrev] === sourceLength) {</span>
                            <span class="s0">balance[balancePrev] = tokenCount</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">TYPE$2.LeftParenthesis:</span>
                <span class="s1">case </span><span class="s0">TYPE$2.Function:</span>
                    <span class="s0">balance[tokenCount] = balanceStart</span><span class="s2">;</span>
                    <span class="s0">balanceCloseType = TYPE$2.RightParenthesis</span><span class="s2">;</span>
                    <span class="s0">balanceStart = (balanceCloseType &lt;&lt; TYPE_SHIFT$1) | tokenCount</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">TYPE$2.LeftSquareBracket:</span>
                    <span class="s0">balance[tokenCount] = balanceStart</span><span class="s2">;</span>
                    <span class="s0">balanceCloseType = TYPE$2.RightSquareBracket</span><span class="s2">;</span>
                    <span class="s0">balanceStart = (balanceCloseType &lt;&lt; TYPE_SHIFT$1) | tokenCount</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">TYPE$2.LeftCurlyBracket:</span>
                    <span class="s0">balance[tokenCount] = balanceStart</span><span class="s2">;</span>
                    <span class="s0">balanceCloseType = TYPE$2.RightCurlyBracket</span><span class="s2">;</span>
                    <span class="s0">balanceStart = (balanceCloseType &lt;&lt; TYPE_SHIFT$1) | tokenCount</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">offsetAndType[tokenCount++] = (type &lt;&lt; TYPE_SHIFT$1) | offset</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// finalize buffers</span>
        <span class="s0">offsetAndType[tokenCount] = (TYPE$2.EOF &lt;&lt; TYPE_SHIFT$1) | offset</span><span class="s2">; </span><span class="s4">// &lt;EOF-token&gt;</span>
        <span class="s0">balance[tokenCount] = sourceLength</span><span class="s2">;</span>
        <span class="s0">balance[sourceLength] = sourceLength</span><span class="s2">; </span><span class="s4">// prevents false positive balance match with any token</span>
        <span class="s1">while </span><span class="s0">(balanceStart !== </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s0">balancePrev = balanceStart &amp; OFFSET_MASK$1</span><span class="s2">;</span>
            <span class="s0">balanceStart = balance[balancePrev]</span><span class="s2">;</span>
            <span class="s0">balance[balancePrev] = sourceLength</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// update stream</span>
        <span class="s0">stream.source = source</span><span class="s2">;</span>
        <span class="s0">stream.firstCharOffset = start</span><span class="s2">;</span>
        <span class="s0">stream.offsetAndType = offsetAndType</span><span class="s2">;</span>
        <span class="s0">stream.tokenCount = tokenCount</span><span class="s2">;</span>
        <span class="s0">stream.balance = balance</span><span class="s2">;</span>
        <span class="s0">stream.reset()</span><span class="s2">;</span>
        <span class="s0">stream.next()</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">stream</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// extend tokenizer with constants</span>
    <span class="s0">Object.keys(_const).forEach(</span><span class="s1">function</span><span class="s0">(key) {</span>
        <span class="s0">tokenize[key] = _const[key]</span><span class="s2">;</span>
    <span class="s0">})</span><span class="s2">;</span>

    <span class="s4">// extend tokenizer with static methods from utils</span>
    <span class="s0">Object.keys(charCodeDefinitions).forEach(</span><span class="s1">function</span><span class="s0">(key) {</span>
        <span class="s0">tokenize[key] = charCodeDefinitions[key]</span><span class="s2">;</span>
    <span class="s0">})</span><span class="s2">;</span>
    <span class="s0">Object.keys(utils).forEach(</span><span class="s1">function</span><span class="s0">(key) {</span>
        <span class="s0">tokenize[key] = utils[key]</span><span class="s2">;</span>
    <span class="s0">})</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">tokenizer = tokenize</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">isDigit$2 = tokenizer.isDigit</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">cmpChar$1 = tokenizer.cmpChar</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$3 = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">DELIM = TYPE$3.Delim</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">WHITESPACE$1 = TYPE$3.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMMENT$1 = TYPE$3.Comment</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">IDENT = TYPE$3.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NUMBER = TYPE$3.Number</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DIMENSION = TYPE$3.Dimension</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">PLUSSIGN = </span><span class="s5">0x002B</span><span class="s2">;    </span><span class="s4">// U+002B PLUS SIGN (+)</span>
    <span class="s1">var </span><span class="s0">HYPHENMINUS$1 = </span><span class="s5">0x002D</span><span class="s2">; </span><span class="s4">// U+002D HYPHEN-MINUS (-)</span>
    <span class="s1">var </span><span class="s0">N = </span><span class="s5">0x006E</span><span class="s2">;           </span><span class="s4">// U+006E LATIN SMALL LETTER N (n)</span>
    <span class="s1">var </span><span class="s0">DISALLOW_SIGN = </span><span class="s1">true</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">ALLOW_SIGN = </span><span class="s1">false</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">isDelim(token</span><span class="s2">, </span><span class="s0">code) {</span>
        <span class="s1">return </span><span class="s0">token !== </span><span class="s1">null </span><span class="s0">&amp;&amp; token.type === DELIM &amp;&amp; token.value.charCodeAt(</span><span class="s5">0</span><span class="s0">) === code</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">skipSC(token</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">getNextToken) {</span>
        <span class="s1">while </span><span class="s0">(token !== </span><span class="s1">null </span><span class="s0">&amp;&amp; (token.type === WHITESPACE$1 || token.type === COMMENT$1)) {</span>
            <span class="s0">token = getNextToken(++offset)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">offset</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">checkInteger(token</span><span class="s2">, </span><span class="s0">valueOffset</span><span class="s2">, </span><span class="s0">disallowSign</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s1">if </span><span class="s0">(!token) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">code = token.value.charCodeAt(valueOffset)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(code === PLUSSIGN || code === HYPHENMINUS$1) {</span>
            <span class="s1">if </span><span class="s0">(disallowSign) {</span>
                <span class="s4">// Number sign is not allowed</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>
            <span class="s0">valueOffset++</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">valueOffset &lt; token.value.length</span><span class="s2">; </span><span class="s0">valueOffset++) {</span>
            <span class="s1">if </span><span class="s0">(!isDigit$2(token.value.charCodeAt(valueOffset))) {</span>
                <span class="s4">// Integer is expected</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">offset + </span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// ... &lt;signed-integer&gt;</span>
    <span class="s4">// ... ['+' | '-'] &lt;signless-integer&gt;</span>
    <span class="s1">function </span><span class="s0">consumeB(token</span><span class="s2">, </span><span class="s0">offset_</span><span class="s2">, </span><span class="s0">getNextToken) {</span>
        <span class="s1">var </span><span class="s0">sign = </span><span class="s1">false</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">offset = skipSC(token</span><span class="s2">, </span><span class="s0">offset_</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>

        <span class="s0">token = getNextToken(offset)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s0">offset_</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(token.type !== NUMBER) {</span>
            <span class="s1">if </span><span class="s0">(isDelim(token</span><span class="s2">, </span><span class="s0">PLUSSIGN) || isDelim(token</span><span class="s2">, </span><span class="s0">HYPHENMINUS$1)) {</span>
                <span class="s0">sign = </span><span class="s1">true</span><span class="s2">;</span>
                <span class="s0">offset = skipSC(getNextToken(++offset)</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>
                <span class="s0">token = getNextToken(offset)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null </span><span class="s0">&amp;&amp; token.type !== NUMBER) {</span>
                    <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">return </span><span class="s0">offset_</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(!sign) {</span>
            <span class="s1">var </span><span class="s0">code = token.value.charCodeAt(</span><span class="s5">0</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(code !== PLUSSIGN &amp;&amp; code !== HYPHENMINUS$1) {</span>
                <span class="s4">// Number sign is expected</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">checkInteger(token</span><span class="s2">, </span><span class="s0">sign ? </span><span class="s5">0 </span><span class="s0">: </span><span class="s5">1</span><span class="s2">, </span><span class="s0">sign</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb</span>
    <span class="s1">var </span><span class="s0">genericAnPlusB = </span><span class="s1">function </span><span class="s0">anPlusB(token</span><span class="s2">, </span><span class="s0">getNextToken) {</span>
        <span class="s6">/* eslint-disable brace-style*/</span>
        <span class="s1">var </span><span class="s0">offset = </span><span class="s5">0</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(!token) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// &lt;integer&gt;</span>
        <span class="s1">if </span><span class="s0">(token.type === NUMBER) {</span>
            <span class="s1">return </span><span class="s0">checkInteger(token</span><span class="s2">, </span><span class="s5">0</span><span class="s2">, </span><span class="s0">ALLOW_SIGN</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">; </span><span class="s4">// b</span>
        <span class="s0">}</span>

        <span class="s4">// -n</span>
        <span class="s4">// -n &lt;signed-integer&gt;</span>
        <span class="s4">// -n ['+' | '-'] &lt;signless-integer&gt;</span>
        <span class="s4">// -n- &lt;signless-integer&gt;</span>
        <span class="s4">// &lt;dashndashdigit-ident&gt;</span>
        <span class="s1">else if </span><span class="s0">(token.type === IDENT &amp;&amp; token.value.charCodeAt(</span><span class="s5">0</span><span class="s0">) === HYPHENMINUS$1) {</span>
            <span class="s4">// expect 1st char is N</span>
            <span class="s1">if </span><span class="s0">(!cmpChar$1(token.value</span><span class="s2">, </span><span class="s5">1</span><span class="s2">, </span><span class="s0">N)) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">switch </span><span class="s0">(token.value.length) {</span>
                <span class="s4">// -n</span>
                <span class="s4">// -n &lt;signed-integer&gt;</span>
                <span class="s4">// -n ['+' | '-'] &lt;signless-integer&gt;</span>
                <span class="s1">case </span><span class="s5">2</span><span class="s0">:</span>
                    <span class="s1">return </span><span class="s0">consumeB(getNextToken(++offset)</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>

                <span class="s4">// -n- &lt;signless-integer&gt;</span>
                <span class="s1">case </span><span class="s5">3</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(token.value.charCodeAt(</span><span class="s5">2</span><span class="s0">) !== HYPHENMINUS$1) {</span>
                        <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">offset = skipSC(getNextToken(++offset)</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>
                    <span class="s0">token = getNextToken(offset)</span><span class="s2">;</span>

                    <span class="s1">return </span><span class="s0">checkInteger(token</span><span class="s2">, </span><span class="s5">0</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>

                <span class="s4">// &lt;dashndashdigit-ident&gt;</span>
                <span class="s1">default</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(token.value.charCodeAt(</span><span class="s5">2</span><span class="s0">) !== HYPHENMINUS$1) {</span>
                        <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">return </span><span class="s0">checkInteger(token</span><span class="s2">, </span><span class="s5">3</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s4">// '+'? n</span>
        <span class="s4">// '+'? n &lt;signed-integer&gt;</span>
        <span class="s4">// '+'? n ['+' | '-'] &lt;signless-integer&gt;</span>
        <span class="s4">// '+'? n- &lt;signless-integer&gt;</span>
        <span class="s4">// '+'? &lt;ndashdigit-ident&gt;</span>
        <span class="s1">else if </span><span class="s0">(token.type === IDENT || (isDelim(token</span><span class="s2">, </span><span class="s0">PLUSSIGN) &amp;&amp; getNextToken(offset + </span><span class="s5">1</span><span class="s0">).type === IDENT)) {</span>
            <span class="s4">// just ignore a plus</span>
            <span class="s1">if </span><span class="s0">(token.type !== IDENT) {</span>
                <span class="s0">token = getNextToken(++offset)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null </span><span class="s0">|| !cmpChar$1(token.value</span><span class="s2">, </span><span class="s5">0</span><span class="s2">, </span><span class="s0">N)) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">switch </span><span class="s0">(token.value.length) {</span>
                <span class="s4">// '+'? n</span>
                <span class="s4">// '+'? n &lt;signed-integer&gt;</span>
                <span class="s4">// '+'? n ['+' | '-'] &lt;signless-integer&gt;</span>
                <span class="s1">case </span><span class="s5">1</span><span class="s0">:</span>
                    <span class="s1">return </span><span class="s0">consumeB(getNextToken(++offset)</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>

                <span class="s4">// '+'? n- &lt;signless-integer&gt;</span>
                <span class="s1">case </span><span class="s5">2</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(token.value.charCodeAt(</span><span class="s5">1</span><span class="s0">) !== HYPHENMINUS$1) {</span>
                        <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">offset = skipSC(getNextToken(++offset)</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>
                    <span class="s0">token = getNextToken(offset)</span><span class="s2">;</span>

                    <span class="s1">return </span><span class="s0">checkInteger(token</span><span class="s2">, </span><span class="s5">0</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>

                <span class="s4">// '+'? &lt;ndashdigit-ident&gt;</span>
                <span class="s1">default</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(token.value.charCodeAt(</span><span class="s5">1</span><span class="s0">) !== HYPHENMINUS$1) {</span>
                        <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">return </span><span class="s0">checkInteger(token</span><span class="s2">, </span><span class="s5">2</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s4">// &lt;ndashdigit-dimension&gt;</span>
        <span class="s4">// &lt;ndash-dimension&gt; &lt;signless-integer&gt;</span>
        <span class="s4">// &lt;n-dimension&gt;</span>
        <span class="s4">// &lt;n-dimension&gt; &lt;signed-integer&gt;</span>
        <span class="s4">// &lt;n-dimension&gt; ['+' | '-'] &lt;signless-integer&gt;</span>
        <span class="s1">else if </span><span class="s0">(token.type === DIMENSION) {</span>
            <span class="s1">var </span><span class="s0">code = token.value.charCodeAt(</span><span class="s5">0</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">sign = code === PLUSSIGN || code === HYPHENMINUS$1 ? </span><span class="s5">1 </span><span class="s0">: </span><span class="s5">0</span><span class="s2">;</span>

            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = sign</span><span class="s2">; </span><span class="s0">i &lt; token.value.length</span><span class="s2">; </span><span class="s0">i++) {</span>
                <span class="s1">if </span><span class="s0">(!isDigit$2(token.value.charCodeAt(i))) {</span>
                    <span class="s1">break</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(i === sign) {</span>
                <span class="s4">// Integer is expected</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(!cmpChar$1(token.value</span><span class="s2">, </span><span class="s0">i</span><span class="s2">, </span><span class="s0">N)) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// &lt;n-dimension&gt;</span>
            <span class="s4">// &lt;n-dimension&gt; &lt;signed-integer&gt;</span>
            <span class="s4">// &lt;n-dimension&gt; ['+' | '-'] &lt;signless-integer&gt;</span>
            <span class="s1">if </span><span class="s0">(i + </span><span class="s5">1 </span><span class="s0">=== token.value.length) {</span>
                <span class="s1">return </span><span class="s0">consumeB(getNextToken(++offset)</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">if </span><span class="s0">(token.value.charCodeAt(i + </span><span class="s5">1</span><span class="s0">) !== HYPHENMINUS$1) {</span>
                    <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s4">// &lt;ndash-dimension&gt; &lt;signless-integer&gt;</span>
                <span class="s1">if </span><span class="s0">(i + </span><span class="s5">2 </span><span class="s0">=== token.value.length) {</span>
                    <span class="s0">offset = skipSC(getNextToken(++offset)</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>
                    <span class="s0">token = getNextToken(offset)</span><span class="s2">;</span>

                    <span class="s1">return </span><span class="s0">checkInteger(token</span><span class="s2">, </span><span class="s5">0</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
                <span class="s0">}</span>
                <span class="s4">// &lt;ndashdigit-dimension&gt;</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">return </span><span class="s0">checkInteger(token</span><span class="s2">, </span><span class="s0">i + </span><span class="s5">2</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">isHexDigit$2 = tokenizer.isHexDigit</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">cmpChar$2 = tokenizer.cmpChar</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$4 = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$1 = TYPE$4.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DELIM$1 = TYPE$4.Delim</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NUMBER$1 = TYPE$4.Number</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DIMENSION$1 = TYPE$4.Dimension</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">PLUSSIGN$1 = </span><span class="s5">0x002B</span><span class="s2">;     </span><span class="s4">// U+002B PLUS SIGN (+)</span>
    <span class="s1">var </span><span class="s0">HYPHENMINUS$2 = </span><span class="s5">0x002D</span><span class="s2">;  </span><span class="s4">// U+002D HYPHEN-MINUS (-)</span>
    <span class="s1">var </span><span class="s0">QUESTIONMARK = </span><span class="s5">0x003F</span><span class="s2">; </span><span class="s4">// U+003F QUESTION MARK (?)</span>
    <span class="s1">var </span><span class="s0">U = </span><span class="s5">0x0075</span><span class="s2">;            </span><span class="s4">// U+0075 LATIN SMALL LETTER U (u)</span>

    <span class="s1">function </span><span class="s0">isDelim$1(token</span><span class="s2">, </span><span class="s0">code) {</span>
        <span class="s1">return </span><span class="s0">token !== </span><span class="s1">null </span><span class="s0">&amp;&amp; token.type === DELIM$1 &amp;&amp; token.value.charCodeAt(</span><span class="s5">0</span><span class="s0">) === code</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">startsWith(token</span><span class="s2">, </span><span class="s0">code) {</span>
        <span class="s1">return </span><span class="s0">token.value.charCodeAt(</span><span class="s5">0</span><span class="s0">) === code</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">hexSequence(token</span><span class="s2">, </span><span class="s0">offset</span><span class="s2">, </span><span class="s0">allowDash) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">pos = offset</span><span class="s2">, </span><span class="s0">hexlen = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">pos &lt; token.value.length</span><span class="s2">; </span><span class="s0">pos++) {</span>
            <span class="s1">var </span><span class="s0">code = token.value.charCodeAt(pos)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(code === HYPHENMINUS$2 &amp;&amp; allowDash &amp;&amp; hexlen !== </span><span class="s5">0</span><span class="s0">) {</span>
                <span class="s1">if </span><span class="s0">(hexSequence(token</span><span class="s2">, </span><span class="s0">offset + hexlen + </span><span class="s5">1</span><span class="s2">, </span><span class="s1">false</span><span class="s0">) &gt; </span><span class="s5">0</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s5">6</span><span class="s2">; </span><span class="s4">// dissallow following question marks</span>
                <span class="s0">}</span>

                <span class="s1">return </span><span class="s5">0</span><span class="s2">; </span><span class="s4">// dash at the ending of a hex sequence is not allowed</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(!isHexDigit$2(code)) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">; </span><span class="s4">// not a hex digit</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(++hexlen &gt; </span><span class="s5">6</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">; </span><span class="s4">// too many hex digits</span>
            <span class="s0">}    }</span>

        <span class="s1">return </span><span class="s0">hexlen</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">withQuestionMarkSequence(consumed</span><span class="s2">, </span><span class="s0">length</span><span class="s2">, </span><span class="s0">getNextToken) {</span>
        <span class="s1">if </span><span class="s0">(!consumed) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">; </span><span class="s4">// nothing consumed</span>
        <span class="s0">}</span>

        <span class="s1">while </span><span class="s0">(isDelim$1(getNextToken(length)</span><span class="s2">, </span><span class="s0">QUESTIONMARK)) {</span>
            <span class="s1">if </span><span class="s0">(++consumed &gt; </span><span class="s5">6</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">; </span><span class="s4">// too many question marks</span>
            <span class="s0">}</span>

            <span class="s0">length++</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">length</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// https://drafts.csswg.org/css-syntax/#urange</span>
    <span class="s4">// Informally, the &lt;urange&gt; production has three forms:</span>
    <span class="s4">// U+0001</span>
    <span class="s4">//      Defines a range consisting of a single code point, in this case the code point &quot;1&quot;.</span>
    <span class="s4">// U+0001-00ff</span>
    <span class="s4">//      Defines a range of codepoints between the first and the second value, in this case</span>
    <span class="s4">//      the range between &quot;1&quot; and &quot;ff&quot; (255 in decimal) inclusive.</span>
    <span class="s4">// U+00??</span>
    <span class="s4">//      Defines a range of codepoints where the &quot;?&quot; characters range over all hex digits,</span>
    <span class="s4">//      in this case defining the same as the value U+0000-00ff.</span>
    <span class="s4">// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat &quot;?&quot; as a hexadecimal digit).</span>
    <span class="s4">//</span>
    <span class="s4">// &lt;urange&gt; =</span>
    <span class="s4">//   u '+' &lt;ident-token&gt; '?'* |</span>
    <span class="s4">//   u &lt;dimension-token&gt; '?'* |</span>
    <span class="s4">//   u &lt;number-token&gt; '?'* |</span>
    <span class="s4">//   u &lt;number-token&gt; &lt;dimension-token&gt; |</span>
    <span class="s4">//   u &lt;number-token&gt; &lt;number-token&gt; |</span>
    <span class="s4">//   u '+' '?'+</span>
    <span class="s1">var </span><span class="s0">genericUrange = </span><span class="s1">function </span><span class="s0">urange(token</span><span class="s2">, </span><span class="s0">getNextToken) {</span>
        <span class="s1">var </span><span class="s0">length = </span><span class="s5">0</span><span class="s2">;</span>

        <span class="s4">// should start with `u` or `U`</span>
        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null </span><span class="s0">|| token.type !== IDENT$1 || !cmpChar$2(token.value</span><span class="s2">, </span><span class="s5">0</span><span class="s2">, </span><span class="s0">U)) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">token = getNextToken(++length)</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// u '+' &lt;ident-token&gt; '?'*</span>
        <span class="s4">// u '+' '?'+</span>
        <span class="s1">if </span><span class="s0">(isDelim$1(token</span><span class="s2">, </span><span class="s0">PLUSSIGN$1)) {</span>
            <span class="s0">token = getNextToken(++length)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(token.type === IDENT$1) {</span>
                <span class="s4">// u '+' &lt;ident-token&gt; '?'*</span>
                <span class="s1">return </span><span class="s0">withQuestionMarkSequence(hexSequence(token</span><span class="s2">, </span><span class="s5">0</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">, </span><span class="s0">++length</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(isDelim$1(token</span><span class="s2">, </span><span class="s0">QUESTIONMARK)) {</span>
                <span class="s4">// u '+' '?'+</span>
                <span class="s1">return </span><span class="s0">withQuestionMarkSequence(</span><span class="s5">1</span><span class="s2">, </span><span class="s0">++length</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// Hex digit or question mark is expected</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// u &lt;number-token&gt; '?'*</span>
        <span class="s4">// u &lt;number-token&gt; &lt;dimension-token&gt;</span>
        <span class="s4">// u &lt;number-token&gt; &lt;number-token&gt;</span>
        <span class="s1">if </span><span class="s0">(token.type === NUMBER$1) {</span>
            <span class="s1">if </span><span class="s0">(!startsWith(token</span><span class="s2">, </span><span class="s0">PLUSSIGN$1)) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">var </span><span class="s0">consumedHexLength = hexSequence(token</span><span class="s2">, </span><span class="s5">1</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(consumedHexLength === </span><span class="s5">0</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">token = getNextToken(++length)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s4">// u &lt;number-token&gt; &lt;eof&gt;</span>
                <span class="s1">return </span><span class="s0">length</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(token.type === DIMENSION$1 || token.type === NUMBER$1) {</span>
                <span class="s4">// u &lt;number-token&gt; &lt;dimension-token&gt;</span>
                <span class="s4">// u &lt;number-token&gt; &lt;number-token&gt;</span>
                <span class="s1">if </span><span class="s0">(!startsWith(token</span><span class="s2">, </span><span class="s0">HYPHENMINUS$2) || !hexSequence(token</span><span class="s2">, </span><span class="s5">1</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)) {</span>
                    <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">return </span><span class="s0">length + </span><span class="s5">1</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// u &lt;number-token&gt; '?'*</span>
            <span class="s1">return </span><span class="s0">withQuestionMarkSequence(consumedHexLength</span><span class="s2">, </span><span class="s0">length</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// u &lt;dimension-token&gt; '?'*</span>
        <span class="s1">if </span><span class="s0">(token.type === DIMENSION$1) {</span>
            <span class="s1">if </span><span class="s0">(!startsWith(token</span><span class="s2">, </span><span class="s0">PLUSSIGN$1)) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">withQuestionMarkSequence(hexSequence(token</span><span class="s2">, </span><span class="s5">1</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">, </span><span class="s0">++length</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">isIdentifierStart$2 = tokenizer.isIdentifierStart</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isHexDigit$3 = tokenizer.isHexDigit</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isDigit$3 = tokenizer.isDigit</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">cmpStr$3 = tokenizer.cmpStr</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">consumeNumber$2 = tokenizer.consumeNumber</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$5 = tokenizer.TYPE</span><span class="s2">;</span>



    <span class="s1">var </span><span class="s0">cssWideKeywords = [</span><span class="s3">'unset'</span><span class="s2">, </span><span class="s3">'initial'</span><span class="s2">, </span><span class="s3">'inherit'</span><span class="s0">]</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">calcFunctionNames = [</span><span class="s3">'calc('</span><span class="s2">, </span><span class="s3">'-moz-calc('</span><span class="s2">, </span><span class="s3">'-webkit-calc('</span><span class="s0">]</span><span class="s2">;</span>

    <span class="s4">// https://www.w3.org/TR/css-values-3/#lengths</span>
    <span class="s1">var </span><span class="s0">LENGTH = {</span>
        <span class="s4">// absolute length units</span>
        <span class="s3">'px'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'mm'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'cm'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'in'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'pt'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'pc'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'q'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>

        <span class="s4">// relative length units</span>
        <span class="s3">'em'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'ex'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'ch'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'rem'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>

        <span class="s4">// viewport-percentage lengths</span>
        <span class="s3">'vh'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'vw'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'vmin'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'vmax'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'vm'</span><span class="s0">: </span><span class="s1">true</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">ANGLE = {</span>
        <span class="s3">'deg'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'grad'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'rad'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'turn'</span><span class="s0">: </span><span class="s1">true</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TIME = {</span>
        <span class="s3">'s'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'ms'</span><span class="s0">: </span><span class="s1">true</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">FREQUENCY = {</span>
        <span class="s3">'hz'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'khz'</span><span class="s0">: </span><span class="s1">true</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s4">// https://www.w3.org/TR/css-values-3/#resolution (https://drafts.csswg.org/css-values/#resolution)</span>
    <span class="s1">var </span><span class="s0">RESOLUTION = {</span>
        <span class="s3">'dpi'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'dpcm'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'dppx'</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">'x'</span><span class="s0">: </span><span class="s1">true      </span><span class="s4">// https://github.com/w3c/csswg-drafts/issues/461</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s4">// https://drafts.csswg.org/css-grid/#fr-unit</span>
    <span class="s1">var </span><span class="s0">FLEX = {</span>
        <span class="s3">'fr'</span><span class="s0">: </span><span class="s1">true</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s4">// https://www.w3.org/TR/css3-speech/#mixing-props-voice-volume</span>
    <span class="s1">var </span><span class="s0">DECIBEL = {</span>
        <span class="s3">'db'</span><span class="s0">: </span><span class="s1">true</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s4">// https://www.w3.org/TR/css3-speech/#voice-props-voice-pitch</span>
    <span class="s1">var </span><span class="s0">SEMITONES = {</span>
        <span class="s3">'st'</span><span class="s0">: </span><span class="s1">true</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s4">// safe char code getter</span>
    <span class="s1">function </span><span class="s0">charCode(str</span><span class="s2">, </span><span class="s0">index) {</span>
        <span class="s1">return </span><span class="s0">index &lt; str.length ? str.charCodeAt(index) : </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">eqStr(actual</span><span class="s2">, </span><span class="s0">expected) {</span>
        <span class="s1">return </span><span class="s0">cmpStr$3(actual</span><span class="s2">, </span><span class="s5">0</span><span class="s2">, </span><span class="s0">actual.length</span><span class="s2">, </span><span class="s0">expected)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">eqStrAny(actual</span><span class="s2">, </span><span class="s0">expected) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; expected.length</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s1">if </span><span class="s0">(eqStr(actual</span><span class="s2">, </span><span class="s0">expected[i])) {</span>
                <span class="s1">return true</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return false</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// IE postfix hack, i.e. 123\0 or 123px\9</span>
    <span class="s1">function </span><span class="s0">isPostfixIeHack(str</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s1">if </span><span class="s0">(offset !== str.length - </span><span class="s5">2</span><span class="s0">) {</span>
            <span class="s1">return false</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">(</span>
            <span class="s0">str.charCodeAt(offset) === </span><span class="s5">0x005C </span><span class="s0">&amp;&amp;  </span><span class="s4">// U+005C REVERSE SOLIDUS (\)</span>
            <span class="s0">isDigit$3(str.charCodeAt(offset + </span><span class="s5">1</span><span class="s0">))</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">outOfRange(opts</span><span class="s2">, </span><span class="s0">value</span><span class="s2">, </span><span class="s0">numEnd) {</span>
        <span class="s1">if </span><span class="s0">(opts &amp;&amp; opts.type === </span><span class="s3">'Range'</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s0">num = Number(</span>
                <span class="s0">numEnd !== undefined &amp;&amp; numEnd !== value.length</span>
                    <span class="s0">? value.substr(</span><span class="s5">0</span><span class="s2">, </span><span class="s0">numEnd)</span>
                    <span class="s0">: value</span>
            <span class="s0">)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(isNaN(num)) {</span>
                <span class="s1">return true</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(opts.min !== </span><span class="s1">null </span><span class="s0">&amp;&amp; num &lt; opts.min) {</span>
                <span class="s1">return true</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(opts.max !== </span><span class="s1">null </span><span class="s0">&amp;&amp; num &gt; opts.max) {</span>
                <span class="s1">return true</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return false</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">consumeFunction(token</span><span class="s2">, </span><span class="s0">getNextToken) {</span>
        <span class="s1">var </span><span class="s0">startIdx = token.index</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">length = </span><span class="s5">0</span><span class="s2">;</span>

        <span class="s4">// balanced token consuming</span>
        <span class="s1">do </span><span class="s0">{</span>
            <span class="s0">length++</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(token.balance &lt;= startIdx) {</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">} </span><span class="s1">while </span><span class="s0">(token = getNextToken(length))</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">length</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// TODO: implement</span>
    <span class="s4">// can be used wherever &lt;length&gt;, &lt;frequency&gt;, &lt;angle&gt;, &lt;time&gt;, &lt;percentage&gt;, &lt;number&gt;, or &lt;integer&gt; values are allowed</span>
    <span class="s4">// https://drafts.csswg.org/css-values/#calc-notation</span>
    <span class="s1">function </span><span class="s0">calc(next) {</span>
        <span class="s1">return function</span><span class="s0">(token</span><span class="s2">, </span><span class="s0">getNextToken</span><span class="s2">, </span><span class="s0">opts) {</span>
            <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(token.type === TYPE$5.Function &amp;&amp; eqStrAny(token.value</span><span class="s2">, </span><span class="s0">calcFunctionNames)) {</span>
                <span class="s1">return </span><span class="s0">consumeFunction(token</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">next(token</span><span class="s2">, </span><span class="s0">getNextToken</span><span class="s2">, </span><span class="s0">opts)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">tokenType(expectedTokenType) {</span>
        <span class="s1">return function</span><span class="s0">(token) {</span>
            <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null </span><span class="s0">|| token.type !== expectedTokenType) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">func(name) {</span>
        <span class="s0">name = name + </span><span class="s3">'('</span><span class="s2">;</span>

        <span class="s1">return function</span><span class="s0">(token</span><span class="s2">, </span><span class="s0">getNextToken) {</span>
            <span class="s1">if </span><span class="s0">(token !== </span><span class="s1">null </span><span class="s0">&amp;&amp; eqStr(token.value</span><span class="s2">, </span><span class="s0">name)) {</span>
                <span class="s1">return </span><span class="s0">consumeFunction(token</span><span class="s2">, </span><span class="s0">getNextToken)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// =========================</span>
    <span class="s4">// Complex types</span>
    <span class="s4">//</span>

    <span class="s4">// https://drafts.csswg.org/css-values-4/#custom-idents</span>
    <span class="s4">// 4.2. Author-defined Identifiers: the &lt;custom-ident&gt; type</span>
    <span class="s4">// Some properties accept arbitrary author-defined identifiers as a component value.</span>
    <span class="s4">// This generic data type is denoted by &lt;custom-ident&gt;, and represents any valid CSS identifier</span>
    <span class="s4">// that would not be misinterpreted as a pre-defined keyword in that property’s value definition.</span>
    <span class="s4">//</span>
    <span class="s4">// See also: https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident</span>
    <span class="s1">function </span><span class="s0">customIdent(token) {</span>
        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null </span><span class="s0">|| token.type !== TYPE$5.Ident) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">name = token.value.toLowerCase()</span><span class="s2">;</span>

        <span class="s4">// The CSS-wide keywords are not valid &lt;custom-ident&gt;s</span>
        <span class="s1">if </span><span class="s0">(eqStrAny(name</span><span class="s2">, </span><span class="s0">cssWideKeywords)) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// The default keyword is reserved and is also not a valid &lt;custom-ident&gt;</span>
        <span class="s1">if </span><span class="s0">(eqStr(name</span><span class="s2">, </span><span class="s3">'default'</span><span class="s0">)) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// TODO: ignore property specific keywords (as described https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident)</span>
        <span class="s4">// Specifications using &lt;custom-ident&gt; must specify clearly what other keywords</span>
        <span class="s4">// are excluded from &lt;custom-ident&gt;, if any—for example by saying that any pre-defined keywords</span>
        <span class="s4">// in that property’s value definition are excluded. Excluded keywords are excluded</span>
        <span class="s4">// in all ASCII case permutations.</span>

        <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// https://drafts.csswg.org/css-variables/#typedef-custom-property-name</span>
    <span class="s4">// A custom property is any property whose name starts with two dashes (U+002D HYPHEN-MINUS), like --foo.</span>
    <span class="s4">// The &lt;custom-property-name&gt; production corresponds to this: it’s defined as any valid identifier</span>
    <span class="s4">// that starts with two dashes, except -- itself, which is reserved for future use by CSS.</span>
    <span class="s4">// NOTE: Current implementation treat `--` as a valid name since most (all?) major browsers treat it as valid.</span>
    <span class="s1">function </span><span class="s0">customPropertyName(token) {</span>
        <span class="s4">// ... defined as any valid identifier</span>
        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null </span><span class="s0">|| token.type !== TYPE$5.Ident) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// ... that starts with two dashes (U+002D HYPHEN-MINUS)</span>
        <span class="s1">if </span><span class="s0">(charCode(token.value</span><span class="s2">, </span><span class="s5">0</span><span class="s0">) !== </span><span class="s5">0x002D </span><span class="s0">|| charCode(token.value</span><span class="s2">, </span><span class="s5">1</span><span class="s0">) !== </span><span class="s5">0x002D</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// https://drafts.csswg.org/css-color-4/#hex-notation</span>
    <span class="s4">// The syntax of a &lt;hex-color&gt; is a &lt;hash-token&gt; token whose value consists of 3, 4, 6, or 8 hexadecimal digits.</span>
    <span class="s4">// In other words, a hex color is written as a hash character, &quot;#&quot;, followed by some number of digits 0-9 or</span>
    <span class="s4">// letters a-f (the case of the letters doesn’t matter - #00ff00 is identical to #00FF00).</span>
    <span class="s1">function </span><span class="s0">hexColor(token) {</span>
        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null </span><span class="s0">|| token.type !== TYPE$5.Hash) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">length = token.value.length</span><span class="s2">;</span>

        <span class="s4">// valid values (length): #rgb (4), #rgba (5), #rrggbb (7), #rrggbbaa (9)</span>
        <span class="s1">if </span><span class="s0">(length !== </span><span class="s5">4 </span><span class="s0">&amp;&amp; length !== </span><span class="s5">5 </span><span class="s0">&amp;&amp; length !== </span><span class="s5">7 </span><span class="s0">&amp;&amp; length !== </span><span class="s5">9</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">1</span><span class="s2">; </span><span class="s0">i &lt; length</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s1">if </span><span class="s0">(!isHexDigit$3(token.value.charCodeAt(i))) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">idSelector(token) {</span>
        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null </span><span class="s0">|| token.type !== TYPE$5.Hash) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(!isIdentifierStart$2(charCode(token.value</span><span class="s2">, </span><span class="s5">1</span><span class="s0">)</span><span class="s2">, </span><span class="s0">charCode(token.value</span><span class="s2">, </span><span class="s5">2</span><span class="s0">)</span><span class="s2">, </span><span class="s0">charCode(token.value</span><span class="s2">, </span><span class="s5">3</span><span class="s0">))) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// https://drafts.csswg.org/css-syntax/#any-value</span>
    <span class="s4">// It represents the entirety of what a valid declaration can have as its value.</span>
    <span class="s1">function </span><span class="s0">declarationValue(token</span><span class="s2">, </span><span class="s0">getNextToken) {</span>
        <span class="s1">if </span><span class="s0">(!token) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">length = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">level = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">startIdx = token.index</span><span class="s2">;</span>

        <span class="s4">// The &lt;declaration-value&gt; production matches any sequence of one or more tokens,</span>
        <span class="s4">// so long as the sequence ...</span>
        <span class="s0">scan:</span>
        <span class="s1">do </span><span class="s0">{</span>
            <span class="s1">switch </span><span class="s0">(token.type) {</span>
                <span class="s4">// ... does not contain &lt;bad-string-token&gt;, &lt;bad-url-token&gt;,</span>
                <span class="s1">case </span><span class="s0">TYPE$5.BadString:</span>
                <span class="s1">case </span><span class="s0">TYPE$5.BadUrl:</span>
                    <span class="s1">break </span><span class="s0">scan</span><span class="s2">;</span>

                <span class="s4">// ... unmatched &lt;)-token&gt;, &lt;]-token&gt;, or &lt;}-token&gt;,</span>
                <span class="s1">case </span><span class="s0">TYPE$5.RightCurlyBracket:</span>
                <span class="s1">case </span><span class="s0">TYPE$5.RightParenthesis:</span>
                <span class="s1">case </span><span class="s0">TYPE$5.RightSquareBracket:</span>
                    <span class="s1">if </span><span class="s0">(token.balance &gt; token.index || token.balance &lt; startIdx) {</span>
                        <span class="s1">break </span><span class="s0">scan</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">level--</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// ... or top-level &lt;semicolon-token&gt; tokens</span>
                <span class="s1">case </span><span class="s0">TYPE$5.Semicolon:</span>
                    <span class="s1">if </span><span class="s0">(level === </span><span class="s5">0</span><span class="s0">) {</span>
                        <span class="s1">break </span><span class="s0">scan</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// ... or &lt;delim-token&gt; tokens with a value of &quot;!&quot;</span>
                <span class="s1">case </span><span class="s0">TYPE$5.Delim:</span>
                    <span class="s1">if </span><span class="s0">(token.value === </span><span class="s3">'!' </span><span class="s0">&amp;&amp; level === </span><span class="s5">0</span><span class="s0">) {</span>
                        <span class="s1">break </span><span class="s0">scan</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">TYPE$5.Function:</span>
                <span class="s1">case </span><span class="s0">TYPE$5.LeftParenthesis:</span>
                <span class="s1">case </span><span class="s0">TYPE$5.LeftSquareBracket:</span>
                <span class="s1">case </span><span class="s0">TYPE$5.LeftCurlyBracket:</span>
                    <span class="s0">level++</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">length++</span><span class="s2">;</span>

            <span class="s4">// until balance closing</span>
            <span class="s1">if </span><span class="s0">(token.balance &lt;= startIdx) {</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">} </span><span class="s1">while </span><span class="s0">(token = getNextToken(length))</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">length</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// https://drafts.csswg.org/css-syntax/#any-value</span>
    <span class="s4">// The &lt;any-value&gt; production is identical to &lt;declaration-value&gt;, but also</span>
    <span class="s4">// allows top-level &lt;semicolon-token&gt; tokens and &lt;delim-token&gt; tokens</span>
    <span class="s4">// with a value of &quot;!&quot;. It represents the entirety of what valid CSS can be in any context.</span>
    <span class="s1">function </span><span class="s0">anyValue(token</span><span class="s2">, </span><span class="s0">getNextToken) {</span>
        <span class="s1">if </span><span class="s0">(!token) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">startIdx = token.index</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">length = </span><span class="s5">0</span><span class="s2">;</span>

        <span class="s4">// The &lt;any-value&gt; production matches any sequence of one or more tokens,</span>
        <span class="s4">// so long as the sequence ...</span>
        <span class="s0">scan:</span>
        <span class="s1">do </span><span class="s0">{</span>
            <span class="s1">switch </span><span class="s0">(token.type) {</span>
                <span class="s4">// ... does not contain &lt;bad-string-token&gt;, &lt;bad-url-token&gt;,</span>
                <span class="s1">case </span><span class="s0">TYPE$5.BadString:</span>
                <span class="s1">case </span><span class="s0">TYPE$5.BadUrl:</span>
                    <span class="s1">break </span><span class="s0">scan</span><span class="s2">;</span>

                <span class="s4">// ... unmatched &lt;)-token&gt;, &lt;]-token&gt;, or &lt;}-token&gt;,</span>
                <span class="s1">case </span><span class="s0">TYPE$5.RightCurlyBracket:</span>
                <span class="s1">case </span><span class="s0">TYPE$5.RightParenthesis:</span>
                <span class="s1">case </span><span class="s0">TYPE$5.RightSquareBracket:</span>
                    <span class="s1">if </span><span class="s0">(token.balance &gt; token.index || token.balance &lt; startIdx) {</span>
                        <span class="s1">break </span><span class="s0">scan</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">length++</span><span class="s2">;</span>

            <span class="s4">// until balance closing</span>
            <span class="s1">if </span><span class="s0">(token.balance &lt;= startIdx) {</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">} </span><span class="s1">while </span><span class="s0">(token = getNextToken(length))</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">length</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// =========================</span>
    <span class="s4">// Dimensions</span>
    <span class="s4">//</span>

    <span class="s1">function </span><span class="s0">dimension(type) {</span>
        <span class="s1">return function</span><span class="s0">(token</span><span class="s2">, </span><span class="s0">getNextToken</span><span class="s2">, </span><span class="s0">opts) {</span>
            <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null </span><span class="s0">|| token.type !== TYPE$5.Dimension) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">var </span><span class="s0">numberEnd = consumeNumber$2(token.value</span><span class="s2">, </span><span class="s5">0</span><span class="s0">)</span><span class="s2">;</span>

            <span class="s4">// check unit</span>
            <span class="s1">if </span><span class="s0">(type !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s4">// check for IE postfix hack, i.e. 123px\0 or 123px\9</span>
                <span class="s1">var </span><span class="s0">reverseSolidusOffset = token.value.indexOf(</span><span class="s3">'</span><span class="s2">\\</span><span class="s3">'</span><span class="s2">, </span><span class="s0">numberEnd)</span><span class="s2">;</span>
                <span class="s1">var </span><span class="s0">unit = reverseSolidusOffset === -</span><span class="s5">1 </span><span class="s0">|| !isPostfixIeHack(token.value</span><span class="s2">, </span><span class="s0">reverseSolidusOffset)</span>
                    <span class="s0">? token.value.substr(numberEnd)</span>
                    <span class="s0">: token.value.substring(numberEnd</span><span class="s2">, </span><span class="s0">reverseSolidusOffset)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(type.hasOwnProperty(unit.toLowerCase()) === </span><span class="s1">false</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s4">// check range if specified</span>
            <span class="s1">if </span><span class="s0">(outOfRange(opts</span><span class="s2">, </span><span class="s0">token.value</span><span class="s2">, </span><span class="s0">numberEnd)) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// =========================</span>
    <span class="s4">// Percentage</span>
    <span class="s4">//</span>

    <span class="s4">// §5.5. Percentages: the &lt;percentage&gt; type</span>
    <span class="s4">// https://drafts.csswg.org/css-values-4/#percentages</span>
    <span class="s1">function </span><span class="s0">percentage(token</span><span class="s2">, </span><span class="s0">getNextToken</span><span class="s2">, </span><span class="s0">opts) {</span>
        <span class="s4">// ... corresponds to the &lt;percentage-token&gt; production</span>
        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null </span><span class="s0">|| token.type !== TYPE$5.Percentage) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// check range if specified</span>
        <span class="s1">if </span><span class="s0">(outOfRange(opts</span><span class="s2">, </span><span class="s0">token.value</span><span class="s2">, </span><span class="s0">token.value.length - </span><span class="s5">1</span><span class="s0">)) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// =========================</span>
    <span class="s4">// Numeric</span>
    <span class="s4">//</span>

    <span class="s4">// https://drafts.csswg.org/css-values-4/#numbers</span>
    <span class="s4">// The value &lt;zero&gt; represents a literal number with the value 0. Expressions that merely</span>
    <span class="s4">// evaluate to a &lt;number&gt; with the value 0 (for example, calc(0)) do not match &lt;zero&gt;;</span>
    <span class="s4">// only literal &lt;number-token&gt;s do.</span>
    <span class="s1">function </span><span class="s0">zero(next) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">next !== </span><span class="s3">'function'</span><span class="s0">) {</span>
            <span class="s0">next = </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return function</span><span class="s0">(token</span><span class="s2">, </span><span class="s0">getNextToken</span><span class="s2">, </span><span class="s0">opts) {</span>
            <span class="s1">if </span><span class="s0">(token !== </span><span class="s1">null </span><span class="s0">&amp;&amp; token.type === TYPE$5.Number) {</span>
                <span class="s1">if </span><span class="s0">(Number(token.value) === </span><span class="s5">0</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">next(token</span><span class="s2">, </span><span class="s0">getNextToken</span><span class="s2">, </span><span class="s0">opts)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// § 5.3. Real Numbers: the &lt;number&gt; type</span>
    <span class="s4">// https://drafts.csswg.org/css-values-4/#numbers</span>
    <span class="s4">// Number values are denoted by &lt;number&gt;, and represent real numbers, possibly with a fractional component.</span>
    <span class="s4">// ... It corresponds to the &lt;number-token&gt; production</span>
    <span class="s1">function </span><span class="s0">number(token</span><span class="s2">, </span><span class="s0">getNextToken</span><span class="s2">, </span><span class="s0">opts) {</span>
        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">numberEnd = consumeNumber$2(token.value</span><span class="s2">, </span><span class="s5">0</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">isNumber = numberEnd === token.value.length</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(!isNumber &amp;&amp; !isPostfixIeHack(token.value</span><span class="s2">, </span><span class="s0">numberEnd)) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// check range if specified</span>
        <span class="s1">if </span><span class="s0">(outOfRange(opts</span><span class="s2">, </span><span class="s0">token.value</span><span class="s2">, </span><span class="s0">numberEnd)) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// §5.2. Integers: the &lt;integer&gt; type</span>
    <span class="s4">// https://drafts.csswg.org/css-values-4/#integers</span>
    <span class="s1">function </span><span class="s0">integer(token</span><span class="s2">, </span><span class="s0">getNextToken</span><span class="s2">, </span><span class="s0">opts) {</span>
        <span class="s4">// ... corresponds to a subset of the &lt;number-token&gt; production</span>
        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null </span><span class="s0">|| token.type !== TYPE$5.Number) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// The first digit of an integer may be immediately preceded by `-` or `+` to indicate the integer’s sign.</span>
        <span class="s1">var </span><span class="s0">i = token.value.charCodeAt(</span><span class="s5">0</span><span class="s0">) === </span><span class="s5">0x002B </span><span class="s0">||       </span><span class="s4">// U+002B PLUS SIGN (+)</span>
                <span class="s0">token.value.charCodeAt(</span><span class="s5">0</span><span class="s0">) === </span><span class="s5">0x002D </span><span class="s0">? </span><span class="s5">1 </span><span class="s0">: </span><span class="s5">0</span><span class="s2">; </span><span class="s4">// U+002D HYPHEN-MINUS (-)</span>

        <span class="s4">// When written literally, an integer is one or more decimal digits 0 through 9 ...</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">i &lt; token.value.length</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s1">if </span><span class="s0">(!isDigit$3(token.value.charCodeAt(i))) {</span>
                <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s4">// check range if specified</span>
        <span class="s1">if </span><span class="s0">(outOfRange(opts</span><span class="s2">, </span><span class="s0">token.value</span><span class="s2">, </span><span class="s0">i)) {</span>
            <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">generic = {</span>
        <span class="s4">// token types</span>
        <span class="s3">'ident-token'</span><span class="s0">: tokenType(TYPE$5.Ident)</span><span class="s2">,</span>
        <span class="s3">'function-token'</span><span class="s0">: tokenType(TYPE$5.Function)</span><span class="s2">,</span>
        <span class="s3">'at-keyword-token'</span><span class="s0">: tokenType(TYPE$5.AtKeyword)</span><span class="s2">,</span>
        <span class="s3">'hash-token'</span><span class="s0">: tokenType(TYPE$5.Hash)</span><span class="s2">,</span>
        <span class="s3">'string-token'</span><span class="s0">: tokenType(TYPE$5.String)</span><span class="s2">,</span>
        <span class="s3">'bad-string-token'</span><span class="s0">: tokenType(TYPE$5.BadString)</span><span class="s2">,</span>
        <span class="s3">'url-token'</span><span class="s0">: tokenType(TYPE$5.Url)</span><span class="s2">,</span>
        <span class="s3">'bad-url-token'</span><span class="s0">: tokenType(TYPE$5.BadUrl)</span><span class="s2">,</span>
        <span class="s3">'delim-token'</span><span class="s0">: tokenType(TYPE$5.Delim)</span><span class="s2">,</span>
        <span class="s3">'number-token'</span><span class="s0">: tokenType(TYPE$5.Number)</span><span class="s2">,</span>
        <span class="s3">'percentage-token'</span><span class="s0">: tokenType(TYPE$5.Percentage)</span><span class="s2">,</span>
        <span class="s3">'dimension-token'</span><span class="s0">: tokenType(TYPE$5.Dimension)</span><span class="s2">,</span>
        <span class="s3">'whitespace-token'</span><span class="s0">: tokenType(TYPE$5.WhiteSpace)</span><span class="s2">,</span>
        <span class="s3">'CDO-token'</span><span class="s0">: tokenType(TYPE$5.CDO)</span><span class="s2">,</span>
        <span class="s3">'CDC-token'</span><span class="s0">: tokenType(TYPE$5.CDC)</span><span class="s2">,</span>
        <span class="s3">'colon-token'</span><span class="s0">: tokenType(TYPE$5.Colon)</span><span class="s2">,</span>
        <span class="s3">'semicolon-token'</span><span class="s0">: tokenType(TYPE$5.Semicolon)</span><span class="s2">,</span>
        <span class="s3">'comma-token'</span><span class="s0">: tokenType(TYPE$5.Comma)</span><span class="s2">,</span>
        <span class="s3">'[-token'</span><span class="s0">: tokenType(TYPE$5.LeftSquareBracket)</span><span class="s2">,</span>
        <span class="s3">']-token'</span><span class="s0">: tokenType(TYPE$5.RightSquareBracket)</span><span class="s2">,</span>
        <span class="s3">'(-token'</span><span class="s0">: tokenType(TYPE$5.LeftParenthesis)</span><span class="s2">,</span>
        <span class="s3">')-token'</span><span class="s0">: tokenType(TYPE$5.RightParenthesis)</span><span class="s2">,</span>
        <span class="s3">'{-token'</span><span class="s0">: tokenType(TYPE$5.LeftCurlyBracket)</span><span class="s2">,</span>
        <span class="s3">'}-token'</span><span class="s0">: tokenType(TYPE$5.RightCurlyBracket)</span><span class="s2">,</span>

        <span class="s4">// token type aliases</span>
        <span class="s3">'string'</span><span class="s0">: tokenType(TYPE$5.String)</span><span class="s2">,</span>
        <span class="s3">'ident'</span><span class="s0">: tokenType(TYPE$5.Ident)</span><span class="s2">,</span>

        <span class="s4">// complex types</span>
        <span class="s3">'custom-ident'</span><span class="s0">: customIdent</span><span class="s2">,</span>
        <span class="s3">'custom-property-name'</span><span class="s0">: customPropertyName</span><span class="s2">,</span>
        <span class="s3">'hex-color'</span><span class="s0">: hexColor</span><span class="s2">,</span>
        <span class="s3">'id-selector'</span><span class="s0">: idSelector</span><span class="s2">, </span><span class="s4">// element( &lt;id-selector&gt; )</span>
        <span class="s3">'an-plus-b'</span><span class="s0">: genericAnPlusB</span><span class="s2">,</span>
        <span class="s3">'urange'</span><span class="s0">: genericUrange</span><span class="s2">,</span>
        <span class="s3">'declaration-value'</span><span class="s0">: declarationValue</span><span class="s2">,</span>
        <span class="s3">'any-value'</span><span class="s0">: anyValue</span><span class="s2">,</span>

        <span class="s4">// dimensions</span>
        <span class="s3">'dimension'</span><span class="s0">: calc(dimension(</span><span class="s1">null</span><span class="s0">))</span><span class="s2">,</span>
        <span class="s3">'angle'</span><span class="s0">: calc(dimension(ANGLE))</span><span class="s2">,</span>
        <span class="s3">'decibel'</span><span class="s0">: calc(dimension(DECIBEL))</span><span class="s2">,</span>
        <span class="s3">'frequency'</span><span class="s0">: calc(dimension(FREQUENCY))</span><span class="s2">,</span>
        <span class="s3">'flex'</span><span class="s0">: calc(dimension(FLEX))</span><span class="s2">,</span>
        <span class="s3">'length'</span><span class="s0">: calc(zero(dimension(LENGTH)))</span><span class="s2">,</span>
        <span class="s3">'resolution'</span><span class="s0">: calc(dimension(RESOLUTION))</span><span class="s2">,</span>
        <span class="s3">'semitones'</span><span class="s0">: calc(dimension(SEMITONES))</span><span class="s2">,</span>
        <span class="s3">'time'</span><span class="s0">: calc(dimension(TIME))</span><span class="s2">,</span>

        <span class="s4">// percentage</span>
        <span class="s3">'percentage'</span><span class="s0">: calc(percentage)</span><span class="s2">,</span>

        <span class="s4">// numeric</span>
        <span class="s3">'zero'</span><span class="s0">: zero()</span><span class="s2">,</span>
        <span class="s3">'number'</span><span class="s0">: calc(number)</span><span class="s2">,</span>
        <span class="s3">'integer'</span><span class="s0">: calc(integer)</span><span class="s2">,</span>

        <span class="s4">// old IE stuff</span>
        <span class="s3">'-ms-legacy-expression'</span><span class="s0">: func(</span><span class="s3">'expression'</span><span class="s0">)</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">_SyntaxError$1 = </span><span class="s1">function </span><span class="s0">SyntaxError(message</span><span class="s2">, </span><span class="s0">input</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s1">var </span><span class="s0">error = createCustomError(</span><span class="s3">'SyntaxError'</span><span class="s2">, </span><span class="s0">message)</span><span class="s2">;</span>

        <span class="s0">error.input = input</span><span class="s2">;</span>
        <span class="s0">error.offset = offset</span><span class="s2">;</span>
        <span class="s0">error.rawMessage = message</span><span class="s2">;</span>
        <span class="s0">error.message = error.rawMessage + </span><span class="s3">'</span><span class="s2">\n</span><span class="s3">' </span><span class="s0">+</span>
            <span class="s3">'  ' </span><span class="s0">+ error.input + </span><span class="s3">'</span><span class="s2">\n</span><span class="s3">' </span><span class="s0">+</span>
            <span class="s3">'--' </span><span class="s0">+ </span><span class="s1">new </span><span class="s0">Array((error.offset || error.input.length) + </span><span class="s5">1</span><span class="s0">).join(</span><span class="s3">'-'</span><span class="s0">) + </span><span class="s3">'^'</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">error</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TAB = </span><span class="s5">9</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">N$1 = </span><span class="s5">10</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">F = </span><span class="s5">12</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">R = </span><span class="s5">13</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">SPACE = </span><span class="s5">32</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">Tokenizer = </span><span class="s1">function</span><span class="s0">(str) {</span>
        <span class="s1">this</span><span class="s0">.str = str</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.pos = </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">Tokenizer.prototype = {</span>
        <span class="s0">charCodeAt: </span><span class="s1">function</span><span class="s0">(pos) {</span>
            <span class="s1">return </span><span class="s0">pos &lt; </span><span class="s1">this</span><span class="s0">.str.length ? </span><span class="s1">this</span><span class="s0">.str.charCodeAt(pos) : </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">charCode: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return this</span><span class="s0">.charCodeAt(</span><span class="s1">this</span><span class="s0">.pos)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">nextCharCode: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return this</span><span class="s0">.charCodeAt(</span><span class="s1">this</span><span class="s0">.pos + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">nextNonWsCode: </span><span class="s1">function</span><span class="s0">(pos) {</span>
            <span class="s1">return this</span><span class="s0">.charCodeAt(</span><span class="s1">this</span><span class="s0">.findWsEnd(pos))</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">findWsEnd: </span><span class="s1">function</span><span class="s0">(pos) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">pos &lt; </span><span class="s1">this</span><span class="s0">.str.length</span><span class="s2">; </span><span class="s0">pos++) {</span>
                <span class="s1">var </span><span class="s0">code = </span><span class="s1">this</span><span class="s0">.str.charCodeAt(pos)</span><span class="s2">;</span>
                <span class="s1">if </span><span class="s0">(code !== R &amp;&amp; code !== N$1 &amp;&amp; code !== F &amp;&amp; code !== SPACE &amp;&amp; code !== TAB) {</span>
                    <span class="s1">break</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">pos</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">substringToPos: </span><span class="s1">function</span><span class="s0">(end) {</span>
            <span class="s1">return this</span><span class="s0">.str.substring(</span><span class="s1">this</span><span class="s0">.pos</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.pos = end)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">eat: </span><span class="s1">function</span><span class="s0">(code) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.charCode() !== code) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Expect `' </span><span class="s0">+ String.fromCharCode(code) + </span><span class="s3">'`'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.pos++</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">peek: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return this</span><span class="s0">.pos &lt; </span><span class="s1">this</span><span class="s0">.str.length ? </span><span class="s1">this</span><span class="s0">.str.charAt(</span><span class="s1">this</span><span class="s0">.pos++) : </span><span class="s3">''</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">error: </span><span class="s1">function</span><span class="s0">(message) {</span>
            <span class="s1">throw new </span><span class="s0">_SyntaxError$1(message</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.str</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.pos)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">tokenizer$1 = Tokenizer</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TAB$1 = </span><span class="s5">9</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">N$2 = </span><span class="s5">10</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">F$1 = </span><span class="s5">12</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">R$1 = </span><span class="s5">13</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">SPACE$1 = </span><span class="s5">32</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">EXCLAMATIONMARK = </span><span class="s5">33</span><span class="s2">;    </span><span class="s4">// !</span>
    <span class="s1">var </span><span class="s0">NUMBERSIGN = </span><span class="s5">35</span><span class="s2">;         </span><span class="s4">// #</span>
    <span class="s1">var </span><span class="s0">AMPERSAND = </span><span class="s5">38</span><span class="s2">;          </span><span class="s4">// &amp;</span>
    <span class="s1">var </span><span class="s0">APOSTROPHE = </span><span class="s5">39</span><span class="s2">;         </span><span class="s4">// '</span>
    <span class="s1">var </span><span class="s0">LEFTPARENTHESIS = </span><span class="s5">40</span><span class="s2">;    </span><span class="s4">// (</span>
    <span class="s1">var </span><span class="s0">RIGHTPARENTHESIS = </span><span class="s5">41</span><span class="s2">;   </span><span class="s4">// )</span>
    <span class="s1">var </span><span class="s0">ASTERISK = </span><span class="s5">42</span><span class="s2">;           </span><span class="s4">// *</span>
    <span class="s1">var </span><span class="s0">PLUSSIGN$2 = </span><span class="s5">43</span><span class="s2">;           </span><span class="s4">// +</span>
    <span class="s1">var </span><span class="s0">COMMA = </span><span class="s5">44</span><span class="s2">;              </span><span class="s4">// ,</span>
    <span class="s1">var </span><span class="s0">HYPERMINUS = </span><span class="s5">45</span><span class="s2">;         </span><span class="s4">// -</span>
    <span class="s1">var </span><span class="s0">LESSTHANSIGN = </span><span class="s5">60</span><span class="s2">;       </span><span class="s4">// &lt;</span>
    <span class="s1">var </span><span class="s0">GREATERTHANSIGN = </span><span class="s5">62</span><span class="s2">;    </span><span class="s4">// &gt;</span>
    <span class="s1">var </span><span class="s0">QUESTIONMARK$1 = </span><span class="s5">63</span><span class="s2">;       </span><span class="s4">// ?</span>
    <span class="s1">var </span><span class="s0">COMMERCIALAT = </span><span class="s5">64</span><span class="s2">;       </span><span class="s4">// @</span>
    <span class="s1">var </span><span class="s0">LEFTSQUAREBRACKET = </span><span class="s5">91</span><span class="s2">;  </span><span class="s4">// [</span>
    <span class="s1">var </span><span class="s0">RIGHTSQUAREBRACKET = </span><span class="s5">93</span><span class="s2">; </span><span class="s4">// ]</span>
    <span class="s1">var </span><span class="s0">LEFTCURLYBRACKET = </span><span class="s5">123</span><span class="s2">;  </span><span class="s4">// {</span>
    <span class="s1">var </span><span class="s0">VERTICALLINE = </span><span class="s5">124</span><span class="s2">;      </span><span class="s4">// |</span>
    <span class="s1">var </span><span class="s0">RIGHTCURLYBRACKET = </span><span class="s5">125</span><span class="s2">; </span><span class="s4">// }</span>
    <span class="s1">var </span><span class="s0">INFINITY = </span><span class="s5">8734</span><span class="s2">;         </span><span class="s4">// ∞</span>
    <span class="s1">var </span><span class="s0">NAME_CHAR = createCharMap(</span><span class="s1">function</span><span class="s0">(ch) {</span>
        <span class="s1">return </span><span class="s5">/[a-zA-Z0-9\-]/</span><span class="s0">.test(ch)</span><span class="s2">;</span>
    <span class="s0">})</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMBINATOR_PRECEDENCE = {</span>
        <span class="s3">' '</span><span class="s0">: </span><span class="s5">1</span><span class="s2">,</span>
        <span class="s3">'&amp;&amp;'</span><span class="s0">: </span><span class="s5">2</span><span class="s2">,</span>
        <span class="s3">'||'</span><span class="s0">: </span><span class="s5">3</span><span class="s2">,</span>
        <span class="s3">'|'</span><span class="s0">: </span><span class="s5">4</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">createCharMap(fn) {</span>
        <span class="s1">var </span><span class="s0">array = </span><span class="s1">typeof </span><span class="s0">Uint32Array === </span><span class="s3">'function' </span><span class="s0">? </span><span class="s1">new </span><span class="s0">Uint32Array(</span><span class="s5">128</span><span class="s0">) : </span><span class="s1">new </span><span class="s0">Array(</span><span class="s5">128</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; </span><span class="s5">128</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s0">array[i] = fn(String.fromCharCode(i)) ? </span><span class="s5">1 </span><span class="s0">: </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s0">array</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">scanSpaces(tokenizer) {</span>
        <span class="s1">return </span><span class="s0">tokenizer.substringToPos(</span>
            <span class="s0">tokenizer.findWsEnd(tokenizer.pos)</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">scanWord(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">end = tokenizer.pos</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">end &lt; tokenizer.str.length</span><span class="s2">; </span><span class="s0">end++) {</span>
            <span class="s1">var </span><span class="s0">code = tokenizer.str.charCodeAt(end)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(code &gt;= </span><span class="s5">128 </span><span class="s0">|| NAME_CHAR[code] === </span><span class="s5">0</span><span class="s0">) {</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(tokenizer.pos === end) {</span>
            <span class="s0">tokenizer.error(</span><span class="s3">'Expect a keyword'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">tokenizer.substringToPos(end)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">scanNumber(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">end = tokenizer.pos</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">end &lt; tokenizer.str.length</span><span class="s2">; </span><span class="s0">end++) {</span>
            <span class="s1">var </span><span class="s0">code = tokenizer.str.charCodeAt(end)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(code &lt; </span><span class="s5">48 </span><span class="s0">|| code &gt; </span><span class="s5">57</span><span class="s0">) {</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(tokenizer.pos === end) {</span>
            <span class="s0">tokenizer.error(</span><span class="s3">'Expect a number'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">tokenizer.substringToPos(end)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">scanString(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">end = tokenizer.str.indexOf(</span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s2">, </span><span class="s0">tokenizer.pos + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(end === -</span><span class="s5">1</span><span class="s0">) {</span>
            <span class="s0">tokenizer.pos = tokenizer.str.length</span><span class="s2">;</span>
            <span class="s0">tokenizer.error(</span><span class="s3">'Expect an apostrophe'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">tokenizer.substringToPos(end + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">readMultiplierRange(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">min = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">max = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s0">tokenizer.eat(LEFTCURLYBRACKET)</span><span class="s2">;</span>

        <span class="s0">min = scanNumber(tokenizer)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(tokenizer.charCode() === COMMA) {</span>
            <span class="s0">tokenizer.pos++</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(tokenizer.charCode() !== RIGHTCURLYBRACKET) {</span>
                <span class="s0">max = scanNumber(tokenizer)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">max = min</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">tokenizer.eat(RIGHTCURLYBRACKET)</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">min: Number(min)</span><span class="s2">,</span>
            <span class="s0">max: max ? Number(max) : </span><span class="s5">0</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">readMultiplier(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">range = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">comma = </span><span class="s1">false</span><span class="s2">;</span>

        <span class="s1">switch </span><span class="s0">(tokenizer.charCode()) {</span>
            <span class="s1">case </span><span class="s0">ASTERISK:</span>
                <span class="s0">tokenizer.pos++</span><span class="s2">;</span>

                <span class="s0">range = {</span>
                    <span class="s0">min: </span><span class="s5">0</span><span class="s2">,</span>
                    <span class="s0">max: </span><span class="s5">0</span>
                <span class="s0">}</span><span class="s2">;</span>

                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">PLUSSIGN$2:</span>
                <span class="s0">tokenizer.pos++</span><span class="s2">;</span>

                <span class="s0">range = {</span>
                    <span class="s0">min: </span><span class="s5">1</span><span class="s2">,</span>
                    <span class="s0">max: </span><span class="s5">0</span>
                <span class="s0">}</span><span class="s2">;</span>

                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">QUESTIONMARK$1:</span>
                <span class="s0">tokenizer.pos++</span><span class="s2">;</span>

                <span class="s0">range = {</span>
                    <span class="s0">min: </span><span class="s5">0</span><span class="s2">,</span>
                    <span class="s0">max: </span><span class="s5">1</span>
                <span class="s0">}</span><span class="s2">;</span>

                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">NUMBERSIGN:</span>
                <span class="s0">tokenizer.pos++</span><span class="s2">;</span>

                <span class="s0">comma = </span><span class="s1">true</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(tokenizer.charCode() === LEFTCURLYBRACKET) {</span>
                    <span class="s0">range = readMultiplierRange(tokenizer)</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">range = {</span>
                        <span class="s0">min: </span><span class="s5">1</span><span class="s2">,</span>
                        <span class="s0">max: </span><span class="s5">0</span>
                    <span class="s0">}</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">LEFTCURLYBRACKET:</span>
                <span class="s0">range = readMultiplierRange(tokenizer)</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">default</span><span class="s0">:</span>
                <span class="s1">return null</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s3">'Multiplier'</span><span class="s2">,</span>
            <span class="s0">comma: comma</span><span class="s2">,</span>
            <span class="s0">min: range.min</span><span class="s2">,</span>
            <span class="s0">max: range.max</span><span class="s2">,</span>
            <span class="s0">term: </span><span class="s1">null</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">maybeMultiplied(tokenizer</span><span class="s2">, </span><span class="s0">node) {</span>
        <span class="s1">var </span><span class="s0">multiplier = readMultiplier(tokenizer)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(multiplier !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">multiplier.term = node</span><span class="s2">;</span>
            <span class="s1">return </span><span class="s0">multiplier</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">node</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">maybeToken(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">ch = tokenizer.peek()</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(ch === </span><span class="s3">''</span><span class="s0">) {</span>
            <span class="s1">return null</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s3">'Token'</span><span class="s2">,</span>
            <span class="s0">value: ch</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">readProperty(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">name</span><span class="s2">;</span>

        <span class="s0">tokenizer.eat(LESSTHANSIGN)</span><span class="s2">;</span>
        <span class="s0">tokenizer.eat(APOSTROPHE)</span><span class="s2">;</span>

        <span class="s0">name = scanWord(tokenizer)</span><span class="s2">;</span>

        <span class="s0">tokenizer.eat(APOSTROPHE)</span><span class="s2">;</span>
        <span class="s0">tokenizer.eat(GREATERTHANSIGN)</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">maybeMultiplied(tokenizer</span><span class="s2">, </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s3">'Property'</span><span class="s2">,</span>
            <span class="s0">name: name</span>
        <span class="s0">})</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// https://drafts.csswg.org/css-values-3/#numeric-ranges</span>
    <span class="s4">// 4.1. Range Restrictions and Range Definition Notation</span>
    <span class="s4">//</span>
    <span class="s4">// Range restrictions can be annotated in the numeric type notation using CSS bracketed</span>
    <span class="s4">// range notation—[min,max]—within the angle brackets, after the identifying keyword,</span>
    <span class="s4">// indicating a closed range between (and including) min and max.</span>
    <span class="s4">// For example, &lt;integer [0, 10]&gt; indicates an integer between 0 and 10, inclusive.</span>
    <span class="s1">function </span><span class="s0">readTypeRange(tokenizer) {</span>
        <span class="s4">// use null for Infinity to make AST format JSON serializable/deserializable</span>
        <span class="s1">var </span><span class="s0">min = </span><span class="s1">null</span><span class="s2">; </span><span class="s4">// -Infinity</span>
        <span class="s1">var </span><span class="s0">max = </span><span class="s1">null</span><span class="s2">; </span><span class="s4">// Infinity</span>
        <span class="s1">var </span><span class="s0">sign = </span><span class="s5">1</span><span class="s2">;</span>

        <span class="s0">tokenizer.eat(LEFTSQUAREBRACKET)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(tokenizer.charCode() === HYPERMINUS) {</span>
            <span class="s0">tokenizer.peek()</span><span class="s2">;</span>
            <span class="s0">sign = -</span><span class="s5">1</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(sign == -</span><span class="s5">1 </span><span class="s0">&amp;&amp; tokenizer.charCode() === INFINITY) {</span>
            <span class="s0">tokenizer.peek()</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">min = sign * Number(scanNumber(tokenizer))</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">scanSpaces(tokenizer)</span><span class="s2">;</span>
        <span class="s0">tokenizer.eat(COMMA)</span><span class="s2">;</span>
        <span class="s0">scanSpaces(tokenizer)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(tokenizer.charCode() === INFINITY) {</span>
            <span class="s0">tokenizer.peek()</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">sign = </span><span class="s5">1</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(tokenizer.charCode() === HYPERMINUS) {</span>
                <span class="s0">tokenizer.peek()</span><span class="s2">;</span>
                <span class="s0">sign = -</span><span class="s5">1</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">max = sign * Number(scanNumber(tokenizer))</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">tokenizer.eat(RIGHTSQUAREBRACKET)</span><span class="s2">;</span>

        <span class="s4">// If no range is indicated, either by using the bracketed range notation</span>
        <span class="s4">// or in the property description, then [−∞,∞] is assumed.</span>
        <span class="s1">if </span><span class="s0">(min === </span><span class="s1">null </span><span class="s0">&amp;&amp; max === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return null</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s3">'Range'</span><span class="s2">,</span>
            <span class="s0">min: min</span><span class="s2">,</span>
            <span class="s0">max: max</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">readType(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">name</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">opts = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s0">tokenizer.eat(LESSTHANSIGN)</span><span class="s2">;</span>
        <span class="s0">name = scanWord(tokenizer)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(tokenizer.charCode() === LEFTPARENTHESIS &amp;&amp;</span>
            <span class="s0">tokenizer.nextCharCode() === RIGHTPARENTHESIS) {</span>
            <span class="s0">tokenizer.pos += </span><span class="s5">2</span><span class="s2">;</span>
            <span class="s0">name += </span><span class="s3">'()'</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(tokenizer.charCodeAt(tokenizer.findWsEnd(tokenizer.pos)) === LEFTSQUAREBRACKET) {</span>
            <span class="s0">scanSpaces(tokenizer)</span><span class="s2">;</span>
            <span class="s0">opts = readTypeRange(tokenizer)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">tokenizer.eat(GREATERTHANSIGN)</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">maybeMultiplied(tokenizer</span><span class="s2">, </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s3">'Type'</span><span class="s2">,</span>
            <span class="s0">name: name</span><span class="s2">,</span>
            <span class="s0">opts: opts</span>
        <span class="s0">})</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">readKeywordOrFunction(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">name</span><span class="s2">;</span>

        <span class="s0">name = scanWord(tokenizer)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(tokenizer.charCode() === LEFTPARENTHESIS) {</span>
            <span class="s0">tokenizer.pos++</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Function'</span><span class="s2">,</span>
                <span class="s0">name: name</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">maybeMultiplied(tokenizer</span><span class="s2">, </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s3">'Keyword'</span><span class="s2">,</span>
            <span class="s0">name: name</span>
        <span class="s0">})</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">regroupTerms(terms</span><span class="s2">, </span><span class="s0">combinators) {</span>
        <span class="s1">function </span><span class="s0">createGroup(terms</span><span class="s2">, </span><span class="s0">combinator) {</span>
            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Group'</span><span class="s2">,</span>
                <span class="s0">terms: terms</span><span class="s2">,</span>
                <span class="s0">combinator: combinator</span><span class="s2">,</span>
                <span class="s0">disallowEmpty: </span><span class="s1">false</span><span class="s2">,</span>
                <span class="s0">explicit: </span><span class="s1">false</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">combinators = Object.keys(combinators).sort(</span><span class="s1">function</span><span class="s0">(a</span><span class="s2">, </span><span class="s0">b) {</span>
            <span class="s1">return </span><span class="s0">COMBINATOR_PRECEDENCE[a] - COMBINATOR_PRECEDENCE[b]</span><span class="s2">;</span>
        <span class="s0">})</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(combinators.length &gt; </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s0">combinator = combinators.shift()</span><span class="s2">;</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">, </span><span class="s0">subgroupStart = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; terms.length</span><span class="s2">; </span><span class="s0">i++) {</span>
                <span class="s1">var </span><span class="s0">term = terms[i]</span><span class="s2">;</span>
                <span class="s1">if </span><span class="s0">(term.type === </span><span class="s3">'Combinator'</span><span class="s0">) {</span>
                    <span class="s1">if </span><span class="s0">(term.value === combinator) {</span>
                        <span class="s1">if </span><span class="s0">(subgroupStart === -</span><span class="s5">1</span><span class="s0">) {</span>
                            <span class="s0">subgroupStart = i - </span><span class="s5">1</span><span class="s2">;</span>
                        <span class="s0">}</span>
                        <span class="s0">terms.splice(i</span><span class="s2">, </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
                        <span class="s0">i--</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">if </span><span class="s0">(subgroupStart !== -</span><span class="s5">1 </span><span class="s0">&amp;&amp; i - subgroupStart &gt; </span><span class="s5">1</span><span class="s0">) {</span>
                            <span class="s0">terms.splice(</span>
                                <span class="s0">subgroupStart</span><span class="s2">,</span>
                                <span class="s0">i - subgroupStart</span><span class="s2">,</span>
                                <span class="s0">createGroup(terms.slice(subgroupStart</span><span class="s2">, </span><span class="s0">i)</span><span class="s2">, </span><span class="s0">combinator)</span>
                            <span class="s0">)</span><span class="s2">;</span>
                            <span class="s0">i = subgroupStart + </span><span class="s5">1</span><span class="s2">;</span>
                        <span class="s0">}</span>
                        <span class="s0">subgroupStart = -</span><span class="s5">1</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(subgroupStart !== -</span><span class="s5">1 </span><span class="s0">&amp;&amp; combinators.length) {</span>
                <span class="s0">terms.splice(</span>
                    <span class="s0">subgroupStart</span><span class="s2">,</span>
                    <span class="s0">i - subgroupStart</span><span class="s2">,</span>
                    <span class="s0">createGroup(terms.slice(subgroupStart</span><span class="s2">, </span><span class="s0">i)</span><span class="s2">, </span><span class="s0">combinator)</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">combinator</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">readImplicitGroup(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">terms = []</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">combinators = {}</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">token</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">prevToken = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">prevTokenPos = tokenizer.pos</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(token = peek(tokenizer)) {</span>
            <span class="s1">if </span><span class="s0">(token.type !== </span><span class="s3">'Spaces'</span><span class="s0">) {</span>
                <span class="s1">if </span><span class="s0">(token.type === </span><span class="s3">'Combinator'</span><span class="s0">) {</span>
                    <span class="s4">// check for combinator in group beginning and double combinator sequence</span>
                    <span class="s1">if </span><span class="s0">(prevToken === </span><span class="s1">null </span><span class="s0">|| prevToken.type === </span><span class="s3">'Combinator'</span><span class="s0">) {</span>
                        <span class="s0">tokenizer.pos = prevTokenPos</span><span class="s2">;</span>
                        <span class="s0">tokenizer.error(</span><span class="s3">'Unexpected combinator'</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">combinators[token.value] = </span><span class="s1">true</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(prevToken !== </span><span class="s1">null </span><span class="s0">&amp;&amp; prevToken.type !== </span><span class="s3">'Combinator'</span><span class="s0">) {</span>
                    <span class="s0">combinators[</span><span class="s3">' '</span><span class="s0">] = </span><span class="s1">true</span><span class="s2">;  </span><span class="s4">// a b</span>
                    <span class="s0">terms.push({</span>
                        <span class="s0">type: </span><span class="s3">'Combinator'</span><span class="s2">,</span>
                        <span class="s0">value: </span><span class="s3">' '</span>
                    <span class="s0">})</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">terms.push(token)</span><span class="s2">;</span>
                <span class="s0">prevToken = token</span><span class="s2">;</span>
                <span class="s0">prevTokenPos = tokenizer.pos</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s4">// check for combinator in group ending</span>
        <span class="s1">if </span><span class="s0">(prevToken !== </span><span class="s1">null </span><span class="s0">&amp;&amp; prevToken.type === </span><span class="s3">'Combinator'</span><span class="s0">) {</span>
            <span class="s0">tokenizer.pos -= prevTokenPos</span><span class="s2">;</span>
            <span class="s0">tokenizer.error(</span><span class="s3">'Unexpected combinator'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s3">'Group'</span><span class="s2">,</span>
            <span class="s0">terms: terms</span><span class="s2">,</span>
            <span class="s0">combinator: regroupTerms(terms</span><span class="s2">, </span><span class="s0">combinators) || </span><span class="s3">' '</span><span class="s2">,</span>
            <span class="s0">disallowEmpty: </span><span class="s1">false</span><span class="s2">,</span>
            <span class="s0">explicit: </span><span class="s1">false</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">readGroup(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">result</span><span class="s2">;</span>

        <span class="s0">tokenizer.eat(LEFTSQUAREBRACKET)</span><span class="s2">;</span>
        <span class="s0">result = readImplicitGroup(tokenizer)</span><span class="s2">;</span>
        <span class="s0">tokenizer.eat(RIGHTSQUAREBRACKET)</span><span class="s2">;</span>

        <span class="s0">result.explicit = </span><span class="s1">true</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(tokenizer.charCode() === EXCLAMATIONMARK) {</span>
            <span class="s0">tokenizer.pos++</span><span class="s2">;</span>
            <span class="s0">result.disallowEmpty = </span><span class="s1">true</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">peek(tokenizer) {</span>
        <span class="s1">var </span><span class="s0">code = tokenizer.charCode()</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(code &lt; </span><span class="s5">128 </span><span class="s0">&amp;&amp; NAME_CHAR[code] === </span><span class="s5">1</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s0">readKeywordOrFunction(tokenizer)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">switch </span><span class="s0">(code) {</span>
            <span class="s1">case </span><span class="s0">RIGHTSQUAREBRACKET:</span>
                <span class="s4">// don't eat, stop scan a group</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">LEFTSQUAREBRACKET:</span>
                <span class="s1">return </span><span class="s0">maybeMultiplied(tokenizer</span><span class="s2">, </span><span class="s0">readGroup(tokenizer))</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">LESSTHANSIGN:</span>
                <span class="s1">return </span><span class="s0">tokenizer.nextCharCode() === APOSTROPHE</span>
                    <span class="s0">? readProperty(tokenizer)</span>
                    <span class="s0">: readType(tokenizer)</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">VERTICALLINE:</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">type: </span><span class="s3">'Combinator'</span><span class="s2">,</span>
                    <span class="s0">value: tokenizer.substringToPos(</span>
                        <span class="s0">tokenizer.nextCharCode() === VERTICALLINE</span>
                            <span class="s0">? tokenizer.pos + </span><span class="s5">2</span>
                            <span class="s0">: tokenizer.pos + </span><span class="s5">1</span>
                    <span class="s0">)</span>
                <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">AMPERSAND:</span>
                <span class="s0">tokenizer.pos++</span><span class="s2">;</span>
                <span class="s0">tokenizer.eat(AMPERSAND)</span><span class="s2">;</span>

                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">type: </span><span class="s3">'Combinator'</span><span class="s2">,</span>
                    <span class="s0">value: </span><span class="s3">'&amp;&amp;'</span>
                <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">COMMA:</span>
                <span class="s0">tokenizer.pos++</span><span class="s2">;</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">type: </span><span class="s3">'Comma'</span>
                <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">APOSTROPHE:</span>
                <span class="s1">return </span><span class="s0">maybeMultiplied(tokenizer</span><span class="s2">, </span><span class="s0">{</span>
                    <span class="s0">type: </span><span class="s3">'String'</span><span class="s2">,</span>
                    <span class="s0">value: scanString(tokenizer)</span>
                <span class="s0">})</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">SPACE$1:</span>
            <span class="s1">case </span><span class="s0">TAB$1:</span>
            <span class="s1">case </span><span class="s0">N$2:</span>
            <span class="s1">case </span><span class="s0">R$1:</span>
            <span class="s1">case </span><span class="s0">F$1:</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">type: </span><span class="s3">'Spaces'</span><span class="s2">,</span>
                    <span class="s0">value: scanSpaces(tokenizer)</span>
                <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">COMMERCIALAT:</span>
                <span class="s0">code = tokenizer.nextCharCode()</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(code &lt; </span><span class="s5">128 </span><span class="s0">&amp;&amp; NAME_CHAR[code] === </span><span class="s5">1</span><span class="s0">) {</span>
                    <span class="s0">tokenizer.pos++</span><span class="s2">;</span>
                    <span class="s1">return </span><span class="s0">{</span>
                        <span class="s0">type: </span><span class="s3">'AtKeyword'</span><span class="s2">,</span>
                        <span class="s0">name: scanWord(tokenizer)</span>
                    <span class="s0">}</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">return </span><span class="s0">maybeToken(tokenizer)</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">ASTERISK:</span>
            <span class="s1">case </span><span class="s0">PLUSSIGN$2:</span>
            <span class="s1">case </span><span class="s0">QUESTIONMARK$1:</span>
            <span class="s1">case </span><span class="s0">NUMBERSIGN:</span>
            <span class="s1">case </span><span class="s0">EXCLAMATIONMARK:</span>
                <span class="s4">// prohibited tokens (used as a multiplier start)</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">LEFTCURLYBRACKET:</span>
                <span class="s4">// LEFTCURLYBRACKET is allowed since mdn/data uses it w/o quoting</span>
                <span class="s4">// check next char isn't a number, because it's likely a disjoined multiplier</span>
                <span class="s0">code = tokenizer.nextCharCode()</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(code &lt; </span><span class="s5">48 </span><span class="s0">|| code &gt; </span><span class="s5">57</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">maybeToken(tokenizer)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">default</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">maybeToken(tokenizer)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">parse(source) {</span>
        <span class="s1">var </span><span class="s0">tokenizer = </span><span class="s1">new </span><span class="s0">tokenizer$1(source)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">result = readImplicitGroup(tokenizer)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(tokenizer.pos !== source.length) {</span>
            <span class="s0">tokenizer.error(</span><span class="s3">'Unexpected input'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// reduce redundant groups with single group term</span>
        <span class="s1">if </span><span class="s0">(result.terms.length === </span><span class="s5">1 </span><span class="s0">&amp;&amp; result.terms[</span><span class="s5">0</span><span class="s0">].type === </span><span class="s3">'Group'</span><span class="s0">) {</span>
            <span class="s0">result = result.terms[</span><span class="s5">0</span><span class="s0">]</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// warm up parse to elimitate code branches that never execute</span>
    <span class="s4">// fix soft deoptimizations (insufficient type feedback)</span>
    <span class="s0">parse(</span><span class="s3">'[a&amp;&amp;&lt;b&gt;#|&lt;</span><span class="s2">\'</span><span class="s3">c</span><span class="s2">\'</span><span class="s3">&gt;*||e() f{2} /,(% g#{1,2} h{2,})]!'</span><span class="s0">)</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">parse_1 = parse</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">noop$1 = </span><span class="s1">function</span><span class="s0">() {}</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">ensureFunction(value) {</span>
        <span class="s1">return typeof </span><span class="s0">value === </span><span class="s3">'function' </span><span class="s0">? value : noop$1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">walk = </span><span class="s1">function</span><span class="s0">(node</span><span class="s2">, </span><span class="s0">options</span><span class="s2">, </span><span class="s0">context) {</span>
        <span class="s1">function </span><span class="s0">walk(node) {</span>
            <span class="s0">enter.call(context</span><span class="s2">, </span><span class="s0">node)</span><span class="s2">;</span>

            <span class="s1">switch </span><span class="s0">(node.type) {</span>
                <span class="s1">case </span><span class="s3">'Group'</span><span class="s0">:</span>
                    <span class="s0">node.terms.forEach(walk)</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'Multiplier'</span><span class="s0">:</span>
                    <span class="s0">walk(node.term)</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'Type'</span><span class="s0">:</span>
                <span class="s1">case </span><span class="s3">'Property'</span><span class="s0">:</span>
                <span class="s1">case </span><span class="s3">'Keyword'</span><span class="s0">:</span>
                <span class="s1">case </span><span class="s3">'AtKeyword'</span><span class="s0">:</span>
                <span class="s1">case </span><span class="s3">'Function'</span><span class="s0">:</span>
                <span class="s1">case </span><span class="s3">'String'</span><span class="s0">:</span>
                <span class="s1">case </span><span class="s3">'Token'</span><span class="s0">:</span>
                <span class="s1">case </span><span class="s3">'Comma'</span><span class="s0">:</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">default</span><span class="s0">:</span>
                    <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Unknown type: ' </span><span class="s0">+ node.type)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">leave.call(context</span><span class="s2">, </span><span class="s0">node)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">enter = noop$1</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">leave = noop$1</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options === </span><span class="s3">'function'</span><span class="s0">) {</span>
            <span class="s0">enter = options</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(options) {</span>
            <span class="s0">enter = ensureFunction(options.enter)</span><span class="s2">;</span>
            <span class="s0">leave = ensureFunction(options.leave)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(enter === noop$1 &amp;&amp; leave === noop$1) {</span>
            <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Neither `enter` nor `leave` walker handler is set or both aren</span><span class="s2">\'</span><span class="s3">t a function'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">walk(node)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">tokenStream = </span><span class="s1">new </span><span class="s0">TokenStream_1()</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">astToTokens = {</span>
        <span class="s0">decorator: </span><span class="s1">function</span><span class="s0">(handlers) {</span>
            <span class="s1">var </span><span class="s0">curNode = </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">prev = { len: </span><span class="s5">0</span><span class="s2">, </span><span class="s0">node: </span><span class="s1">null </span><span class="s0">}</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">nodes = [prev]</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">buffer = </span><span class="s3">''</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">children: handlers.children</span><span class="s2">,</span>
                <span class="s0">node: </span><span class="s1">function</span><span class="s0">(node) {</span>
                    <span class="s1">var </span><span class="s0">tmp = curNode</span><span class="s2">;</span>
                    <span class="s0">curNode = node</span><span class="s2">;</span>
                    <span class="s0">handlers.node.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">node)</span><span class="s2">;</span>
                    <span class="s0">curNode = tmp</span><span class="s2">;</span>
                <span class="s0">}</span><span class="s2">,</span>
                <span class="s0">chunk: </span><span class="s1">function</span><span class="s0">(chunk) {</span>
                    <span class="s0">buffer += chunk</span><span class="s2">;</span>
                    <span class="s1">if </span><span class="s0">(prev.node !== curNode) {</span>
                        <span class="s0">nodes.push({</span>
                            <span class="s0">len: chunk.length</span><span class="s2">,</span>
                            <span class="s0">node: curNode</span>
                        <span class="s0">})</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">prev.len += chunk.length</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span><span class="s2">,</span>
                <span class="s0">result: </span><span class="s1">function</span><span class="s0">() {</span>
                    <span class="s1">return </span><span class="s0">prepareTokens(buffer</span><span class="s2">, </span><span class="s0">nodes)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">prepareTokens(str</span><span class="s2">, </span><span class="s0">nodes) {</span>
        <span class="s1">var </span><span class="s0">tokens = []</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">nodesOffset = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">nodesIndex = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">currentNode = nodes ? nodes[nodesIndex].node : </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s0">tokenizer(str</span><span class="s2">, </span><span class="s0">tokenStream)</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(!tokenStream.eof) {</span>
            <span class="s1">if </span><span class="s0">(nodes) {</span>
                <span class="s1">while </span><span class="s0">(nodesIndex &lt; nodes.length &amp;&amp; nodesOffset + nodes[nodesIndex].len &lt;= tokenStream.tokenStart) {</span>
                    <span class="s0">nodesOffset += nodes[nodesIndex++].len</span><span class="s2">;</span>
                    <span class="s0">currentNode = nodes[nodesIndex].node</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s0">tokens.push({</span>
                <span class="s0">type: tokenStream.tokenType</span><span class="s2">,</span>
                <span class="s0">value: tokenStream.getTokenValue()</span><span class="s2">,</span>
                <span class="s0">index: tokenStream.tokenIndex</span><span class="s2">, </span><span class="s4">// TODO: remove it, temporary solution</span>
                <span class="s0">balance: tokenStream.balance[tokenStream.tokenIndex]</span><span class="s2">, </span><span class="s4">// TODO: remove it, temporary solution</span>
                <span class="s0">node: currentNode</span>
            <span class="s0">})</span><span class="s2">;</span>
            <span class="s0">tokenStream.next()</span><span class="s2">;</span>
            <span class="s4">// console.log({ ...tokens[tokens.length - 1], node: undefined });</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">tokens</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">prepareTokens_1 = </span><span class="s1">function</span><span class="s0">(value</span><span class="s2">, </span><span class="s0">syntax) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">value === </span><span class="s3">'string'</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s0">prepareTokens(value</span><span class="s2">, </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">syntax.generate(value</span><span class="s2">, </span><span class="s0">astToTokens)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">MATCH = { type: </span><span class="s3">'Match' </span><span class="s0">}</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">MISMATCH = { type: </span><span class="s3">'Mismatch' </span><span class="s0">}</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DISALLOW_EMPTY = { type: </span><span class="s3">'DisallowEmpty' </span><span class="s0">}</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTPARENTHESIS$1 = </span><span class="s5">40</span><span class="s2">;  </span><span class="s4">// (</span>
    <span class="s1">var </span><span class="s0">RIGHTPARENTHESIS$1 = </span><span class="s5">41</span><span class="s2">; </span><span class="s4">// )</span>

    <span class="s1">function </span><span class="s0">createCondition(match</span><span class="s2">, </span><span class="s0">thenBranch</span><span class="s2">, </span><span class="s0">elseBranch) {</span>
        <span class="s4">// reduce node count</span>
        <span class="s1">if </span><span class="s0">(thenBranch === MATCH &amp;&amp; elseBranch === MISMATCH) {</span>
            <span class="s1">return </span><span class="s0">match</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(match === MATCH &amp;&amp; thenBranch === MATCH &amp;&amp; elseBranch === MATCH) {</span>
            <span class="s1">return </span><span class="s0">match</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(match.type === </span><span class="s3">'If' </span><span class="s0">&amp;&amp; match.else === MISMATCH &amp;&amp; thenBranch === MATCH) {</span>
            <span class="s0">thenBranch = match.then</span><span class="s2">;</span>
            <span class="s0">match = match.match</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s3">'If'</span><span class="s2">,</span>
            <span class="s0">match: match</span><span class="s2">,</span>
            <span class="s0">then: thenBranch</span><span class="s2">,</span>
            <span class="s1">else</span><span class="s0">: elseBranch</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">isFunctionType(name) {</span>
        <span class="s1">return </span><span class="s0">(</span>
            <span class="s0">name.length &gt; </span><span class="s5">2 </span><span class="s0">&amp;&amp;</span>
            <span class="s0">name.charCodeAt(name.length - </span><span class="s5">2</span><span class="s0">) === LEFTPARENTHESIS$1 &amp;&amp;</span>
            <span class="s0">name.charCodeAt(name.length - </span><span class="s5">1</span><span class="s0">) === RIGHTPARENTHESIS$1</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">isEnumCapatible(term) {</span>
        <span class="s1">return </span><span class="s0">(</span>
            <span class="s0">term.type === </span><span class="s3">'Keyword' </span><span class="s0">||</span>
            <span class="s0">term.type === </span><span class="s3">'AtKeyword' </span><span class="s0">||</span>
            <span class="s0">term.type === </span><span class="s3">'Function' </span><span class="s0">||</span>
            <span class="s0">term.type === </span><span class="s3">'Type' </span><span class="s0">&amp;&amp; isFunctionType(term.name)</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">buildGroupMatchGraph(combinator</span><span class="s2">, </span><span class="s0">terms</span><span class="s2">, </span><span class="s0">atLeastOneTermMatched) {</span>
        <span class="s1">switch </span><span class="s0">(combinator) {</span>
            <span class="s1">case </span><span class="s3">' '</span><span class="s0">:</span>
                <span class="s4">// Juxtaposing components means that all of them must occur, in the given order.</span>
                <span class="s4">//</span>
                <span class="s4">// a b c</span>
                <span class="s4">// =</span>
                <span class="s4">// match a</span>
                <span class="s4">//   then match b</span>
                <span class="s4">//     then match c</span>
                <span class="s4">//       then MATCH</span>
                <span class="s4">//       else MISMATCH</span>
                <span class="s4">//     else MISMATCH</span>
                <span class="s4">//   else MISMATCH</span>
                <span class="s1">var </span><span class="s0">result = MATCH</span><span class="s2">;</span>

                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = terms.length - </span><span class="s5">1</span><span class="s2">; </span><span class="s0">i &gt;= </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i--) {</span>
                    <span class="s1">var </span><span class="s0">term = terms[i]</span><span class="s2">;</span>

                    <span class="s0">result = createCondition(</span>
                        <span class="s0">term</span><span class="s2">,</span>
                        <span class="s0">result</span><span class="s2">,</span>
                        <span class="s0">MISMATCH</span>
                    <span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'|'</span><span class="s0">:</span>
                <span class="s4">// A bar (|) separates two or more alternatives: exactly one of them must occur.</span>
                <span class="s4">//</span>
                <span class="s4">// a | b | c</span>
                <span class="s4">// =</span>
                <span class="s4">// match a</span>
                <span class="s4">//   then MATCH</span>
                <span class="s4">//   else match b</span>
                <span class="s4">//     then MATCH</span>
                <span class="s4">//     else match c</span>
                <span class="s4">//       then MATCH</span>
                <span class="s4">//       else MISMATCH</span>

                <span class="s1">var </span><span class="s0">result = MISMATCH</span><span class="s2">;</span>
                <span class="s1">var </span><span class="s0">map = </span><span class="s1">null</span><span class="s2">;</span>

                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = terms.length - </span><span class="s5">1</span><span class="s2">; </span><span class="s0">i &gt;= </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i--) {</span>
                    <span class="s1">var </span><span class="s0">term = terms[i]</span><span class="s2">;</span>

                    <span class="s4">// reduce sequence of keywords into a Enum</span>
                    <span class="s1">if </span><span class="s0">(isEnumCapatible(term)) {</span>
                        <span class="s1">if </span><span class="s0">(map === </span><span class="s1">null </span><span class="s0">&amp;&amp; i &gt; </span><span class="s5">0 </span><span class="s0">&amp;&amp; isEnumCapatible(terms[i - </span><span class="s5">1</span><span class="s0">])) {</span>
                            <span class="s0">map = Object.create(</span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
                            <span class="s0">result = createCondition(</span>
                                <span class="s0">{</span>
                                    <span class="s0">type: </span><span class="s3">'Enum'</span><span class="s2">,</span>
                                    <span class="s0">map: map</span>
                                <span class="s0">}</span><span class="s2">,</span>
                                <span class="s0">MATCH</span><span class="s2">,</span>
                                <span class="s0">result</span>
                            <span class="s0">)</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s1">if </span><span class="s0">(map !== </span><span class="s1">null</span><span class="s0">) {</span>
                            <span class="s1">var </span><span class="s0">key = (isFunctionType(term.name) ? term.name.slice(</span><span class="s5">0</span><span class="s2">, </span><span class="s0">-</span><span class="s5">1</span><span class="s0">) : term.name).toLowerCase()</span><span class="s2">;</span>
                            <span class="s1">if </span><span class="s0">(key </span><span class="s1">in </span><span class="s0">map === </span><span class="s1">false</span><span class="s0">) {</span>
                                <span class="s0">map[key] = term</span><span class="s2">;</span>
                                <span class="s1">continue</span><span class="s2">;</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>

                    <span class="s0">map = </span><span class="s1">null</span><span class="s2">;</span>

                    <span class="s4">// create a new conditonal node</span>
                    <span class="s0">result = createCondition(</span>
                        <span class="s0">term</span><span class="s2">,</span>
                        <span class="s0">MATCH</span><span class="s2">,</span>
                        <span class="s0">result</span>
                    <span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'&amp;&amp;'</span><span class="s0">:</span>
                <span class="s4">// A double ampersand (&amp;&amp;) separates two or more components,</span>
                <span class="s4">// all of which must occur, in any order.</span>

                <span class="s4">// Use MatchOnce for groups with a large number of terms,</span>
                <span class="s4">// since &amp;&amp;-groups produces at least N!-node trees</span>
                <span class="s1">if </span><span class="s0">(terms.length &gt; </span><span class="s5">5</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">{</span>
                        <span class="s0">type: </span><span class="s3">'MatchOnce'</span><span class="s2">,</span>
                        <span class="s0">terms: terms</span><span class="s2">,</span>
                        <span class="s0">all: </span><span class="s1">true</span>
                    <span class="s0">}</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s4">// Use a combination tree for groups with small number of terms</span>
                <span class="s4">//</span>
                <span class="s4">// a &amp;&amp; b &amp;&amp; c</span>
                <span class="s4">// =</span>
                <span class="s4">// match a</span>
                <span class="s4">//   then [b &amp;&amp; c]</span>
                <span class="s4">//   else match b</span>
                <span class="s4">//     then [a &amp;&amp; c]</span>
                <span class="s4">//     else match c</span>
                <span class="s4">//       then [a &amp;&amp; b]</span>
                <span class="s4">//       else MISMATCH</span>
                <span class="s4">//</span>
                <span class="s4">// a &amp;&amp; b</span>
                <span class="s4">// =</span>
                <span class="s4">// match a</span>
                <span class="s4">//   then match b</span>
                <span class="s4">//     then MATCH</span>
                <span class="s4">//     else MISMATCH</span>
                <span class="s4">//   else match b</span>
                <span class="s4">//     then match a</span>
                <span class="s4">//       then MATCH</span>
                <span class="s4">//       else MISMATCH</span>
                <span class="s4">//     else MISMATCH</span>
                <span class="s1">var </span><span class="s0">result = MISMATCH</span><span class="s2">;</span>

                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = terms.length - </span><span class="s5">1</span><span class="s2">; </span><span class="s0">i &gt;= </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i--) {</span>
                    <span class="s1">var </span><span class="s0">term = terms[i]</span><span class="s2">;</span>
                    <span class="s1">var </span><span class="s0">thenClause</span><span class="s2">;</span>

                    <span class="s1">if </span><span class="s0">(terms.length &gt; </span><span class="s5">1</span><span class="s0">) {</span>
                        <span class="s0">thenClause = buildGroupMatchGraph(</span>
                            <span class="s0">combinator</span><span class="s2">,</span>
                            <span class="s0">terms.filter(</span><span class="s1">function</span><span class="s0">(newGroupTerm) {</span>
                                <span class="s1">return </span><span class="s0">newGroupTerm !== term</span><span class="s2">;</span>
                            <span class="s0">})</span><span class="s2">,</span>
                            <span class="s1">false</span>
                        <span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">thenClause = MATCH</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">result = createCondition(</span>
                        <span class="s0">term</span><span class="s2">,</span>
                        <span class="s0">thenClause</span><span class="s2">,</span>
                        <span class="s0">result</span>
                    <span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'||'</span><span class="s0">:</span>
                <span class="s4">// A double bar (||) separates two or more options:</span>
                <span class="s4">// one or more of them must occur, in any order.</span>

                <span class="s4">// Use MatchOnce for groups with a large number of terms,</span>
                <span class="s4">// since ||-groups produces at least N!-node trees</span>
                <span class="s1">if </span><span class="s0">(terms.length &gt; </span><span class="s5">5</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">{</span>
                        <span class="s0">type: </span><span class="s3">'MatchOnce'</span><span class="s2">,</span>
                        <span class="s0">terms: terms</span><span class="s2">,</span>
                        <span class="s0">all: </span><span class="s1">false</span>
                    <span class="s0">}</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s4">// Use a combination tree for groups with small number of terms</span>
                <span class="s4">//</span>
                <span class="s4">// a || b || c</span>
                <span class="s4">// =</span>
                <span class="s4">// match a</span>
                <span class="s4">//   then [b || c]</span>
                <span class="s4">//   else match b</span>
                <span class="s4">//     then [a || c]</span>
                <span class="s4">//     else match c</span>
                <span class="s4">//       then [a || b]</span>
                <span class="s4">//       else MISMATCH</span>
                <span class="s4">//</span>
                <span class="s4">// a || b</span>
                <span class="s4">// =</span>
                <span class="s4">// match a</span>
                <span class="s4">//   then match b</span>
                <span class="s4">//     then MATCH</span>
                <span class="s4">//     else MATCH</span>
                <span class="s4">//   else match b</span>
                <span class="s4">//     then match a</span>
                <span class="s4">//       then MATCH</span>
                <span class="s4">//       else MATCH</span>
                <span class="s4">//     else MISMATCH</span>
                <span class="s1">var </span><span class="s0">result = atLeastOneTermMatched ? MATCH : MISMATCH</span><span class="s2">;</span>

                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = terms.length - </span><span class="s5">1</span><span class="s2">; </span><span class="s0">i &gt;= </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i--) {</span>
                    <span class="s1">var </span><span class="s0">term = terms[i]</span><span class="s2">;</span>
                    <span class="s1">var </span><span class="s0">thenClause</span><span class="s2">;</span>

                    <span class="s1">if </span><span class="s0">(terms.length &gt; </span><span class="s5">1</span><span class="s0">) {</span>
                        <span class="s0">thenClause = buildGroupMatchGraph(</span>
                            <span class="s0">combinator</span><span class="s2">,</span>
                            <span class="s0">terms.filter(</span><span class="s1">function</span><span class="s0">(newGroupTerm) {</span>
                                <span class="s1">return </span><span class="s0">newGroupTerm !== term</span><span class="s2">;</span>
                            <span class="s0">})</span><span class="s2">,</span>
                            <span class="s1">true</span>
                        <span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">thenClause = MATCH</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">result = createCondition(</span>
                        <span class="s0">term</span><span class="s2">,</span>
                        <span class="s0">thenClause</span><span class="s2">,</span>
                        <span class="s0">result</span>
                    <span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">buildMultiplierMatchGraph(node) {</span>
        <span class="s1">var </span><span class="s0">result = MATCH</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">matchTerm = buildMatchGraph(node.term)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(node.max === </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s4">// disable repeating of empty match to prevent infinite loop</span>
            <span class="s0">matchTerm = createCondition(</span>
                <span class="s0">matchTerm</span><span class="s2">,</span>
                <span class="s0">DISALLOW_EMPTY</span><span class="s2">,</span>
                <span class="s0">MISMATCH</span>
            <span class="s0">)</span><span class="s2">;</span>

            <span class="s4">// an occurrence count is not limited, make a cycle;</span>
            <span class="s4">// to collect more terms on each following matching mismatch</span>
            <span class="s0">result = createCondition(</span>
                <span class="s0">matchTerm</span><span class="s2">,</span>
                <span class="s1">null</span><span class="s2">, </span><span class="s4">// will be a loop</span>
                <span class="s0">MISMATCH</span>
            <span class="s0">)</span><span class="s2">;</span>

            <span class="s0">result.then = createCondition(</span>
                <span class="s0">MATCH</span><span class="s2">,</span>
                <span class="s0">MATCH</span><span class="s2">,</span>
                <span class="s0">result </span><span class="s4">// make a loop</span>
            <span class="s0">)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(node.comma) {</span>
                <span class="s0">result.then.else = createCondition(</span>
                    <span class="s0">{ type: </span><span class="s3">'Comma'</span><span class="s2">, </span><span class="s0">syntax: node }</span><span class="s2">,</span>
                    <span class="s0">result</span><span class="s2">,</span>
                    <span class="s0">MISMATCH</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s4">// create a match node chain for [min .. max] interval with optional matches</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = node.min || </span><span class="s5">1</span><span class="s2">; </span><span class="s0">i &lt;= node.max</span><span class="s2">; </span><span class="s0">i++) {</span>
                <span class="s1">if </span><span class="s0">(node.comma &amp;&amp; result !== MATCH) {</span>
                    <span class="s0">result = createCondition(</span>
                        <span class="s0">{ type: </span><span class="s3">'Comma'</span><span class="s2">, </span><span class="s0">syntax: node }</span><span class="s2">,</span>
                        <span class="s0">result</span><span class="s2">,</span>
                        <span class="s0">MISMATCH</span>
                    <span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">result = createCondition(</span>
                    <span class="s0">matchTerm</span><span class="s2">,</span>
                    <span class="s0">createCondition(</span>
                        <span class="s0">MATCH</span><span class="s2">,</span>
                        <span class="s0">MATCH</span><span class="s2">,</span>
                        <span class="s0">result</span>
                    <span class="s0">)</span><span class="s2">,</span>
                    <span class="s0">MISMATCH</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(node.min === </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s4">// allow zero match</span>
            <span class="s0">result = createCondition(</span>
                <span class="s0">MATCH</span><span class="s2">,</span>
                <span class="s0">MATCH</span><span class="s2">,</span>
                <span class="s0">result</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s4">// create a match node chain to collect [0 ... min - 1] required matches</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; node.min - </span><span class="s5">1</span><span class="s2">; </span><span class="s0">i++) {</span>
                <span class="s1">if </span><span class="s0">(node.comma &amp;&amp; result !== MATCH) {</span>
                    <span class="s0">result = createCondition(</span>
                        <span class="s0">{ type: </span><span class="s3">'Comma'</span><span class="s2">, </span><span class="s0">syntax: node }</span><span class="s2">,</span>
                        <span class="s0">result</span><span class="s2">,</span>
                        <span class="s0">MISMATCH</span>
                    <span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">result = createCondition(</span>
                    <span class="s0">matchTerm</span><span class="s2">,</span>
                    <span class="s0">result</span><span class="s2">,</span>
                    <span class="s0">MISMATCH</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">buildMatchGraph(node) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">node === </span><span class="s3">'function'</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Generic'</span><span class="s2">,</span>
                <span class="s0">fn: node</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">switch </span><span class="s0">(node.type) {</span>
            <span class="s1">case </span><span class="s3">'Group'</span><span class="s0">:</span>
                <span class="s1">var </span><span class="s0">result = buildGroupMatchGraph(</span>
                    <span class="s0">node.combinator</span><span class="s2">,</span>
                    <span class="s0">node.terms.map(buildMatchGraph)</span><span class="s2">,</span>
                    <span class="s1">false</span>
                <span class="s0">)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(node.disallowEmpty) {</span>
                    <span class="s0">result = createCondition(</span>
                        <span class="s0">result</span><span class="s2">,</span>
                        <span class="s0">DISALLOW_EMPTY</span><span class="s2">,</span>
                        <span class="s0">MISMATCH</span>
                    <span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Multiplier'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">buildMultiplierMatchGraph(node)</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Type'</span><span class="s0">:</span>
            <span class="s1">case </span><span class="s3">'Property'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">type: node.type</span><span class="s2">,</span>
                    <span class="s0">name: node.name</span><span class="s2">,</span>
                    <span class="s0">syntax: node</span>
                <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Keyword'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">type: node.type</span><span class="s2">,</span>
                    <span class="s0">name: node.name.toLowerCase()</span><span class="s2">,</span>
                    <span class="s0">syntax: node</span>
                <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'AtKeyword'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">type: node.type</span><span class="s2">,</span>
                    <span class="s0">name: </span><span class="s3">'@' </span><span class="s0">+ node.name.toLowerCase()</span><span class="s2">,</span>
                    <span class="s0">syntax: node</span>
                <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Function'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">type: node.type</span><span class="s2">,</span>
                    <span class="s0">name: node.name.toLowerCase() + </span><span class="s3">'('</span><span class="s2">,</span>
                    <span class="s0">syntax: node</span>
                <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'String'</span><span class="s0">:</span>
                <span class="s4">// convert a one char length String to a Token</span>
                <span class="s1">if </span><span class="s0">(node.value.length === </span><span class="s5">3</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">{</span>
                        <span class="s0">type: </span><span class="s3">'Token'</span><span class="s2">,</span>
                        <span class="s0">value: node.value.charAt(</span><span class="s5">1</span><span class="s0">)</span><span class="s2">,</span>
                        <span class="s0">syntax: node</span>
                    <span class="s0">}</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s4">// otherwise use it as is</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">type: node.type</span><span class="s2">,</span>
                    <span class="s0">value: node.value.substr(</span><span class="s5">1</span><span class="s2">, </span><span class="s0">node.value.length - </span><span class="s5">2</span><span class="s0">).replace(</span><span class="s5">/\\'/g</span><span class="s2">, </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">)</span><span class="s2">,</span>
                    <span class="s0">syntax: node</span>
                <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Token'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">type: node.type</span><span class="s2">,</span>
                    <span class="s0">value: node.value</span><span class="s2">,</span>
                    <span class="s0">syntax: node</span>
                <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s3">'Comma'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">type: node.type</span><span class="s2">,</span>
                    <span class="s0">syntax: node</span>
                <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">default</span><span class="s0">:</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Unknown node type:'</span><span class="s2">, </span><span class="s0">node.type)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">matchGraph = {</span>
        <span class="s0">MATCH: MATCH</span><span class="s2">,</span>
        <span class="s0">MISMATCH: MISMATCH</span><span class="s2">,</span>
        <span class="s0">DISALLOW_EMPTY: DISALLOW_EMPTY</span><span class="s2">,</span>
        <span class="s0">buildMatchGraph: </span><span class="s1">function</span><span class="s0">(syntaxTree</span><span class="s2">, </span><span class="s0">ref) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">syntaxTree === </span><span class="s3">'string'</span><span class="s0">) {</span>
                <span class="s0">syntaxTree = parse_1(syntaxTree)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'MatchGraph'</span><span class="s2">,</span>
                <span class="s0">match: buildMatchGraph(syntaxTree)</span><span class="s2">,</span>
                <span class="s0">syntax: ref || </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s0">source: syntaxTree</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">hasOwnProperty$1 = Object.prototype.hasOwnProperty</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">MATCH$1 = matchGraph.MATCH</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">MISMATCH$1 = matchGraph.MISMATCH</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DISALLOW_EMPTY$1 = matchGraph.DISALLOW_EMPTY</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$6 = _const.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">STUB = </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TOKEN = </span><span class="s5">1</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">OPEN_SYNTAX = </span><span class="s5">2</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">CLOSE_SYNTAX = </span><span class="s5">3</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">EXIT_REASON_MATCH = </span><span class="s3">'Match'</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">EXIT_REASON_MISMATCH = </span><span class="s3">'Mismatch'</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">EXIT_REASON_ITERATION_LIMIT = </span><span class="s3">'Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)'</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">ITERATION_LIMIT = </span><span class="s5">15000</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">totalIterationCount = </span><span class="s5">0</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">reverseList(list) {</span>
        <span class="s1">var </span><span class="s0">prev = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">next = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">item = list</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(item !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">next = item.prev</span><span class="s2">;</span>
            <span class="s0">item.prev = prev</span><span class="s2">;</span>
            <span class="s0">prev = item</span><span class="s2">;</span>
            <span class="s0">item = next</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">prev</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">areStringsEqualCaseInsensitive(testStr</span><span class="s2">, </span><span class="s0">referenceStr) {</span>
        <span class="s1">if </span><span class="s0">(testStr.length !== referenceStr.length) {</span>
            <span class="s1">return false</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; testStr.length</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s1">var </span><span class="s0">testCode = testStr.charCodeAt(i)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">referenceCode = referenceStr.charCodeAt(i)</span><span class="s2">;</span>

            <span class="s4">// testCode.toLowerCase() for U+0041 LATIN CAPITAL LETTER A (A) .. U+005A LATIN CAPITAL LETTER Z (Z).</span>
            <span class="s1">if </span><span class="s0">(testCode &gt;= </span><span class="s5">0x0041 </span><span class="s0">&amp;&amp; testCode &lt;= </span><span class="s5">0x005A</span><span class="s0">) {</span>
                <span class="s0">testCode = testCode | </span><span class="s5">32</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(testCode !== referenceCode) {</span>
                <span class="s1">return false</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return true</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">isContextEdgeDelim(token) {</span>
        <span class="s1">if </span><span class="s0">(token.type !== TYPE$6.Delim) {</span>
            <span class="s1">return false</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// Fix matching for unicode-range: U+30??, U+FF00-FF9F</span>
        <span class="s4">// Probably we need to check out previous match instead</span>
        <span class="s1">return </span><span class="s0">token.value !== </span><span class="s3">'?'</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">isCommaContextStart(token) {</span>
        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return true</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">(</span>
            <span class="s0">token.type === TYPE$6.Comma ||</span>
            <span class="s0">token.type === TYPE$6.Function ||</span>
            <span class="s0">token.type === TYPE$6.LeftParenthesis ||</span>
            <span class="s0">token.type === TYPE$6.LeftSquareBracket ||</span>
            <span class="s0">token.type === TYPE$6.LeftCurlyBracket ||</span>
            <span class="s0">isContextEdgeDelim(token)</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">isCommaContextEnd(token) {</span>
        <span class="s1">if </span><span class="s0">(token === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return true</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">(</span>
            <span class="s0">token.type === TYPE$6.RightParenthesis ||</span>
            <span class="s0">token.type === TYPE$6.RightSquareBracket ||</span>
            <span class="s0">token.type === TYPE$6.RightCurlyBracket ||</span>
            <span class="s0">token.type === TYPE$6.Delim</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">internalMatch(tokens</span><span class="s2">, </span><span class="s0">state</span><span class="s2">, </span><span class="s0">syntaxes) {</span>
        <span class="s1">function </span><span class="s0">moveToNextToken() {</span>
            <span class="s1">do </span><span class="s0">{</span>
                <span class="s0">tokenIndex++</span><span class="s2">;</span>
                <span class="s0">token = tokenIndex &lt; tokens.length ? tokens[tokenIndex] : </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">while </span><span class="s0">(token !== </span><span class="s1">null </span><span class="s0">&amp;&amp; (token.type === TYPE$6.WhiteSpace || token.type === TYPE$6.Comment))</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">function </span><span class="s0">getNextToken(offset) {</span>
            <span class="s1">var </span><span class="s0">nextIndex = tokenIndex + offset</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">nextIndex &lt; tokens.length ? tokens[nextIndex] : </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">function </span><span class="s0">stateSnapshotFromSyntax(nextState</span><span class="s2">, </span><span class="s0">prev) {</span>
            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">nextState: nextState</span><span class="s2">,</span>
                <span class="s0">matchStack: matchStack</span><span class="s2">,</span>
                <span class="s0">syntaxStack: syntaxStack</span><span class="s2">,</span>
                <span class="s0">thenStack: thenStack</span><span class="s2">,</span>
                <span class="s0">tokenIndex: tokenIndex</span><span class="s2">,</span>
                <span class="s0">prev: prev</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">function </span><span class="s0">pushThenStack(nextState) {</span>
            <span class="s0">thenStack = {</span>
                <span class="s0">nextState: nextState</span><span class="s2">,</span>
                <span class="s0">matchStack: matchStack</span><span class="s2">,</span>
                <span class="s0">syntaxStack: syntaxStack</span><span class="s2">,</span>
                <span class="s0">prev: thenStack</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">function </span><span class="s0">pushElseStack(nextState) {</span>
            <span class="s0">elseStack = stateSnapshotFromSyntax(nextState</span><span class="s2">, </span><span class="s0">elseStack)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">function </span><span class="s0">addTokenToMatch() {</span>
            <span class="s0">matchStack = {</span>
                <span class="s0">type: TOKEN</span><span class="s2">,</span>
                <span class="s0">syntax: state.syntax</span><span class="s2">,</span>
                <span class="s0">token: token</span><span class="s2">,</span>
                <span class="s0">prev: matchStack</span>
            <span class="s0">}</span><span class="s2">;</span>

            <span class="s0">moveToNextToken()</span><span class="s2">;</span>
            <span class="s0">syntaxStash = </span><span class="s1">null</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(tokenIndex &gt; longestMatch) {</span>
                <span class="s0">longestMatch = tokenIndex</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">function </span><span class="s0">openSyntax() {</span>
            <span class="s0">syntaxStack = {</span>
                <span class="s0">syntax: state.syntax</span><span class="s2">,</span>
                <span class="s0">opts: state.syntax.opts || (syntaxStack !== </span><span class="s1">null </span><span class="s0">&amp;&amp; syntaxStack.opts) || </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s0">prev: syntaxStack</span>
            <span class="s0">}</span><span class="s2">;</span>

            <span class="s0">matchStack = {</span>
                <span class="s0">type: OPEN_SYNTAX</span><span class="s2">,</span>
                <span class="s0">syntax: state.syntax</span><span class="s2">,</span>
                <span class="s0">token: matchStack.token</span><span class="s2">,</span>
                <span class="s0">prev: matchStack</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">function </span><span class="s0">closeSyntax() {</span>
            <span class="s1">if </span><span class="s0">(matchStack.type === OPEN_SYNTAX) {</span>
                <span class="s0">matchStack = matchStack.prev</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">matchStack = {</span>
                    <span class="s0">type: CLOSE_SYNTAX</span><span class="s2">,</span>
                    <span class="s0">syntax: syntaxStack.syntax</span><span class="s2">,</span>
                    <span class="s0">token: matchStack.token</span><span class="s2">,</span>
                    <span class="s0">prev: matchStack</span>
                <span class="s0">}</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">syntaxStack = syntaxStack.prev</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">syntaxStack = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">thenStack = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">elseStack = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s4">// null – stashing allowed, nothing stashed</span>
        <span class="s4">// false – stashing disabled, nothing stashed</span>
        <span class="s4">// anithing else – fail stashable syntaxes, some syntax stashed</span>
        <span class="s1">var </span><span class="s0">syntaxStash = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s1">var </span><span class="s0">iterationCount = </span><span class="s5">0</span><span class="s2">; </span><span class="s4">// count iterations and prevent infinite loop</span>
        <span class="s1">var </span><span class="s0">exitReason = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s1">var </span><span class="s0">token = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">tokenIndex = -</span><span class="s5">1</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">longestMatch = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">matchStack = {</span>
            <span class="s0">type: STUB</span><span class="s2">,</span>
            <span class="s0">syntax: </span><span class="s1">null</span><span class="s2">,</span>
            <span class="s0">token: </span><span class="s1">null</span><span class="s2">,</span>
            <span class="s0">prev: </span><span class="s1">null</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s0">moveToNextToken()</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(exitReason === </span><span class="s1">null </span><span class="s0">&amp;&amp; ++iterationCount &lt; ITERATION_LIMIT) {</span>
            <span class="s4">// function mapList(list, fn) {</span>
            <span class="s4">//     var result = [];</span>
            <span class="s4">//     while (list) {</span>
            <span class="s4">//         result.unshift(fn(list));</span>
            <span class="s4">//         list = list.prev;</span>
            <span class="s4">//     }</span>
            <span class="s4">//     return result;</span>
            <span class="s4">// }</span>
            <span class="s4">// console.log('--\n',</span>
            <span class="s4">//     '#' + iterationCount,</span>
            <span class="s4">//     require('util').inspect({</span>
            <span class="s4">//         match: mapList(matchStack, x =&gt; x.type === TOKEN ? x.token &amp;&amp; x.token.value : x.syntax ? ({ [OPEN_SYNTAX]: '&lt;', [CLOSE_SYNTAX]: '&lt;/' }[x.type] || x.type) + '!' + x.syntax.name : null),</span>
            <span class="s4">//         token: token &amp;&amp; token.value,</span>
            <span class="s4">//         tokenIndex,</span>
            <span class="s4">//         syntax: syntax.type + (syntax.id ? ' #' + syntax.id : '')</span>
            <span class="s4">//     }, { depth: null })</span>
            <span class="s4">// );</span>
            <span class="s1">switch </span><span class="s0">(state.type) {</span>
                <span class="s1">case </span><span class="s3">'Match'</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(thenStack === </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s4">// turn to MISMATCH when some tokens left unmatched</span>
                        <span class="s1">if </span><span class="s0">(token !== </span><span class="s1">null</span><span class="s0">) {</span>
                            <span class="s4">// doesn't mismatch if just one token left and it's an IE hack</span>
                            <span class="s1">if </span><span class="s0">(tokenIndex !== tokens.length - </span><span class="s5">1 </span><span class="s0">|| (token.value !== </span><span class="s3">'</span><span class="s2">\\</span><span class="s3">0' </span><span class="s0">&amp;&amp; token.value !== </span><span class="s3">'</span><span class="s2">\\</span><span class="s3">9'</span><span class="s0">)) {</span>
                                <span class="s0">state = MISMATCH$1</span><span class="s2">;</span>
                                <span class="s1">break</span><span class="s2">;</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>

                        <span class="s4">// break the main loop, return a result - MATCH</span>
                        <span class="s0">exitReason = EXIT_REASON_MATCH</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s4">// go to next syntax (`then` branch)</span>
                    <span class="s0">state = thenStack.nextState</span><span class="s2">;</span>

                    <span class="s4">// check match is not empty</span>
                    <span class="s1">if </span><span class="s0">(state === DISALLOW_EMPTY$1) {</span>
                        <span class="s1">if </span><span class="s0">(thenStack.matchStack === matchStack) {</span>
                            <span class="s0">state = MISMATCH$1</span><span class="s2">;</span>
                            <span class="s1">break</span><span class="s2">;</span>
                        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">state = MATCH$1</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>

                    <span class="s4">// close syntax if needed</span>
                    <span class="s1">while </span><span class="s0">(thenStack.syntaxStack !== syntaxStack) {</span>
                        <span class="s0">closeSyntax()</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s4">// pop stack</span>
                    <span class="s0">thenStack = thenStack.prev</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'Mismatch'</span><span class="s0">:</span>
                    <span class="s4">// when some syntax is stashed</span>
                    <span class="s1">if </span><span class="s0">(syntaxStash !== </span><span class="s1">null </span><span class="s0">&amp;&amp; syntaxStash !== </span><span class="s1">false</span><span class="s0">) {</span>
                        <span class="s4">// there is no else branches or a branch reduce match stack</span>
                        <span class="s1">if </span><span class="s0">(elseStack === </span><span class="s1">null </span><span class="s0">|| tokenIndex &gt; elseStack.tokenIndex) {</span>
                            <span class="s4">// restore state from the stash</span>
                            <span class="s0">elseStack = syntaxStash</span><span class="s2">;</span>
                            <span class="s0">syntaxStash = </span><span class="s1">false</span><span class="s2">; </span><span class="s4">// disable stashing</span>
                        <span class="s0">}</span>
                    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(elseStack === </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s4">// no else branches -&gt; break the main loop</span>
                        <span class="s4">// return a result - MISMATCH</span>
                        <span class="s0">exitReason = EXIT_REASON_MISMATCH</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s4">// go to next syntax (`else` branch)</span>
                    <span class="s0">state = elseStack.nextState</span><span class="s2">;</span>

                    <span class="s4">// restore all the rest stack states</span>
                    <span class="s0">thenStack = elseStack.thenStack</span><span class="s2">;</span>
                    <span class="s0">syntaxStack = elseStack.syntaxStack</span><span class="s2">;</span>
                    <span class="s0">matchStack = elseStack.matchStack</span><span class="s2">;</span>
                    <span class="s0">tokenIndex = elseStack.tokenIndex</span><span class="s2">;</span>
                    <span class="s0">token = tokenIndex &lt; tokens.length ? tokens[tokenIndex] : </span><span class="s1">null</span><span class="s2">;</span>

                    <span class="s4">// pop stack</span>
                    <span class="s0">elseStack = elseStack.prev</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'MatchGraph'</span><span class="s0">:</span>
                    <span class="s0">state = state.match</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'If'</span><span class="s0">:</span>
                    <span class="s4">// IMPORTANT: else stack push must go first,</span>
                    <span class="s4">// since it stores the state of thenStack before changes</span>
                    <span class="s1">if </span><span class="s0">(state.else !== MISMATCH$1) {</span>
                        <span class="s0">pushElseStack(state.else)</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">if </span><span class="s0">(state.then !== MATCH$1) {</span>
                        <span class="s0">pushThenStack(state.then)</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">state = state.match</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'MatchOnce'</span><span class="s0">:</span>
                    <span class="s0">state = {</span>
                        <span class="s0">type: </span><span class="s3">'MatchOnceBuffer'</span><span class="s2">,</span>
                        <span class="s0">syntax: state</span><span class="s2">,</span>
                        <span class="s0">index: </span><span class="s5">0</span><span class="s2">,</span>
                        <span class="s0">mask: </span><span class="s5">0</span>
                    <span class="s0">}</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'MatchOnceBuffer'</span><span class="s0">:</span>
                    <span class="s1">var </span><span class="s0">terms = state.syntax.terms</span><span class="s2">;</span>

                    <span class="s1">if </span><span class="s0">(state.index === terms.length) {</span>
                        <span class="s4">// no matches at all or it's required all terms to be matched</span>
                        <span class="s1">if </span><span class="s0">(state.mask === </span><span class="s5">0 </span><span class="s0">|| state.syntax.all) {</span>
                            <span class="s0">state = MISMATCH$1</span><span class="s2">;</span>
                            <span class="s1">break</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s4">// a partial match is ok</span>
                        <span class="s0">state = MATCH$1</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s4">// all terms are matched</span>
                    <span class="s1">if </span><span class="s0">(state.mask === (</span><span class="s5">1 </span><span class="s0">&lt;&lt; terms.length) - </span><span class="s5">1</span><span class="s0">) {</span>
                        <span class="s0">state = MATCH$1</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">state.index &lt; terms.length</span><span class="s2">; </span><span class="s0">state.index++) {</span>
                        <span class="s1">var </span><span class="s0">matchFlag = </span><span class="s5">1 </span><span class="s0">&lt;&lt; state.index</span><span class="s2">;</span>

                        <span class="s1">if </span><span class="s0">((state.mask &amp; matchFlag) === </span><span class="s5">0</span><span class="s0">) {</span>
                            <span class="s4">// IMPORTANT: else stack push must go first,</span>
                            <span class="s4">// since it stores the state of thenStack before changes</span>
                            <span class="s0">pushElseStack(state)</span><span class="s2">;</span>
                            <span class="s0">pushThenStack({</span>
                                <span class="s0">type: </span><span class="s3">'AddMatchOnce'</span><span class="s2">,</span>
                                <span class="s0">syntax: state.syntax</span><span class="s2">,</span>
                                <span class="s0">mask: state.mask | matchFlag</span>
                            <span class="s0">})</span><span class="s2">;</span>

                            <span class="s4">// match</span>
                            <span class="s0">state = terms[state.index++]</span><span class="s2">;</span>
                            <span class="s1">break</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'AddMatchOnce'</span><span class="s0">:</span>
                    <span class="s0">state = {</span>
                        <span class="s0">type: </span><span class="s3">'MatchOnceBuffer'</span><span class="s2">,</span>
                        <span class="s0">syntax: state.syntax</span><span class="s2">,</span>
                        <span class="s0">index: </span><span class="s5">0</span><span class="s2">,</span>
                        <span class="s0">mask: state.mask</span>
                    <span class="s0">}</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'Enum'</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(token !== </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">var </span><span class="s0">name = token.value.toLowerCase()</span><span class="s2">;</span>

                        <span class="s4">// drop \0 and \9 hack from keyword name</span>
                        <span class="s1">if </span><span class="s0">(name.indexOf(</span><span class="s3">'</span><span class="s2">\\</span><span class="s3">'</span><span class="s0">) !== -</span><span class="s5">1</span><span class="s0">) {</span>
                            <span class="s0">name = name.replace(</span><span class="s5">/\\[09].*$/</span><span class="s2">, </span><span class="s3">''</span><span class="s0">)</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s1">if </span><span class="s0">(hasOwnProperty$1.call(state.map</span><span class="s2">, </span><span class="s0">name)) {</span>
                            <span class="s0">state = state.map[name]</span><span class="s2">;</span>
                            <span class="s1">break</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>

                    <span class="s0">state = MISMATCH$1</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'Generic'</span><span class="s0">:</span>
                    <span class="s1">var </span><span class="s0">opts = syntaxStack !== </span><span class="s1">null </span><span class="s0">? syntaxStack.opts : </span><span class="s1">null</span><span class="s2">;</span>
                    <span class="s1">var </span><span class="s0">lastTokenIndex = tokenIndex + Math.floor(state.fn(token</span><span class="s2">, </span><span class="s0">getNextToken</span><span class="s2">, </span><span class="s0">opts))</span><span class="s2">;</span>

                    <span class="s1">if </span><span class="s0">(!isNaN(lastTokenIndex) &amp;&amp; lastTokenIndex &gt; tokenIndex) {</span>
                        <span class="s1">while </span><span class="s0">(tokenIndex &lt; lastTokenIndex) {</span>
                            <span class="s0">addTokenToMatch()</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s0">state = MATCH$1</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">state = MISMATCH$1</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'Type'</span><span class="s0">:</span>
                <span class="s1">case </span><span class="s3">'Property'</span><span class="s0">:</span>
                    <span class="s1">var </span><span class="s0">syntaxDict = state.type === </span><span class="s3">'Type' </span><span class="s0">? </span><span class="s3">'types' </span><span class="s0">: </span><span class="s3">'properties'</span><span class="s2">;</span>
                    <span class="s1">var </span><span class="s0">dictSyntax = hasOwnProperty$1.call(syntaxes</span><span class="s2">, </span><span class="s0">syntaxDict) ? syntaxes[syntaxDict][state.name] : </span><span class="s1">null</span><span class="s2">;</span>

                    <span class="s1">if </span><span class="s0">(!dictSyntax || !dictSyntax.match) {</span>
                        <span class="s1">throw new </span><span class="s0">Error(</span>
                            <span class="s3">'Bad syntax reference: ' </span><span class="s0">+</span>
                            <span class="s0">(state.type === </span><span class="s3">'Type'</span>
                                <span class="s0">? </span><span class="s3">'&lt;' </span><span class="s0">+ state.name + </span><span class="s3">'&gt;'</span>
                                <span class="s0">: </span><span class="s3">'&lt;</span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ state.name + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">&gt;'</span><span class="s0">)</span>
                        <span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s4">// stash a syntax for types with low priority</span>
                    <span class="s1">if </span><span class="s0">(syntaxStash !== </span><span class="s1">false </span><span class="s0">&amp;&amp; token !== </span><span class="s1">null </span><span class="s0">&amp;&amp; state.type === </span><span class="s3">'Type'</span><span class="s0">) {</span>
                        <span class="s1">var </span><span class="s0">lowPriorityMatching =</span>
                            <span class="s4">// https://drafts.csswg.org/css-values-4/#custom-idents</span>
                            <span class="s4">// When parsing positionally-ambiguous keywords in a property value, a &lt;custom-ident&gt; production</span>
                            <span class="s4">// can only claim the keyword if no other unfulfilled production can claim it.</span>
                            <span class="s0">(state.name === </span><span class="s3">'custom-ident' </span><span class="s0">&amp;&amp; token.type === TYPE$6.Ident) ||</span>

                            <span class="s4">// https://drafts.csswg.org/css-values-4/#lengths</span>
                            <span class="s4">// ... if a `0` could be parsed as either a &lt;number&gt; or a &lt;length&gt; in a property (such as line-height),</span>
                            <span class="s4">// it must parse as a &lt;number&gt;</span>
                            <span class="s0">(state.name === </span><span class="s3">'length' </span><span class="s0">&amp;&amp; token.value === </span><span class="s3">'0'</span><span class="s0">)</span><span class="s2">;</span>

                        <span class="s1">if </span><span class="s0">(lowPriorityMatching) {</span>
                            <span class="s1">if </span><span class="s0">(syntaxStash === </span><span class="s1">null</span><span class="s0">) {</span>
                                <span class="s0">syntaxStash = stateSnapshotFromSyntax(state</span><span class="s2">, </span><span class="s0">elseStack)</span><span class="s2">;</span>
                            <span class="s0">}</span>

                            <span class="s0">state = MISMATCH$1</span><span class="s2">;</span>
                            <span class="s1">break</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>

                    <span class="s0">openSyntax()</span><span class="s2">;</span>
                    <span class="s0">state = dictSyntax.match</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'Keyword'</span><span class="s0">:</span>
                    <span class="s1">var </span><span class="s0">name = state.name</span><span class="s2">;</span>

                    <span class="s1">if </span><span class="s0">(token !== </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">var </span><span class="s0">keywordName = token.value</span><span class="s2">;</span>

                        <span class="s4">// drop \0 and \9 hack from keyword name</span>
                        <span class="s1">if </span><span class="s0">(keywordName.indexOf(</span><span class="s3">'</span><span class="s2">\\</span><span class="s3">'</span><span class="s0">) !== -</span><span class="s5">1</span><span class="s0">) {</span>
                            <span class="s0">keywordName = keywordName.replace(</span><span class="s5">/\\[09].*$/</span><span class="s2">, </span><span class="s3">''</span><span class="s0">)</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s1">if </span><span class="s0">(areStringsEqualCaseInsensitive(keywordName</span><span class="s2">, </span><span class="s0">name)) {</span>
                            <span class="s0">addTokenToMatch()</span><span class="s2">;</span>
                            <span class="s0">state = MATCH$1</span><span class="s2">;</span>
                            <span class="s1">break</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>

                    <span class="s0">state = MISMATCH$1</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'AtKeyword'</span><span class="s0">:</span>
                <span class="s1">case </span><span class="s3">'Function'</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(token !== </span><span class="s1">null </span><span class="s0">&amp;&amp; areStringsEqualCaseInsensitive(token.value</span><span class="s2">, </span><span class="s0">state.name)) {</span>
                        <span class="s0">addTokenToMatch()</span><span class="s2">;</span>
                        <span class="s0">state = MATCH$1</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">state = MISMATCH$1</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'Token'</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(token !== </span><span class="s1">null </span><span class="s0">&amp;&amp; token.value === state.value) {</span>
                        <span class="s0">addTokenToMatch()</span><span class="s2">;</span>
                        <span class="s0">state = MATCH$1</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">state = MISMATCH$1</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'Comma'</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(token !== </span><span class="s1">null </span><span class="s0">&amp;&amp; token.type === TYPE$6.Comma) {</span>
                        <span class="s1">if </span><span class="s0">(isCommaContextStart(matchStack.token)) {</span>
                            <span class="s0">state = MISMATCH$1</span><span class="s2">;</span>
                        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">addTokenToMatch()</span><span class="s2">;</span>
                            <span class="s0">state = isCommaContextEnd(token) ? MISMATCH$1 : MATCH$1</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">state = isCommaContextStart(matchStack.token) || isCommaContextEnd(token) ? MATCH$1 : MISMATCH$1</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s3">'String'</span><span class="s0">:</span>
                    <span class="s1">var </span><span class="s0">string = </span><span class="s3">''</span><span class="s2">;</span>

                    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">lastTokenIndex = tokenIndex</span><span class="s2">; </span><span class="s0">lastTokenIndex &lt; tokens.length &amp;&amp; string.length &lt; state.value.length</span><span class="s2">; </span><span class="s0">lastTokenIndex++) {</span>
                        <span class="s0">string += tokens[lastTokenIndex].value</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">if </span><span class="s0">(areStringsEqualCaseInsensitive(string</span><span class="s2">, </span><span class="s0">state.value)) {</span>
                        <span class="s1">while </span><span class="s0">(tokenIndex &lt; lastTokenIndex) {</span>
                            <span class="s0">addTokenToMatch()</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s0">state = MATCH$1</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">state = MISMATCH$1</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">default</span><span class="s0">:</span>
                    <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Unknown node type: ' </span><span class="s0">+ state.type)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s0">totalIterationCount += iterationCount</span><span class="s2">;</span>

        <span class="s1">switch </span><span class="s0">(exitReason) {</span>
            <span class="s1">case null</span><span class="s0">:</span>
                <span class="s0">console.warn(</span><span class="s3">'[csstree-match] BREAK after ' </span><span class="s0">+ ITERATION_LIMIT + </span><span class="s3">' iterations'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">exitReason = EXIT_REASON_ITERATION_LIMIT</span><span class="s2">;</span>
                <span class="s0">matchStack = </span><span class="s1">null</span><span class="s2">;</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">EXIT_REASON_MATCH:</span>
                <span class="s1">while </span><span class="s0">(syntaxStack !== </span><span class="s1">null</span><span class="s0">) {</span>
                    <span class="s0">closeSyntax()</span><span class="s2">;</span>
                <span class="s0">}</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">default</span><span class="s0">:</span>
                <span class="s0">matchStack = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">tokens: tokens</span><span class="s2">,</span>
            <span class="s0">reason: exitReason</span><span class="s2">,</span>
            <span class="s0">iterations: iterationCount</span><span class="s2">,</span>
            <span class="s0">match: matchStack</span><span class="s2">,</span>
            <span class="s0">longestMatch: longestMatch</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">matchAsList(tokens</span><span class="s2">, </span><span class="s0">matchGraph</span><span class="s2">, </span><span class="s0">syntaxes) {</span>
        <span class="s1">var </span><span class="s0">matchResult = internalMatch(tokens</span><span class="s2">, </span><span class="s0">matchGraph</span><span class="s2">, </span><span class="s0">syntaxes || {})</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(matchResult.match !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s0">item = reverseList(matchResult.match).prev</span><span class="s2">;</span>

            <span class="s0">matchResult.match = []</span><span class="s2">;</span>

            <span class="s1">while </span><span class="s0">(item !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">switch </span><span class="s0">(item.type) {</span>
                    <span class="s1">case </span><span class="s0">STUB:</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">OPEN_SYNTAX:</span>
                    <span class="s1">case </span><span class="s0">CLOSE_SYNTAX:</span>
                        <span class="s0">matchResult.match.push({</span>
                            <span class="s0">type: item.type</span><span class="s2">,</span>
                            <span class="s0">syntax: item.syntax</span>
                        <span class="s0">})</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">default</span><span class="s0">:</span>
                        <span class="s0">matchResult.match.push({</span>
                            <span class="s0">token: item.token.value</span><span class="s2">,</span>
                            <span class="s0">node: item.token.node</span>
                        <span class="s0">})</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">item = item.prev</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">matchResult</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">matchAsTree(tokens</span><span class="s2">, </span><span class="s0">matchGraph</span><span class="s2">, </span><span class="s0">syntaxes) {</span>
        <span class="s1">var </span><span class="s0">matchResult = internalMatch(tokens</span><span class="s2">, </span><span class="s0">matchGraph</span><span class="s2">, </span><span class="s0">syntaxes || {})</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(matchResult.match === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s0">matchResult</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">item = matchResult.match</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">host = matchResult.match = {</span>
            <span class="s0">syntax: matchGraph.syntax || </span><span class="s1">null</span><span class="s2">,</span>
            <span class="s0">match: []</span>
        <span class="s0">}</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">hostStack = [host]</span><span class="s2">;</span>

        <span class="s4">// revert a list and start with 2nd item since 1st is a stub item</span>
        <span class="s0">item = reverseList(item).prev</span><span class="s2">;</span>

        <span class="s4">// build a tree</span>
        <span class="s1">while </span><span class="s0">(item !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">switch </span><span class="s0">(item.type) {</span>
                <span class="s1">case </span><span class="s0">OPEN_SYNTAX:</span>
                    <span class="s0">host.match.push(host = {</span>
                        <span class="s0">syntax: item.syntax</span><span class="s2">,</span>
                        <span class="s0">match: []</span>
                    <span class="s0">})</span><span class="s2">;</span>
                    <span class="s0">hostStack.push(host)</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">CLOSE_SYNTAX:</span>
                    <span class="s0">hostStack.pop()</span><span class="s2">;</span>
                    <span class="s0">host = hostStack[hostStack.length - </span><span class="s5">1</span><span class="s0">]</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">default</span><span class="s0">:</span>
                    <span class="s0">host.match.push({</span>
                        <span class="s0">syntax: item.syntax || </span><span class="s1">null</span><span class="s2">,</span>
                        <span class="s0">token: item.token.value</span><span class="s2">,</span>
                        <span class="s0">node: item.token.node</span>
                    <span class="s0">})</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">item = item.prev</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">matchResult</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">match = {</span>
        <span class="s0">matchAsList: matchAsList</span><span class="s2">,</span>
        <span class="s0">matchAsTree: matchAsTree</span><span class="s2">,</span>
        <span class="s0">getTotalIterationCount: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return </span><span class="s0">totalIterationCount</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">getTrace(node) {</span>
        <span class="s1">function </span><span class="s0">shouldPutToTrace(syntax) {</span>
            <span class="s1">if </span><span class="s0">(syntax === </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">return false</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">(</span>
                <span class="s0">syntax.type === </span><span class="s3">'Type' </span><span class="s0">||</span>
                <span class="s0">syntax.type === </span><span class="s3">'Property' </span><span class="s0">||</span>
                <span class="s0">syntax.type === </span><span class="s3">'Keyword'</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">function </span><span class="s0">hasMatch(matchNode) {</span>
            <span class="s1">if </span><span class="s0">(Array.isArray(matchNode.match)) {</span>
                <span class="s4">// use for-loop for better perfomance</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; matchNode.match.length</span><span class="s2">; </span><span class="s0">i++) {</span>
                    <span class="s1">if </span><span class="s0">(hasMatch(matchNode.match[i])) {</span>
                        <span class="s1">if </span><span class="s0">(shouldPutToTrace(matchNode.syntax)) {</span>
                            <span class="s0">result.unshift(matchNode.syntax)</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s1">return true</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else if </span><span class="s0">(matchNode.node === node) {</span>
                <span class="s0">result = shouldPutToTrace(matchNode.syntax)</span>
                    <span class="s0">? [matchNode.syntax]</span>
                    <span class="s0">: []</span><span class="s2">;</span>

                <span class="s1">return true</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return false</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">result = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.matched !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">hasMatch(</span><span class="s1">this</span><span class="s0">.matched)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">testNode(match</span><span class="s2">, </span><span class="s0">node</span><span class="s2">, </span><span class="s0">fn) {</span>
        <span class="s1">var </span><span class="s0">trace = getTrace.call(match</span><span class="s2">, </span><span class="s0">node)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(trace === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">return false</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">trace.some(fn)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">isType(node</span><span class="s2">, </span><span class="s0">type) {</span>
        <span class="s1">return </span><span class="s0">testNode(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">node</span><span class="s2">, </span><span class="s1">function</span><span class="s0">(matchNode) {</span>
            <span class="s1">return </span><span class="s0">matchNode.type === </span><span class="s3">'Type' </span><span class="s0">&amp;&amp; matchNode.name === type</span><span class="s2">;</span>
        <span class="s0">})</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">isProperty(node</span><span class="s2">, </span><span class="s0">property) {</span>
        <span class="s1">return </span><span class="s0">testNode(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">node</span><span class="s2">, </span><span class="s1">function</span><span class="s0">(matchNode) {</span>
            <span class="s1">return </span><span class="s0">matchNode.type === </span><span class="s3">'Property' </span><span class="s0">&amp;&amp; matchNode.name === property</span><span class="s2">;</span>
        <span class="s0">})</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">isKeyword(node) {</span>
        <span class="s1">return </span><span class="s0">testNode(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">node</span><span class="s2">, </span><span class="s1">function</span><span class="s0">(matchNode) {</span>
            <span class="s1">return </span><span class="s0">matchNode.type === </span><span class="s3">'Keyword'</span><span class="s2">;</span>
        <span class="s0">})</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">trace = {</span>
        <span class="s0">getTrace: getTrace</span><span class="s2">,</span>
        <span class="s0">isType: isType</span><span class="s2">,</span>
        <span class="s0">isProperty: isProperty</span><span class="s2">,</span>
        <span class="s0">isKeyword: isKeyword</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">getFirstMatchNode(matchNode) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s3">'node' </span><span class="s1">in </span><span class="s0">matchNode) {</span>
            <span class="s1">return </span><span class="s0">matchNode.node</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">getFirstMatchNode(matchNode.match[</span><span class="s5">0</span><span class="s0">])</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">getLastMatchNode(matchNode) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s3">'node' </span><span class="s1">in </span><span class="s0">matchNode) {</span>
            <span class="s1">return </span><span class="s0">matchNode.node</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">getLastMatchNode(matchNode.match[matchNode.match.length - </span><span class="s5">1</span><span class="s0">])</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">matchFragments(lexer</span><span class="s2">, </span><span class="s0">ast</span><span class="s2">, </span><span class="s0">match</span><span class="s2">, </span><span class="s0">type</span><span class="s2">, </span><span class="s0">name) {</span>
        <span class="s1">function </span><span class="s0">findFragments(matchNode) {</span>
            <span class="s1">if </span><span class="s0">(matchNode.syntax !== </span><span class="s1">null </span><span class="s0">&amp;&amp;</span>
                <span class="s0">matchNode.syntax.type === type &amp;&amp;</span>
                <span class="s0">matchNode.syntax.name === name) {</span>
                <span class="s1">var </span><span class="s0">start = getFirstMatchNode(matchNode)</span><span class="s2">;</span>
                <span class="s1">var </span><span class="s0">end = getLastMatchNode(matchNode)</span><span class="s2">;</span>

                <span class="s0">lexer.syntax.walk(ast</span><span class="s2">, </span><span class="s1">function</span><span class="s0">(node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list) {</span>
                    <span class="s1">if </span><span class="s0">(node === start) {</span>
                        <span class="s1">var </span><span class="s0">nodes = </span><span class="s1">new </span><span class="s0">List_1()</span><span class="s2">;</span>

                        <span class="s1">do </span><span class="s0">{</span>
                            <span class="s0">nodes.appendData(item.data)</span><span class="s2">;</span>

                            <span class="s1">if </span><span class="s0">(item.data === end) {</span>
                                <span class="s1">break</span><span class="s2">;</span>
                            <span class="s0">}</span>

                            <span class="s0">item = item.next</span><span class="s2">;</span>
                        <span class="s0">} </span><span class="s1">while </span><span class="s0">(item !== </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>

                        <span class="s0">fragments.push({</span>
                            <span class="s0">parent: list</span><span class="s2">,</span>
                            <span class="s0">nodes: nodes</span>
                        <span class="s0">})</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">})</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(Array.isArray(matchNode.match)) {</span>
                <span class="s0">matchNode.match.forEach(findFragments)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">fragments = []</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(match.matched !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">findFragments(match.matched)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">fragments</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">search = {</span>
        <span class="s0">matchFragments: matchFragments</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">hasOwnProperty$2 = Object.prototype.hasOwnProperty</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">isValidNumber(value) {</span>
        <span class="s4">// Number.isInteger(value) &amp;&amp; value &gt;= 0</span>
        <span class="s1">return </span><span class="s0">(</span>
            <span class="s1">typeof </span><span class="s0">value === </span><span class="s3">'number' </span><span class="s0">&amp;&amp;</span>
            <span class="s0">isFinite(value) &amp;&amp;</span>
            <span class="s0">Math.floor(value) === value &amp;&amp;</span>
            <span class="s0">value &gt;= </span><span class="s5">0</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">isValidLocation(loc) {</span>
        <span class="s1">return </span><span class="s0">(</span>
            <span class="s0">Boolean(loc) &amp;&amp;</span>
            <span class="s0">isValidNumber(loc.offset) &amp;&amp;</span>
            <span class="s0">isValidNumber(loc.line) &amp;&amp;</span>
            <span class="s0">isValidNumber(loc.column)</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">createNodeStructureChecker(type</span><span class="s2">, </span><span class="s0">fields) {</span>
        <span class="s1">return function </span><span class="s0">checkNode(node</span><span class="s2">, </span><span class="s0">warn) {</span>
            <span class="s1">if </span><span class="s0">(!node || node.constructor !== Object) {</span>
                <span class="s1">return </span><span class="s0">warn(node</span><span class="s2">, </span><span class="s3">'Type of node should be an Object'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">key </span><span class="s1">in </span><span class="s0">node) {</span>
                <span class="s1">var </span><span class="s0">valid = </span><span class="s1">true</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(hasOwnProperty$2.call(node</span><span class="s2">, </span><span class="s0">key) === </span><span class="s1">false</span><span class="s0">) {</span>
                    <span class="s1">continue</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">if </span><span class="s0">(key === </span><span class="s3">'type'</span><span class="s0">) {</span>
                    <span class="s1">if </span><span class="s0">(node.type !== type) {</span>
                        <span class="s0">warn(node</span><span class="s2">, </span><span class="s3">'Wrong node type `' </span><span class="s0">+ node.type + </span><span class="s3">'`, expected `' </span><span class="s0">+ type + </span><span class="s3">'`'</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(key === </span><span class="s3">'loc'</span><span class="s0">) {</span>
                    <span class="s1">if </span><span class="s0">(node.loc === </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">continue</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(node.loc &amp;&amp; node.loc.constructor === Object) {</span>
                        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">node.loc.source !== </span><span class="s3">'string'</span><span class="s0">) {</span>
                            <span class="s0">key += </span><span class="s3">'.source'</span><span class="s2">;</span>
                        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(!isValidLocation(node.loc.start)) {</span>
                            <span class="s0">key += </span><span class="s3">'.start'</span><span class="s2">;</span>
                        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(!isValidLocation(node.loc.end)) {</span>
                            <span class="s0">key += </span><span class="s3">'.end'</span><span class="s2">;</span>
                        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                            <span class="s1">continue</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>

                    <span class="s0">valid = </span><span class="s1">false</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(fields.hasOwnProperty(key)) {</span>
                    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">, </span><span class="s0">valid = </span><span class="s1">false</span><span class="s2">; </span><span class="s0">!valid &amp;&amp; i &lt; fields[key].length</span><span class="s2">; </span><span class="s0">i++) {</span>
                        <span class="s1">var </span><span class="s0">fieldType = fields[key][i]</span><span class="s2">;</span>

                        <span class="s1">switch </span><span class="s0">(fieldType) {</span>
                            <span class="s1">case </span><span class="s0">String:</span>
                                <span class="s0">valid = </span><span class="s1">typeof </span><span class="s0">node[key] === </span><span class="s3">'string'</span><span class="s2">;</span>
                                <span class="s1">break</span><span class="s2">;</span>

                            <span class="s1">case </span><span class="s0">Boolean:</span>
                                <span class="s0">valid = </span><span class="s1">typeof </span><span class="s0">node[key] === </span><span class="s3">'boolean'</span><span class="s2">;</span>
                                <span class="s1">break</span><span class="s2">;</span>

                            <span class="s1">case null</span><span class="s0">:</span>
                                <span class="s0">valid = node[key] === </span><span class="s1">null</span><span class="s2">;</span>
                                <span class="s1">break</span><span class="s2">;</span>

                            <span class="s1">default</span><span class="s0">:</span>
                                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">fieldType === </span><span class="s3">'string'</span><span class="s0">) {</span>
                                    <span class="s0">valid = node[key] &amp;&amp; node[key].type === fieldType</span><span class="s2">;</span>
                                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(Array.isArray(fieldType)) {</span>
                                    <span class="s0">valid = node[key] </span><span class="s1">instanceof </span><span class="s0">List_1</span><span class="s2">;</span>
                                <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">warn(node</span><span class="s2">, </span><span class="s3">'Unknown field `' </span><span class="s0">+ key + </span><span class="s3">'` for ' </span><span class="s0">+ type + </span><span class="s3">' node type'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">if </span><span class="s0">(!valid) {</span>
                    <span class="s0">warn(node</span><span class="s2">, </span><span class="s3">'Bad value for `' </span><span class="s0">+ type + </span><span class="s3">'.' </span><span class="s0">+ key + </span><span class="s3">'`'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">key </span><span class="s1">in </span><span class="s0">fields) {</span>
                <span class="s1">if </span><span class="s0">(hasOwnProperty$2.call(fields</span><span class="s2">, </span><span class="s0">key) &amp;&amp;</span>
                    <span class="s0">hasOwnProperty$2.call(node</span><span class="s2">, </span><span class="s0">key) === </span><span class="s1">false</span><span class="s0">) {</span>
                    <span class="s0">warn(node</span><span class="s2">, </span><span class="s3">'Field `' </span><span class="s0">+ type + </span><span class="s3">'.' </span><span class="s0">+ key + </span><span class="s3">'` is missed'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">processStructure(name</span><span class="s2">, </span><span class="s0">nodeType) {</span>
        <span class="s1">var </span><span class="s0">structure = nodeType.structure</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">fields = {</span>
            <span class="s0">type: String</span><span class="s2">,</span>
            <span class="s0">loc: </span><span class="s1">true</span>
        <span class="s0">}</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">docs = {</span>
            <span class="s0">type: </span><span class="s3">'&quot;' </span><span class="s0">+ name + </span><span class="s3">'&quot;'</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">key </span><span class="s1">in </span><span class="s0">structure) {</span>
            <span class="s1">if </span><span class="s0">(hasOwnProperty$2.call(structure</span><span class="s2">, </span><span class="s0">key) === </span><span class="s1">false</span><span class="s0">) {</span>
                <span class="s1">continue</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">var </span><span class="s0">docsTypes = []</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">fieldTypes = fields[key] = Array.isArray(structure[key])</span>
                <span class="s0">? structure[key].slice()</span>
                <span class="s0">: [structure[key]]</span><span class="s2">;</span>

            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; fieldTypes.length</span><span class="s2">; </span><span class="s0">i++) {</span>
                <span class="s1">var </span><span class="s0">fieldType = fieldTypes[i]</span><span class="s2">;</span>
                <span class="s1">if </span><span class="s0">(fieldType === String || fieldType === Boolean) {</span>
                    <span class="s0">docsTypes.push(fieldType.name)</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(fieldType === </span><span class="s1">null</span><span class="s0">) {</span>
                    <span class="s0">docsTypes.push(</span><span class="s3">'null'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">fieldType === </span><span class="s3">'string'</span><span class="s0">) {</span>
                    <span class="s0">docsTypes.push(</span><span class="s3">'&lt;' </span><span class="s0">+ fieldType + </span><span class="s3">'&gt;'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(Array.isArray(fieldType)) {</span>
                    <span class="s0">docsTypes.push(</span><span class="s3">'List'</span><span class="s0">)</span><span class="s2">; </span><span class="s4">// TODO: use type enum</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Wrong value `' </span><span class="s0">+ fieldType + </span><span class="s3">'` in `' </span><span class="s0">+ name + </span><span class="s3">'.' </span><span class="s0">+ key + </span><span class="s3">'` structure definition'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s0">docs[key] = docsTypes.join(</span><span class="s3">' | '</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">docs: docs</span><span class="s2">,</span>
            <span class="s0">check: createNodeStructureChecker(name</span><span class="s2">, </span><span class="s0">fields)</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">structure = {</span>
        <span class="s0">getStructureFromConfig: </span><span class="s1">function</span><span class="s0">(config) {</span>
            <span class="s1">var </span><span class="s0">structure = {}</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(config.node) {</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">config.node) {</span>
                    <span class="s1">if </span><span class="s0">(hasOwnProperty$2.call(config.node</span><span class="s2">, </span><span class="s0">name)) {</span>
                        <span class="s1">var </span><span class="s0">nodeType = config.node[name]</span><span class="s2">;</span>

                        <span class="s1">if </span><span class="s0">(nodeType.structure) {</span>
                            <span class="s0">structure[name] = processStructure(name</span><span class="s2">, </span><span class="s0">nodeType)</span><span class="s2">;</span>
                        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                            <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Missed `structure` field in `' </span><span class="s0">+ name + </span><span class="s3">'` node type definition'</span><span class="s0">)</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">structure</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">SyntaxReferenceError$1 = error.SyntaxReferenceError</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">SyntaxMatchError$1 = error.SyntaxMatchError</span><span class="s2">;</span>






    <span class="s1">var </span><span class="s0">buildMatchGraph$1 = matchGraph.buildMatchGraph</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">matchAsTree$1 = match.matchAsTree</span><span class="s2">;</span>


    <span class="s1">var </span><span class="s0">getStructureFromConfig = structure.getStructureFromConfig</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">cssWideKeywords$1 = buildMatchGraph$1(</span><span class="s3">'inherit | initial | unset'</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">cssWideKeywordsWithExpression = buildMatchGraph$1(</span><span class="s3">'inherit | initial | unset | &lt;-ms-legacy-expression&gt;'</span><span class="s0">)</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">dumpMapSyntax(map</span><span class="s2">, </span><span class="s0">compact</span><span class="s2">, </span><span class="s0">syntaxAsAst) {</span>
        <span class="s1">var </span><span class="s0">result = {}</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">map) {</span>
            <span class="s1">if </span><span class="s0">(map[name].syntax) {</span>
                <span class="s0">result[name] = syntaxAsAst</span>
                    <span class="s0">? map[name].syntax</span>
                    <span class="s0">: generate_1(map[name].syntax</span><span class="s2">, </span><span class="s0">{ compact: compact })</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">dumpAtruleMapSyntax(map</span><span class="s2">, </span><span class="s0">compact</span><span class="s2">, </span><span class="s0">syntaxAsAst) {</span>
        <span class="s1">const </span><span class="s0">result = {}</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">const </span><span class="s0">[name</span><span class="s2">, </span><span class="s0">atrule] of Object.entries(map)) {</span>
            <span class="s0">result[name] = {</span>
                <span class="s0">prelude: atrule.prelude &amp;&amp; (</span>
                    <span class="s0">syntaxAsAst</span>
                        <span class="s0">? atrule.prelude.syntax</span>
                        <span class="s0">: generate_1(atrule.prelude.syntax</span><span class="s2">, </span><span class="s0">{ compact })</span>
                <span class="s0">)</span><span class="s2">,</span>
                <span class="s0">descriptors: atrule.descriptors &amp;&amp; dumpMapSyntax(atrule.descriptors</span><span class="s2">, </span><span class="s0">compact</span><span class="s2">, </span><span class="s0">syntaxAsAst)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">valueHasVar(tokens) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; tokens.length</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s1">if </span><span class="s0">(tokens[i].value.toLowerCase() === </span><span class="s3">'var('</span><span class="s0">) {</span>
                <span class="s1">return true</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return false</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">buildMatchResult(match</span><span class="s2">, </span><span class="s0">error</span><span class="s2">, </span><span class="s0">iterations) {</span>
        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">matched: match</span><span class="s2">,</span>
            <span class="s0">iterations: iterations</span><span class="s2">,</span>
            <span class="s0">error: error</span><span class="s2">,</span>
            <span class="s0">getTrace: trace.getTrace</span><span class="s2">,</span>
            <span class="s0">isType: trace.isType</span><span class="s2">,</span>
            <span class="s0">isProperty: trace.isProperty</span><span class="s2">,</span>
            <span class="s0">isKeyword: trace.isKeyword</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">matchSyntax(lexer</span><span class="s2">, </span><span class="s0">syntax</span><span class="s2">, </span><span class="s0">value</span><span class="s2">, </span><span class="s0">useCommon) {</span>
        <span class="s1">var </span><span class="s0">tokens = prepareTokens_1(value</span><span class="s2">, </span><span class="s0">lexer.syntax)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">result</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(valueHasVar(tokens)) {</span>
            <span class="s1">return </span><span class="s0">buildMatchResult(</span><span class="s1">null</span><span class="s2">, </span><span class="s1">new </span><span class="s0">Error(</span><span class="s3">'Matching for a tree with var() is not supported'</span><span class="s0">))</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(useCommon) {</span>
            <span class="s0">result = matchAsTree$1(tokens</span><span class="s2">, </span><span class="s0">lexer.valueCommonSyntax</span><span class="s2">, </span><span class="s0">lexer)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(!useCommon || !result.match) {</span>
            <span class="s0">result = matchAsTree$1(tokens</span><span class="s2">, </span><span class="s0">syntax.match</span><span class="s2">, </span><span class="s0">lexer)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(!result.match) {</span>
                <span class="s1">return </span><span class="s0">buildMatchResult(</span>
                    <span class="s1">null</span><span class="s2">,</span>
                    <span class="s1">new </span><span class="s0">SyntaxMatchError$1(result.reason</span><span class="s2">, </span><span class="s0">syntax.syntax</span><span class="s2">, </span><span class="s0">value</span><span class="s2">, </span><span class="s0">result)</span><span class="s2">,</span>
                    <span class="s0">result.iterations</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">buildMatchResult(result.match</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s0">result.iterations)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">Lexer = </span><span class="s1">function</span><span class="s0">(config</span><span class="s2">, </span><span class="s0">syntax</span><span class="s2">, </span><span class="s0">structure) {</span>
        <span class="s1">this</span><span class="s0">.valueCommonSyntax = cssWideKeywords$1</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.syntax = syntax</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.generic = </span><span class="s1">false</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.atrules = {}</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.properties = {}</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.types = {}</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.structure = structure || getStructureFromConfig(config)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(config) {</span>
            <span class="s1">if </span><span class="s0">(config.types) {</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">config.types) {</span>
                    <span class="s1">this</span><span class="s0">.addType_(name</span><span class="s2">, </span><span class="s0">config.types[name])</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(config.generic) {</span>
                <span class="s1">this</span><span class="s0">.generic = </span><span class="s1">true</span><span class="s2">;</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">generic) {</span>
                    <span class="s1">this</span><span class="s0">.addType_(name</span><span class="s2">, </span><span class="s0">generic[name])</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(config.atrules) {</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">config.atrules) {</span>
                    <span class="s1">this</span><span class="s0">.addAtrule_(name</span><span class="s2">, </span><span class="s0">config.atrules[name])</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(config.properties) {</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">config.properties) {</span>
                    <span class="s1">this</span><span class="s0">.addProperty_(name</span><span class="s2">, </span><span class="s0">config.properties[name])</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">Lexer.prototype = {</span>
        <span class="s0">structure: {}</span><span class="s2">,</span>
        <span class="s0">checkStructure: </span><span class="s1">function</span><span class="s0">(ast) {</span>
            <span class="s1">function </span><span class="s0">collectWarning(node</span><span class="s2">, </span><span class="s0">message) {</span>
                <span class="s0">warns.push({</span>
                    <span class="s0">node: node</span><span class="s2">,</span>
                    <span class="s0">message: message</span>
                <span class="s0">})</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">var </span><span class="s0">structure = </span><span class="s1">this</span><span class="s0">.structure</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">warns = []</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.syntax.walk(ast</span><span class="s2">, </span><span class="s1">function</span><span class="s0">(node) {</span>
                <span class="s1">if </span><span class="s0">(structure.hasOwnProperty(node.type)) {</span>
                    <span class="s0">structure[node.type].check(node</span><span class="s2">, </span><span class="s0">collectWarning)</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">collectWarning(node</span><span class="s2">, </span><span class="s3">'Unknown node type `' </span><span class="s0">+ node.type + </span><span class="s3">'`'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">})</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">warns.length ? warns : </span><span class="s1">false</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">createDescriptor: </span><span class="s1">function</span><span class="s0">(syntax</span><span class="s2">, </span><span class="s0">type</span><span class="s2">, </span><span class="s0">name</span><span class="s2">, </span><span class="s0">parent = </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s0">ref = {</span>
                <span class="s0">type: type</span><span class="s2">,</span>
                <span class="s0">name: name</span>
            <span class="s0">}</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">descriptor = {</span>
                <span class="s0">type: type</span><span class="s2">,</span>
                <span class="s0">name: name</span><span class="s2">,</span>
                <span class="s0">parent: parent</span><span class="s2">,</span>
                <span class="s0">syntax: </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s0">match: </span><span class="s1">null</span>
            <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">syntax === </span><span class="s3">'function'</span><span class="s0">) {</span>
                <span class="s0">descriptor.match = buildMatchGraph$1(syntax</span><span class="s2">, </span><span class="s0">ref)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">syntax === </span><span class="s3">'string'</span><span class="s0">) {</span>
                    <span class="s4">// lazy parsing on first access</span>
                    <span class="s0">Object.defineProperty(descriptor</span><span class="s2">, </span><span class="s3">'syntax'</span><span class="s2">, </span><span class="s0">{</span>
                        <span class="s0">get: </span><span class="s1">function</span><span class="s0">() {</span>
                            <span class="s0">Object.defineProperty(descriptor</span><span class="s2">, </span><span class="s3">'syntax'</span><span class="s2">, </span><span class="s0">{</span>
                                <span class="s0">value: parse_1(syntax)</span>
                            <span class="s0">})</span><span class="s2">;</span>

                            <span class="s1">return </span><span class="s0">descriptor.syntax</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">})</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">descriptor.syntax = syntax</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s4">// lazy graph build on first access</span>
                <span class="s0">Object.defineProperty(descriptor</span><span class="s2">, </span><span class="s3">'match'</span><span class="s2">, </span><span class="s0">{</span>
                    <span class="s0">get: </span><span class="s1">function</span><span class="s0">() {</span>
                        <span class="s0">Object.defineProperty(descriptor</span><span class="s2">, </span><span class="s3">'match'</span><span class="s2">, </span><span class="s0">{</span>
                            <span class="s0">value: buildMatchGraph$1(descriptor.syntax</span><span class="s2">, </span><span class="s0">ref)</span>
                        <span class="s0">})</span><span class="s2">;</span>

                        <span class="s1">return </span><span class="s0">descriptor.match</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">})</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">descriptor</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">addAtrule_: </span><span class="s1">function</span><span class="s0">(name</span><span class="s2">, </span><span class="s0">syntax) {</span>
            <span class="s1">if </span><span class="s0">(!syntax) {</span>
                <span class="s1">return</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.atrules[name] = {</span>
                <span class="s0">type: </span><span class="s3">'Atrule'</span><span class="s2">,</span>
                <span class="s0">name: name</span><span class="s2">,</span>
                <span class="s0">prelude: syntax.prelude ? </span><span class="s1">this</span><span class="s0">.createDescriptor(syntax.prelude</span><span class="s2">, </span><span class="s3">'AtrulePrelude'</span><span class="s2">, </span><span class="s0">name) : </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s0">descriptors: syntax.descriptors</span>
                    <span class="s0">? Object.keys(syntax.descriptors).reduce((res</span><span class="s2">, </span><span class="s0">descName) =&gt; {</span>
                        <span class="s0">res[descName] = </span><span class="s1">this</span><span class="s0">.createDescriptor(syntax.descriptors[descName]</span><span class="s2">, </span><span class="s3">'AtruleDescriptor'</span><span class="s2">, </span><span class="s0">descName</span><span class="s2">, </span><span class="s0">name)</span><span class="s2">;</span>
                        <span class="s1">return </span><span class="s0">res</span><span class="s2">;</span>
                    <span class="s0">}</span><span class="s2">, </span><span class="s0">{})</span>
                    <span class="s0">: </span><span class="s1">null</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">addProperty_: </span><span class="s1">function</span><span class="s0">(name</span><span class="s2">, </span><span class="s0">syntax) {</span>
            <span class="s1">if </span><span class="s0">(!syntax) {</span>
                <span class="s1">return</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.properties[name] = </span><span class="s1">this</span><span class="s0">.createDescriptor(syntax</span><span class="s2">, </span><span class="s3">'Property'</span><span class="s2">, </span><span class="s0">name)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">addType_: </span><span class="s1">function</span><span class="s0">(name</span><span class="s2">, </span><span class="s0">syntax) {</span>
            <span class="s1">if </span><span class="s0">(!syntax) {</span>
                <span class="s1">return</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.types[name] = </span><span class="s1">this</span><span class="s0">.createDescriptor(syntax</span><span class="s2">, </span><span class="s3">'Type'</span><span class="s2">, </span><span class="s0">name)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(syntax === generic[</span><span class="s3">'-ms-legacy-expression'</span><span class="s0">]) {</span>
                <span class="s1">this</span><span class="s0">.valueCommonSyntax = cssWideKeywordsWithExpression</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">checkAtruleName: </span><span class="s1">function</span><span class="s0">(atruleName) {</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.getAtrule(atruleName)) {</span>
                <span class="s1">return new </span><span class="s0">SyntaxReferenceError$1(</span><span class="s3">'Unknown at-rule'</span><span class="s2">, </span><span class="s3">'@' </span><span class="s0">+ atruleName)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">checkAtrulePrelude: </span><span class="s1">function</span><span class="s0">(atruleName</span><span class="s2">, </span><span class="s0">prelude) {</span>
            <span class="s1">let </span><span class="s0">error = </span><span class="s1">this</span><span class="s0">.checkAtruleName(atruleName)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(error) {</span>
                <span class="s1">return </span><span class="s0">error</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">var </span><span class="s0">atrule = </span><span class="s1">this</span><span class="s0">.getAtrule(atruleName)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(!atrule.prelude &amp;&amp; prelude) {</span>
                <span class="s1">return new </span><span class="s0">SyntaxError(</span><span class="s3">'At-rule `@' </span><span class="s0">+ atruleName + </span><span class="s3">'` should not contain a prelude'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(atrule.prelude &amp;&amp; !prelude) {</span>
                <span class="s1">return new </span><span class="s0">SyntaxError(</span><span class="s3">'At-rule `@' </span><span class="s0">+ atruleName + </span><span class="s3">'` should contain a prelude'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">checkAtruleDescriptorName: </span><span class="s1">function</span><span class="s0">(atruleName</span><span class="s2">, </span><span class="s0">descriptorName) {</span>
            <span class="s1">let </span><span class="s0">error = </span><span class="s1">this</span><span class="s0">.checkAtruleName(atruleName)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(error) {</span>
                <span class="s1">return </span><span class="s0">error</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">var </span><span class="s0">atrule = </span><span class="s1">this</span><span class="s0">.getAtrule(atruleName)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">descriptor = names.keyword(descriptorName)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(!atrule.descriptors) {</span>
                <span class="s1">return new </span><span class="s0">SyntaxError(</span><span class="s3">'At-rule `@' </span><span class="s0">+ atruleName + </span><span class="s3">'` has no known descriptors'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(!atrule.descriptors[descriptor.name] &amp;&amp;</span>
                <span class="s0">!atrule.descriptors[descriptor.basename]) {</span>
                <span class="s1">return new </span><span class="s0">SyntaxReferenceError$1(</span><span class="s3">'Unknown at-rule descriptor'</span><span class="s2">, </span><span class="s0">descriptorName)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">checkPropertyName: </span><span class="s1">function</span><span class="s0">(propertyName) {</span>
            <span class="s1">var </span><span class="s0">property = names.property(propertyName)</span><span class="s2">;</span>

            <span class="s4">// don't match syntax for a custom property</span>
            <span class="s1">if </span><span class="s0">(property.custom) {</span>
                <span class="s1">return new </span><span class="s0">Error(</span><span class="s3">'Lexer matching doesn</span><span class="s2">\'</span><span class="s3">t applicable for custom properties'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.getProperty(propertyName)) {</span>
                <span class="s1">return new </span><span class="s0">SyntaxReferenceError$1(</span><span class="s3">'Unknown property'</span><span class="s2">, </span><span class="s0">propertyName)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">matchAtrulePrelude: </span><span class="s1">function</span><span class="s0">(atruleName</span><span class="s2">, </span><span class="s0">prelude) {</span>
            <span class="s1">var </span><span class="s0">error = </span><span class="s1">this</span><span class="s0">.checkAtrulePrelude(atruleName</span><span class="s2">, </span><span class="s0">prelude)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(error) {</span>
                <span class="s1">return </span><span class="s0">buildMatchResult(</span><span class="s1">null</span><span class="s2">, </span><span class="s0">error)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(!prelude) {</span>
                <span class="s1">return </span><span class="s0">buildMatchResult(</span><span class="s1">null</span><span class="s2">, </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">matchSyntax(</span><span class="s1">this</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.getAtrule(atruleName).prelude</span><span class="s2">, </span><span class="s0">prelude</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">matchAtruleDescriptor: </span><span class="s1">function</span><span class="s0">(atruleName</span><span class="s2">, </span><span class="s0">descriptorName</span><span class="s2">, </span><span class="s0">value) {</span>
            <span class="s1">var </span><span class="s0">error = </span><span class="s1">this</span><span class="s0">.checkAtruleDescriptorName(atruleName</span><span class="s2">, </span><span class="s0">descriptorName)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(error) {</span>
                <span class="s1">return </span><span class="s0">buildMatchResult(</span><span class="s1">null</span><span class="s2">, </span><span class="s0">error)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">var </span><span class="s0">atrule = </span><span class="s1">this</span><span class="s0">.getAtrule(atruleName)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">descriptor = names.keyword(descriptorName)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">matchSyntax(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">atrule.descriptors[descriptor.name] || atrule.descriptors[descriptor.basename]</span><span class="s2">, </span><span class="s0">value</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">matchDeclaration: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">if </span><span class="s0">(node.type !== </span><span class="s3">'Declaration'</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s0">buildMatchResult(</span><span class="s1">null</span><span class="s2">, </span><span class="s1">new </span><span class="s0">Error(</span><span class="s3">'Not a Declaration node'</span><span class="s0">))</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return this</span><span class="s0">.matchProperty(node.property</span><span class="s2">, </span><span class="s0">node.value)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">matchProperty: </span><span class="s1">function</span><span class="s0">(propertyName</span><span class="s2">, </span><span class="s0">value) {</span>
            <span class="s1">var </span><span class="s0">error = </span><span class="s1">this</span><span class="s0">.checkPropertyName(propertyName)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(error) {</span>
                <span class="s1">return </span><span class="s0">buildMatchResult(</span><span class="s1">null</span><span class="s2">, </span><span class="s0">error)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">matchSyntax(</span><span class="s1">this</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.getProperty(propertyName)</span><span class="s2">, </span><span class="s0">value</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">matchType: </span><span class="s1">function</span><span class="s0">(typeName</span><span class="s2">, </span><span class="s0">value) {</span>
            <span class="s1">var </span><span class="s0">typeSyntax = </span><span class="s1">this</span><span class="s0">.getType(typeName)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(!typeSyntax) {</span>
                <span class="s1">return </span><span class="s0">buildMatchResult(</span><span class="s1">null</span><span class="s2">, </span><span class="s1">new </span><span class="s0">SyntaxReferenceError$1(</span><span class="s3">'Unknown type'</span><span class="s2">, </span><span class="s0">typeName))</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">matchSyntax(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">typeSyntax</span><span class="s2">, </span><span class="s0">value</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">match: </span><span class="s1">function</span><span class="s0">(syntax</span><span class="s2">, </span><span class="s0">value) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">syntax !== </span><span class="s3">'string' </span><span class="s0">&amp;&amp; (!syntax || !syntax.type)) {</span>
                <span class="s1">return </span><span class="s0">buildMatchResult(</span><span class="s1">null</span><span class="s2">, </span><span class="s1">new </span><span class="s0">SyntaxReferenceError$1(</span><span class="s3">'Bad syntax'</span><span class="s0">))</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">syntax === </span><span class="s3">'string' </span><span class="s0">|| !syntax.match) {</span>
                <span class="s0">syntax = </span><span class="s1">this</span><span class="s0">.createDescriptor(syntax</span><span class="s2">, </span><span class="s3">'Type'</span><span class="s2">, </span><span class="s3">'anonymous'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">matchSyntax(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">syntax</span><span class="s2">, </span><span class="s0">value</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">findValueFragments: </span><span class="s1">function</span><span class="s0">(propertyName</span><span class="s2">, </span><span class="s0">value</span><span class="s2">, </span><span class="s0">type</span><span class="s2">, </span><span class="s0">name) {</span>
            <span class="s1">return </span><span class="s0">search.matchFragments(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">value</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.matchProperty(propertyName</span><span class="s2">, </span><span class="s0">value)</span><span class="s2">, </span><span class="s0">type</span><span class="s2">, </span><span class="s0">name)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">findDeclarationValueFragments: </span><span class="s1">function</span><span class="s0">(declaration</span><span class="s2">, </span><span class="s0">type</span><span class="s2">, </span><span class="s0">name) {</span>
            <span class="s1">return </span><span class="s0">search.matchFragments(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">declaration.value</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.matchDeclaration(declaration)</span><span class="s2">, </span><span class="s0">type</span><span class="s2">, </span><span class="s0">name)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">findAllFragments: </span><span class="s1">function</span><span class="s0">(ast</span><span class="s2">, </span><span class="s0">type</span><span class="s2">, </span><span class="s0">name) {</span>
            <span class="s1">var </span><span class="s0">result = []</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.syntax.walk(ast</span><span class="s2">, </span><span class="s0">{</span>
                <span class="s0">visit: </span><span class="s3">'Declaration'</span><span class="s2">,</span>
                <span class="s0">enter: </span><span class="s1">function</span><span class="s0">(declaration) {</span>
                    <span class="s0">result.push.apply(result</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.findDeclarationValueFragments(declaration</span><span class="s2">, </span><span class="s0">type</span><span class="s2">, </span><span class="s0">name))</span><span class="s2">;</span>
                <span class="s0">}.bind(</span><span class="s1">this</span><span class="s0">)</span>
            <span class="s0">})</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">getAtrule: </span><span class="s1">function</span><span class="s0">(atruleName</span><span class="s2">, </span><span class="s0">fallbackBasename = </span><span class="s1">true</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s0">atrule = names.keyword(atruleName)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">atruleEntry = atrule.vendor &amp;&amp; fallbackBasename</span>
                <span class="s0">? </span><span class="s1">this</span><span class="s0">.atrules[atrule.name] || </span><span class="s1">this</span><span class="s0">.atrules[atrule.basename]</span>
                <span class="s0">: </span><span class="s1">this</span><span class="s0">.atrules[atrule.name]</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">atruleEntry || </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">getAtrulePrelude: </span><span class="s1">function</span><span class="s0">(atruleName</span><span class="s2">, </span><span class="s0">fallbackBasename = </span><span class="s1">true</span><span class="s0">) {</span>
            <span class="s1">const </span><span class="s0">atrule = </span><span class="s1">this</span><span class="s0">.getAtrule(atruleName</span><span class="s2">, </span><span class="s0">fallbackBasename)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">atrule &amp;&amp; atrule.prelude || </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">getAtruleDescriptor: </span><span class="s1">function</span><span class="s0">(atruleName</span><span class="s2">, </span><span class="s0">name) {</span>
            <span class="s1">return this</span><span class="s0">.atrules.hasOwnProperty(atruleName) &amp;&amp; </span><span class="s1">this</span><span class="s0">.atrules.declarators</span>
                <span class="s0">? </span><span class="s1">this</span><span class="s0">.atrules[atruleName].declarators[name] || </span><span class="s1">null</span>
                <span class="s0">: </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">getProperty: </span><span class="s1">function</span><span class="s0">(propertyName</span><span class="s2">, </span><span class="s0">fallbackBasename = </span><span class="s1">true</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s0">property = names.property(propertyName)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">propertyEntry = property.vendor &amp;&amp; fallbackBasename</span>
                <span class="s0">? </span><span class="s1">this</span><span class="s0">.properties[property.name] || </span><span class="s1">this</span><span class="s0">.properties[property.basename]</span>
                <span class="s0">: </span><span class="s1">this</span><span class="s0">.properties[property.name]</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">propertyEntry || </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">getType: </span><span class="s1">function</span><span class="s0">(name) {</span>
            <span class="s1">return this</span><span class="s0">.types.hasOwnProperty(name) ? </span><span class="s1">this</span><span class="s0">.types[name] : </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">validate: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">function </span><span class="s0">validate(syntax</span><span class="s2">, </span><span class="s0">name</span><span class="s2">, </span><span class="s0">broken</span><span class="s2">, </span><span class="s0">descriptor) {</span>
                <span class="s1">if </span><span class="s0">(broken.hasOwnProperty(name)) {</span>
                    <span class="s1">return </span><span class="s0">broken[name]</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">broken[name] = </span><span class="s1">false</span><span class="s2">;</span>
                <span class="s1">if </span><span class="s0">(descriptor.syntax !== </span><span class="s1">null</span><span class="s0">) {</span>
                    <span class="s0">walk(descriptor.syntax</span><span class="s2">, </span><span class="s1">function</span><span class="s0">(node) {</span>
                        <span class="s1">if </span><span class="s0">(node.type !== </span><span class="s3">'Type' </span><span class="s0">&amp;&amp; node.type !== </span><span class="s3">'Property'</span><span class="s0">) {</span>
                            <span class="s1">return</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s1">var </span><span class="s0">map = node.type === </span><span class="s3">'Type' </span><span class="s0">? syntax.types : syntax.properties</span><span class="s2">;</span>
                        <span class="s1">var </span><span class="s0">brokenMap = node.type === </span><span class="s3">'Type' </span><span class="s0">? brokenTypes : brokenProperties</span><span class="s2">;</span>

                        <span class="s1">if </span><span class="s0">(!map.hasOwnProperty(node.name) || validate(syntax</span><span class="s2">, </span><span class="s0">node.name</span><span class="s2">, </span><span class="s0">brokenMap</span><span class="s2">, </span><span class="s0">map[node.name])) {</span>
                            <span class="s0">broken[name] = </span><span class="s1">true</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">var </span><span class="s0">brokenTypes = {}</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">brokenProperties = {}</span><span class="s2">;</span>

            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">key </span><span class="s1">in this</span><span class="s0">.types) {</span>
                <span class="s0">validate(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">key</span><span class="s2">, </span><span class="s0">brokenTypes</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.types[key])</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">key </span><span class="s1">in this</span><span class="s0">.properties) {</span>
                <span class="s0">validate(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">key</span><span class="s2">, </span><span class="s0">brokenProperties</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.properties[key])</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">brokenTypes = Object.keys(brokenTypes).filter(</span><span class="s1">function</span><span class="s0">(name) {</span>
                <span class="s1">return </span><span class="s0">brokenTypes[name]</span><span class="s2">;</span>
            <span class="s0">})</span><span class="s2">;</span>
            <span class="s0">brokenProperties = Object.keys(brokenProperties).filter(</span><span class="s1">function</span><span class="s0">(name) {</span>
                <span class="s1">return </span><span class="s0">brokenProperties[name]</span><span class="s2">;</span>
            <span class="s0">})</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(brokenTypes.length || brokenProperties.length) {</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">types: brokenTypes</span><span class="s2">,</span>
                    <span class="s0">properties: brokenProperties</span>
                <span class="s0">}</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return null</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">dump: </span><span class="s1">function</span><span class="s0">(syntaxAsAst</span><span class="s2">, </span><span class="s0">pretty) {</span>
            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">generic: </span><span class="s1">this</span><span class="s0">.generic</span><span class="s2">,</span>
                <span class="s0">types: dumpMapSyntax(</span><span class="s1">this</span><span class="s0">.types</span><span class="s2">, </span><span class="s0">!pretty</span><span class="s2">, </span><span class="s0">syntaxAsAst)</span><span class="s2">,</span>
                <span class="s0">properties: dumpMapSyntax(</span><span class="s1">this</span><span class="s0">.properties</span><span class="s2">, </span><span class="s0">!pretty</span><span class="s2">, </span><span class="s0">syntaxAsAst)</span><span class="s2">,</span>
                <span class="s0">atrules: dumpAtruleMapSyntax(</span><span class="s1">this</span><span class="s0">.atrules</span><span class="s2">, </span><span class="s0">!pretty</span><span class="s2">, </span><span class="s0">syntaxAsAst)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">toString: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return </span><span class="s0">JSON.stringify(</span><span class="s1">this</span><span class="s0">.dump())</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">Lexer_1 = Lexer</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">definitionSyntax = {</span>
        <span class="s0">SyntaxError: _SyntaxError$1</span><span class="s2">,</span>
        <span class="s0">parse: parse_1</span><span class="s2">,</span>
        <span class="s0">generate: generate_1</span><span class="s2">,</span>
        <span class="s0">walk: walk</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">isBOM$2 = tokenizer.isBOM</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">N$3 = </span><span class="s5">10</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">F$2 = </span><span class="s5">12</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">R$2 = </span><span class="s5">13</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">computeLinesAndColumns(host</span><span class="s2">, </span><span class="s0">source) {</span>
        <span class="s1">var </span><span class="s0">sourceLength = source.length</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">lines = adoptBuffer(host.lines</span><span class="s2">, </span><span class="s0">sourceLength)</span><span class="s2">; </span><span class="s4">// +1</span>
        <span class="s1">var </span><span class="s0">line = host.startLine</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">columns = adoptBuffer(host.columns</span><span class="s2">, </span><span class="s0">sourceLength)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">column = host.startColumn</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">startOffset = source.length &gt; </span><span class="s5">0 </span><span class="s0">? isBOM$2(source.charCodeAt(</span><span class="s5">0</span><span class="s0">)) : </span><span class="s5">0</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = startOffset</span><span class="s2">; </span><span class="s0">i &lt; sourceLength</span><span class="s2">; </span><span class="s0">i++) { </span><span class="s4">// -1</span>
            <span class="s1">var </span><span class="s0">code = source.charCodeAt(i)</span><span class="s2">;</span>

            <span class="s0">lines[i] = line</span><span class="s2">;</span>
            <span class="s0">columns[i] = column++</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(code === N$3 || code === R$2 || code === F$2) {</span>
                <span class="s1">if </span><span class="s0">(code === R$2 &amp;&amp; i + </span><span class="s5">1 </span><span class="s0">&lt; sourceLength &amp;&amp; source.charCodeAt(i + </span><span class="s5">1</span><span class="s0">) === N$3) {</span>
                    <span class="s0">i++</span><span class="s2">;</span>
                    <span class="s0">lines[i] = line</span><span class="s2">;</span>
                    <span class="s0">columns[i] = column</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">line++</span><span class="s2">;</span>
                <span class="s0">column = </span><span class="s5">1</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s0">lines[i] = line</span><span class="s2">;</span>
        <span class="s0">columns[i] = column</span><span class="s2">;</span>

        <span class="s0">host.lines = lines</span><span class="s2">;</span>
        <span class="s0">host.columns = columns</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">OffsetToLocation = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">this</span><span class="s0">.lines = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.columns = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.linesAndColumnsComputed = </span><span class="s1">false</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">OffsetToLocation.prototype = {</span>
        <span class="s0">setSource: </span><span class="s1">function</span><span class="s0">(source</span><span class="s2">, </span><span class="s0">startOffset</span><span class="s2">, </span><span class="s0">startLine</span><span class="s2">, </span><span class="s0">startColumn) {</span>
            <span class="s1">this</span><span class="s0">.source = source</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.startOffset = </span><span class="s1">typeof </span><span class="s0">startOffset === </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s5">0 </span><span class="s0">: startOffset</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.startLine = </span><span class="s1">typeof </span><span class="s0">startLine === </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s5">1 </span><span class="s0">: startLine</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.startColumn = </span><span class="s1">typeof </span><span class="s0">startColumn === </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s5">1 </span><span class="s0">: startColumn</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.linesAndColumnsComputed = </span><span class="s1">false</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">ensureLinesAndColumnsComputed: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.linesAndColumnsComputed) {</span>
                <span class="s0">computeLinesAndColumns(</span><span class="s1">this</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.source)</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.linesAndColumnsComputed = </span><span class="s1">true</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">getLocation: </span><span class="s1">function</span><span class="s0">(offset</span><span class="s2">, </span><span class="s0">filename) {</span>
            <span class="s1">this</span><span class="s0">.ensureLinesAndColumnsComputed()</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">source: filename</span><span class="s2">,</span>
                <span class="s0">offset: </span><span class="s1">this</span><span class="s0">.startOffset + offset</span><span class="s2">,</span>
                <span class="s0">line: </span><span class="s1">this</span><span class="s0">.lines[offset]</span><span class="s2">,</span>
                <span class="s0">column: </span><span class="s1">this</span><span class="s0">.columns[offset]</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">getLocationRange: </span><span class="s1">function</span><span class="s0">(start</span><span class="s2">, </span><span class="s0">end</span><span class="s2">, </span><span class="s0">filename) {</span>
            <span class="s1">this</span><span class="s0">.ensureLinesAndColumnsComputed()</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">source: filename</span><span class="s2">,</span>
                <span class="s0">start: {</span>
                    <span class="s0">offset: </span><span class="s1">this</span><span class="s0">.startOffset + start</span><span class="s2">,</span>
                    <span class="s0">line: </span><span class="s1">this</span><span class="s0">.lines[start]</span><span class="s2">,</span>
                    <span class="s0">column: </span><span class="s1">this</span><span class="s0">.columns[start]</span>
                <span class="s0">}</span><span class="s2">,</span>
                <span class="s0">end: {</span>
                    <span class="s0">offset: </span><span class="s1">this</span><span class="s0">.startOffset + end</span><span class="s2">,</span>
                    <span class="s0">line: </span><span class="s1">this</span><span class="s0">.lines[end]</span><span class="s2">,</span>
                    <span class="s0">column: </span><span class="s1">this</span><span class="s0">.columns[end]</span>
                <span class="s0">}</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">OffsetToLocation_1 = OffsetToLocation</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$7 = tokenizer.TYPE</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">WHITESPACE$2 = TYPE$7.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMMENT$2 = TYPE$7.Comment</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">sequence = </span><span class="s1">function </span><span class="s0">readSequence(recognizer) {</span>
        <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">child = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">context = {</span>
            <span class="s0">recognizer: recognizer</span><span class="s2">,</span>
            <span class="s0">space: </span><span class="s1">null</span><span class="s2">,</span>
            <span class="s0">ignoreWS: </span><span class="s1">false</span><span class="s2">,</span>
            <span class="s0">ignoreWSAfter: </span><span class="s1">false</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
            <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
                <span class="s1">case </span><span class="s0">COMMENT$2:</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s1">continue</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">WHITESPACE$2:</span>
                    <span class="s1">if </span><span class="s0">(context.ignoreWS) {</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">context.space = </span><span class="s1">this</span><span class="s0">.WhiteSpace()</span><span class="s2">;</span>
                    <span class="s0">}</span>
                    <span class="s1">continue</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">child = recognizer.getNode.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">context)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(child === undefined) {</span>
                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(context.space !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s0">children.push(context.space)</span><span class="s2">;</span>
                <span class="s0">context.space = </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">children.push(child)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(context.ignoreWSAfter) {</span>
                <span class="s0">context.ignoreWSAfter = </span><span class="s1">false</span><span class="s2">;</span>
                <span class="s0">context.ignoreWS = </span><span class="s1">true</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">context.ignoreWS = </span><span class="s1">false</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">children</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">{ findWhiteSpaceStart: findWhiteSpaceStart$1</span><span class="s2">, </span><span class="s0">cmpStr: cmpStr$4 } = utils</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">noop$2 = </span><span class="s1">function</span><span class="s0">() {}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$8 = _const.TYPE</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NAME$2 = _const.NAME</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">WHITESPACE$3 = TYPE$8.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMMENT$3 = TYPE$8.Comment</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">IDENT$2 = TYPE$8.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">FUNCTION = TYPE$8.Function</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">URL = TYPE$8.Url</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">HASH = TYPE$8.Hash</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">PERCENTAGE = TYPE$8.Percentage</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NUMBER$2 = TYPE$8.Number</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NUMBERSIGN$1 = </span><span class="s5">0x0023</span><span class="s2">; </span><span class="s4">// U+0023 NUMBER SIGN (#)</span>
    <span class="s1">var </span><span class="s0">NULL = </span><span class="s5">0</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">createParseContext(name) {</span>
        <span class="s1">return function</span><span class="s0">() {</span>
            <span class="s1">return this</span><span class="s0">[name]()</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">processConfig(config) {</span>
        <span class="s1">var </span><span class="s0">parserConfig = {</span>
            <span class="s0">context: {}</span><span class="s2">,</span>
            <span class="s0">scope: {}</span><span class="s2">,</span>
            <span class="s0">atrule: {}</span><span class="s2">,</span>
            <span class="s0">pseudo: {}</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(config.parseContext) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">config.parseContext) {</span>
                <span class="s1">switch </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">config.parseContext[name]) {</span>
                    <span class="s1">case </span><span class="s3">'function'</span><span class="s0">:</span>
                        <span class="s0">parserConfig.context[name] = config.parseContext[name]</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s3">'string'</span><span class="s0">:</span>
                        <span class="s0">parserConfig.context[name] = createParseContext(config.parseContext[name])</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(config.scope) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">config.scope) {</span>
                <span class="s0">parserConfig.scope[name] = config.scope[name]</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(config.atrule) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">config.atrule) {</span>
                <span class="s1">var </span><span class="s0">atrule = config.atrule[name]</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(atrule.parse) {</span>
                    <span class="s0">parserConfig.atrule[name] = atrule.parse</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(config.pseudo) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">config.pseudo) {</span>
                <span class="s1">var </span><span class="s0">pseudo = config.pseudo[name]</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(pseudo.parse) {</span>
                    <span class="s0">parserConfig.pseudo[name] = pseudo.parse</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(config.node) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">config.node) {</span>
                <span class="s0">parserConfig[name] = config.node[name].parse</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">parserConfig</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">create = </span><span class="s1">function </span><span class="s0">createParser(config) {</span>
        <span class="s1">var </span><span class="s0">parser = {</span>
            <span class="s0">scanner: </span><span class="s1">new </span><span class="s0">TokenStream_1()</span><span class="s2">,</span>
            <span class="s0">locationMap: </span><span class="s1">new </span><span class="s0">OffsetToLocation_1()</span><span class="s2">,</span>

            <span class="s0">filename: </span><span class="s3">'&lt;unknown&gt;'</span><span class="s2">,</span>
            <span class="s0">needPositions: </span><span class="s1">false</span><span class="s2">,</span>
            <span class="s0">onParseError: noop$2</span><span class="s2">,</span>
            <span class="s0">onParseErrorThrow: </span><span class="s1">false</span><span class="s2">,</span>
            <span class="s0">parseAtrulePrelude: </span><span class="s1">true</span><span class="s2">,</span>
            <span class="s0">parseRulePrelude: </span><span class="s1">true</span><span class="s2">,</span>
            <span class="s0">parseValue: </span><span class="s1">true</span><span class="s2">,</span>
            <span class="s0">parseCustomProperty: </span><span class="s1">false</span><span class="s2">,</span>

            <span class="s0">readSequence: sequence</span><span class="s2">,</span>

            <span class="s0">createList: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">return new </span><span class="s0">List_1()</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">createSingleNodeList: </span><span class="s1">function</span><span class="s0">(node) {</span>
                <span class="s1">return new </span><span class="s0">List_1().appendData(node)</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">getFirstListNode: </span><span class="s1">function</span><span class="s0">(list) {</span>
                <span class="s1">return </span><span class="s0">list &amp;&amp; list.first()</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">getLastListNode: </span><span class="s1">function</span><span class="s0">(list) {</span>
                <span class="s1">return </span><span class="s0">list.last()</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>

            <span class="s0">parseWithFallback: </span><span class="s1">function</span><span class="s0">(consumer</span><span class="s2">, </span><span class="s0">fallback) {</span>
                <span class="s1">var </span><span class="s0">startToken = </span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">;</span>

                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">return </span><span class="s0">consumer.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">catch </span><span class="s0">(e) {</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.onParseErrorThrow) {</span>
                        <span class="s1">throw </span><span class="s0">e</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">var </span><span class="s0">fallbackNode = fallback.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">startToken)</span><span class="s2">;</span>

                    <span class="s1">this</span><span class="s0">.onParseErrorThrow = </span><span class="s1">true</span><span class="s2">;</span>
                    <span class="s1">this</span><span class="s0">.onParseError(e</span><span class="s2">, </span><span class="s0">fallbackNode)</span><span class="s2">;</span>
                    <span class="s1">this</span><span class="s0">.onParseErrorThrow = </span><span class="s1">false</span><span class="s2">;</span>

                    <span class="s1">return </span><span class="s0">fallbackNode</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span><span class="s2">,</span>

            <span class="s0">lookupNonWSType: </span><span class="s1">function</span><span class="s0">(offset) {</span>
                <span class="s1">do </span><span class="s0">{</span>
                    <span class="s1">var </span><span class="s0">type = </span><span class="s1">this</span><span class="s0">.scanner.lookupType(offset++)</span><span class="s2">;</span>
                    <span class="s1">if </span><span class="s0">(type !== WHITESPACE$3) {</span>
                        <span class="s1">return </span><span class="s0">type</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">while </span><span class="s0">(type !== NULL)</span><span class="s2">;</span>

                <span class="s1">return </span><span class="s0">NULL</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>

            <span class="s0">eat: </span><span class="s1">function</span><span class="s0">(tokenType) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType !== tokenType) {</span>
                    <span class="s1">var </span><span class="s0">offset = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
                    <span class="s1">var </span><span class="s0">message = NAME$2[tokenType] + </span><span class="s3">' is expected'</span><span class="s2">;</span>

                    <span class="s4">// tweak message and offset</span>
                    <span class="s1">switch </span><span class="s0">(tokenType) {</span>
                        <span class="s1">case </span><span class="s0">IDENT$2:</span>
                            <span class="s4">// when identifier is expected but there is a function or url</span>
                            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === FUNCTION || </span><span class="s1">this</span><span class="s0">.scanner.tokenType === URL) {</span>
                                <span class="s0">offset = </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd - </span><span class="s5">1</span><span class="s2">;</span>
                                <span class="s0">message = </span><span class="s3">'Identifier is expected but function found'</span><span class="s2">;</span>
                            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                                <span class="s0">message = </span><span class="s3">'Identifier is expected'</span><span class="s2">;</span>
                            <span class="s0">}</span>
                            <span class="s1">break</span><span class="s2">;</span>

                        <span class="s1">case </span><span class="s0">HASH:</span>
                            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(NUMBERSIGN$1)) {</span>
                                <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                                <span class="s0">offset++</span><span class="s2">;</span>
                                <span class="s0">message = </span><span class="s3">'Name is expected'</span><span class="s2">;</span>
                            <span class="s0">}</span>
                            <span class="s1">break</span><span class="s2">;</span>

                        <span class="s1">case </span><span class="s0">PERCENTAGE:</span>
                            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === NUMBER$2) {</span>
                                <span class="s0">offset = </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd</span><span class="s2">;</span>
                                <span class="s0">message = </span><span class="s3">'Percent sign is expected'</span><span class="s2">;</span>
                            <span class="s0">}</span>
                            <span class="s1">break</span><span class="s2">;</span>

                        <span class="s1">default</span><span class="s0">:</span>
                            <span class="s4">// when test type is part of another token show error for current position + 1</span>
                            <span class="s4">// e.g. eat(HYPHENMINUS) will fail on &quot;-foo&quot;, but pointing on &quot;-&quot; is odd</span>
                            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart) === tokenType) {</span>
                                <span class="s0">offset = offset + </span><span class="s5">1</span><span class="s2">;</span>
                            <span class="s0">}</span>
                    <span class="s0">}</span>

                    <span class="s1">this</span><span class="s0">.error(message</span><span class="s2">, </span><span class="s0">offset)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>

            <span class="s0">consume: </span><span class="s1">function</span><span class="s0">(tokenType) {</span>
                <span class="s1">var </span><span class="s0">value = </span><span class="s1">this</span><span class="s0">.scanner.getTokenValue()</span><span class="s2">;</span>

                <span class="s1">this</span><span class="s0">.eat(tokenType)</span><span class="s2">;</span>

                <span class="s1">return </span><span class="s0">value</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">consumeFunctionName: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">var </span><span class="s0">name = </span><span class="s1">this</span><span class="s0">.scanner.source.substring(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd - </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>

                <span class="s1">this</span><span class="s0">.eat(FUNCTION)</span><span class="s2">;</span>

                <span class="s1">return </span><span class="s0">name</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>

            <span class="s0">getLocation: </span><span class="s1">function</span><span class="s0">(start</span><span class="s2">, </span><span class="s0">end) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.needPositions) {</span>
                    <span class="s1">return this</span><span class="s0">.locationMap.getLocationRange(</span>
                        <span class="s0">start</span><span class="s2">,</span>
                        <span class="s0">end</span><span class="s2">,</span>
                        <span class="s1">this</span><span class="s0">.filename</span>
                    <span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">return null</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">getLocationFromList: </span><span class="s1">function</span><span class="s0">(list) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.needPositions) {</span>
                    <span class="s1">var </span><span class="s0">head = </span><span class="s1">this</span><span class="s0">.getFirstListNode(list)</span><span class="s2">;</span>
                    <span class="s1">var </span><span class="s0">tail = </span><span class="s1">this</span><span class="s0">.getLastListNode(list)</span><span class="s2">;</span>
                    <span class="s1">return this</span><span class="s0">.locationMap.getLocationRange(</span>
                        <span class="s0">head !== </span><span class="s1">null </span><span class="s0">? head.loc.start.offset - </span><span class="s1">this</span><span class="s0">.locationMap.startOffset : </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">,</span>
                        <span class="s0">tail !== </span><span class="s1">null </span><span class="s0">? tail.loc.end.offset - </span><span class="s1">this</span><span class="s0">.locationMap.startOffset : </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">,</span>
                        <span class="s1">this</span><span class="s0">.filename</span>
                    <span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">return null</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>

            <span class="s0">error: </span><span class="s1">function</span><span class="s0">(message</span><span class="s2">, </span><span class="s0">offset) {</span>
                <span class="s1">var </span><span class="s0">location = </span><span class="s1">typeof </span><span class="s0">offset !== </span><span class="s3">'undefined' </span><span class="s0">&amp;&amp; offset &lt; </span><span class="s1">this</span><span class="s0">.scanner.source.length</span>
                    <span class="s0">? </span><span class="s1">this</span><span class="s0">.locationMap.getLocation(offset)</span>
                    <span class="s0">: </span><span class="s1">this</span><span class="s0">.scanner.eof</span>
                        <span class="s0">? </span><span class="s1">this</span><span class="s0">.locationMap.getLocation(findWhiteSpaceStart$1(</span><span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.source.length - </span><span class="s5">1</span><span class="s0">))</span>
                        <span class="s0">: </span><span class="s1">this</span><span class="s0">.locationMap.getLocation(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">;</span>

                <span class="s1">throw new </span><span class="s0">_SyntaxError(</span>
                    <span class="s0">message || </span><span class="s3">'Unexpected input'</span><span class="s2">,</span>
                    <span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">,</span>
                    <span class="s0">location.offset</span><span class="s2">,</span>
                    <span class="s0">location.line</span><span class="s2">,</span>
                    <span class="s0">location.column</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s0">config = processConfig(config || {})</span><span class="s2">;</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">key </span><span class="s1">in </span><span class="s0">config) {</span>
            <span class="s0">parser[key] = config[key]</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return function</span><span class="s0">(source</span><span class="s2">, </span><span class="s0">options) {</span>
            <span class="s0">options = options || {}</span><span class="s2">;</span>

            <span class="s1">var </span><span class="s0">context = options.context || </span><span class="s3">'default'</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">onComment = options.onComment</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">ast</span><span class="s2">;</span>

            <span class="s0">tokenizer(source</span><span class="s2">, </span><span class="s0">parser.scanner)</span><span class="s2">;</span>
            <span class="s0">parser.locationMap.setSource(</span>
                <span class="s0">source</span><span class="s2">,</span>
                <span class="s0">options.offset</span><span class="s2">,</span>
                <span class="s0">options.line</span><span class="s2">,</span>
                <span class="s0">options.column</span>
            <span class="s0">)</span><span class="s2">;</span>

            <span class="s0">parser.filename = options.filename || </span><span class="s3">'&lt;unknown&gt;'</span><span class="s2">;</span>
            <span class="s0">parser.needPositions = Boolean(options.positions)</span><span class="s2">;</span>
            <span class="s0">parser.onParseError = </span><span class="s1">typeof </span><span class="s0">options.onParseError === </span><span class="s3">'function' </span><span class="s0">? options.onParseError : noop$2</span><span class="s2">;</span>
            <span class="s0">parser.onParseErrorThrow = </span><span class="s1">false</span><span class="s2">;</span>
            <span class="s0">parser.parseAtrulePrelude = </span><span class="s3">'parseAtrulePrelude' </span><span class="s1">in </span><span class="s0">options ? Boolean(options.parseAtrulePrelude) : </span><span class="s1">true</span><span class="s2">;</span>
            <span class="s0">parser.parseRulePrelude = </span><span class="s3">'parseRulePrelude' </span><span class="s1">in </span><span class="s0">options ? Boolean(options.parseRulePrelude) : </span><span class="s1">true</span><span class="s2">;</span>
            <span class="s0">parser.parseValue = </span><span class="s3">'parseValue' </span><span class="s1">in </span><span class="s0">options ? Boolean(options.parseValue) : </span><span class="s1">true</span><span class="s2">;</span>
            <span class="s0">parser.parseCustomProperty = </span><span class="s3">'parseCustomProperty' </span><span class="s1">in </span><span class="s0">options ? Boolean(options.parseCustomProperty) : </span><span class="s1">false</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(!parser.context.hasOwnProperty(context)) {</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Unknown context `' </span><span class="s0">+ context + </span><span class="s3">'`'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">onComment === </span><span class="s3">'function'</span><span class="s0">) {</span>
                <span class="s0">parser.scanner.forEachToken((type</span><span class="s2">, </span><span class="s0">start</span><span class="s2">, </span><span class="s0">end) =&gt; {</span>
                    <span class="s1">if </span><span class="s0">(type === COMMENT$3) {</span>
                        <span class="s1">const </span><span class="s0">loc = parser.getLocation(start</span><span class="s2">, </span><span class="s0">end)</span><span class="s2">;</span>
                        <span class="s1">const </span><span class="s0">value = cmpStr$4(source</span><span class="s2">, </span><span class="s0">end - </span><span class="s5">2</span><span class="s2">, </span><span class="s0">end</span><span class="s2">, </span><span class="s3">'*/'</span><span class="s0">)</span>
                            <span class="s0">? source.slice(start + </span><span class="s5">2</span><span class="s2">, </span><span class="s0">end - </span><span class="s5">2</span><span class="s0">)</span>
                            <span class="s0">: source.slice(start + </span><span class="s5">2</span><span class="s2">, </span><span class="s0">end)</span><span class="s2">;</span>

                        <span class="s0">onComment(value</span><span class="s2">, </span><span class="s0">loc)</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">})</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">ast = parser.context[context].call(parser</span><span class="s2">, </span><span class="s0">options)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(!parser.scanner.eof) {</span>
                <span class="s0">parser.error()</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">ast</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s6">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
    <span class="s6">/* 
     * Copyright 2011 Mozilla Foundation and contributors 
     * Licensed under the New BSD license. See LICENSE or: 
     * http://opensource.org/licenses/BSD-3-Clause 
     */</span>

    <span class="s1">var </span><span class="s0">intToCharMap = </span><span class="s3">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'</span><span class="s0">.split(</span><span class="s3">''</span><span class="s0">)</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Encode an integer in the range of 0 to 63 to a single base 64 digit.</span>
     <span class="s7">*/</span>
    <span class="s1">var </span><span class="s0">encode = </span><span class="s1">function </span><span class="s0">(number) {</span>
      <span class="s1">if </span><span class="s0">(</span><span class="s5">0 </span><span class="s0">&lt;= number &amp;&amp; number &lt; intToCharMap.length) {</span>
        <span class="s1">return </span><span class="s0">intToCharMap[number]</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s3">&quot;Must be between 0 and 63: &quot; </span><span class="s0">+ number)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Decode a single base 64 character code digit to an integer. Returns -1 on</span>
     <span class="s7">* failure.</span>
     <span class="s7">*/</span>
    <span class="s1">var </span><span class="s0">decode = </span><span class="s1">function </span><span class="s0">(charCode) {</span>
      <span class="s1">var </span><span class="s0">bigA = </span><span class="s5">65</span><span class="s2">;     </span><span class="s4">// 'A'</span>
      <span class="s1">var </span><span class="s0">bigZ = </span><span class="s5">90</span><span class="s2">;     </span><span class="s4">// 'Z'</span>

      <span class="s1">var </span><span class="s0">littleA = </span><span class="s5">97</span><span class="s2">;  </span><span class="s4">// 'a'</span>
      <span class="s1">var </span><span class="s0">littleZ = </span><span class="s5">122</span><span class="s2">; </span><span class="s4">// 'z'</span>

      <span class="s1">var </span><span class="s0">zero = </span><span class="s5">48</span><span class="s2">;     </span><span class="s4">// '0'</span>
      <span class="s1">var </span><span class="s0">nine = </span><span class="s5">57</span><span class="s2">;     </span><span class="s4">// '9'</span>

      <span class="s1">var </span><span class="s0">plus = </span><span class="s5">43</span><span class="s2">;     </span><span class="s4">// '+'</span>
      <span class="s1">var </span><span class="s0">slash = </span><span class="s5">47</span><span class="s2">;    </span><span class="s4">// '/'</span>

      <span class="s1">var </span><span class="s0">littleOffset = </span><span class="s5">26</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">numberOffset = </span><span class="s5">52</span><span class="s2">;</span>

      <span class="s4">// 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ</span>
      <span class="s1">if </span><span class="s0">(bigA &lt;= charCode &amp;&amp; charCode &lt;= bigZ) {</span>
        <span class="s1">return </span><span class="s0">(charCode - bigA)</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s4">// 26 - 51: abcdefghijklmnopqrstuvwxyz</span>
      <span class="s1">if </span><span class="s0">(littleA &lt;= charCode &amp;&amp; charCode &lt;= littleZ) {</span>
        <span class="s1">return </span><span class="s0">(charCode - littleA + littleOffset)</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s4">// 52 - 61: 0123456789</span>
      <span class="s1">if </span><span class="s0">(zero &lt;= charCode &amp;&amp; charCode &lt;= nine) {</span>
        <span class="s1">return </span><span class="s0">(charCode - zero + numberOffset)</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s4">// 62: +</span>
      <span class="s1">if </span><span class="s0">(charCode == plus) {</span>
        <span class="s1">return </span><span class="s5">62</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s4">// 63: /</span>
      <span class="s1">if </span><span class="s0">(charCode == slash) {</span>
        <span class="s1">return </span><span class="s5">63</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s4">// Invalid base64 digit.</span>
      <span class="s1">return </span><span class="s0">-</span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">base64 = {</span>
    	<span class="s0">encode: encode</span><span class="s2">,</span>
    	<span class="s0">decode: decode</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s6">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
    <span class="s6">/* 
     * Copyright 2011 Mozilla Foundation and contributors 
     * Licensed under the New BSD license. See LICENSE or: 
     * http://opensource.org/licenses/BSD-3-Clause 
     * 
     * Based on the Base 64 VLQ implementation in Closure Compiler: 
     * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java 
     * 
     * Copyright 2011 The Closure Compiler Authors. All rights reserved. 
     * Redistribution and use in source and binary forms, with or without 
     * modification, are permitted provided that the following conditions are 
     * met: 
     * 
     *  * Redistributions of source code must retain the above copyright 
     *    notice, this list of conditions and the following disclaimer. 
     *  * Redistributions in binary form must reproduce the above 
     *    copyright notice, this list of conditions and the following 
     *    disclaimer in the documentation and/or other materials provided 
     *    with the distribution. 
     *  * Neither the name of Google Inc. nor the names of its 
     *    contributors may be used to endorse or promote products derived 
     *    from this software without specific prior written permission. 
     * 
     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 
     * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT 
     * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR 
     * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT 
     * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
     * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT 
     * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, 
     * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY 
     * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT 
     * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE 
     * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. 
     */</span>



    <span class="s4">// A single base 64 digit can contain 6 bits of data. For the base 64 variable</span>
    <span class="s4">// length quantities we use in the source map spec, the first bit is the sign,</span>
    <span class="s4">// the next four bits are the actual value, and the 6th bit is the</span>
    <span class="s4">// continuation bit. The continuation bit tells us whether there are more</span>
    <span class="s4">// digits in this value following this digit.</span>
    <span class="s4">//</span>
    <span class="s4">//   Continuation</span>
    <span class="s4">//   |    Sign</span>
    <span class="s4">//   |    |</span>
    <span class="s4">//   V    V</span>
    <span class="s4">//   101011</span>

    <span class="s1">var </span><span class="s0">VLQ_BASE_SHIFT = </span><span class="s5">5</span><span class="s2">;</span>

    <span class="s4">// binary: 100000</span>
    <span class="s1">var </span><span class="s0">VLQ_BASE = </span><span class="s5">1 </span><span class="s0">&lt;&lt; VLQ_BASE_SHIFT</span><span class="s2">;</span>

    <span class="s4">// binary: 011111</span>
    <span class="s1">var </span><span class="s0">VLQ_BASE_MASK = VLQ_BASE - </span><span class="s5">1</span><span class="s2">;</span>

    <span class="s4">// binary: 100000</span>
    <span class="s1">var </span><span class="s0">VLQ_CONTINUATION_BIT = VLQ_BASE</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Converts from a two-complement value to a value where the sign bit is</span>
     <span class="s7">* placed in the least significant bit.  For example, as decimals:</span>
     <span class="s7">*   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)</span>
     <span class="s7">*   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">toVLQSigned(aValue) {</span>
      <span class="s1">return </span><span class="s0">aValue &lt; </span><span class="s5">0</span>
        <span class="s0">? ((-aValue) &lt;&lt; </span><span class="s5">1</span><span class="s0">) + </span><span class="s5">1</span>
        <span class="s0">: (aValue &lt;&lt; </span><span class="s5">1</span><span class="s0">) + </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s7">/**</span>
     <span class="s7">* Converts to a two-complement value from a value where the sign bit is</span>
     <span class="s7">* placed in the least significant bit.  For example, as decimals:</span>
     <span class="s7">*   2 (10 binary) becomes 1, 3 (11 binary) becomes -1</span>
     <span class="s7">*   4 (100 binary) becomes 2, 5 (101 binary) becomes -2</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">fromVLQSigned(aValue) {</span>
      <span class="s1">var </span><span class="s0">isNegative = (aValue &amp; </span><span class="s5">1</span><span class="s0">) === </span><span class="s5">1</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">shifted = aValue &gt;&gt; </span><span class="s5">1</span><span class="s2">;</span>
      <span class="s1">return </span><span class="s0">isNegative</span>
        <span class="s0">? -shifted</span>
        <span class="s0">: shifted</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s7">/**</span>
     <span class="s7">* Returns the base 64 VLQ encoded value.</span>
     <span class="s7">*/</span>
    <span class="s1">var </span><span class="s0">encode$1 = </span><span class="s1">function </span><span class="s0">base64VLQ_encode(aValue) {</span>
      <span class="s1">var </span><span class="s0">encoded = </span><span class="s3">&quot;&quot;</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">digit</span><span class="s2">;</span>

      <span class="s1">var </span><span class="s0">vlq = toVLQSigned(aValue)</span><span class="s2">;</span>

      <span class="s1">do </span><span class="s0">{</span>
        <span class="s0">digit = vlq &amp; VLQ_BASE_MASK</span><span class="s2">;</span>
        <span class="s0">vlq &gt;&gt;&gt;= VLQ_BASE_SHIFT</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(vlq &gt; </span><span class="s5">0</span><span class="s0">) {</span>
          <span class="s4">// There are still more digits in this value, so we must make sure the</span>
          <span class="s4">// continuation bit is marked.</span>
          <span class="s0">digit |= VLQ_CONTINUATION_BIT</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s0">encoded += base64.encode(digit)</span><span class="s2">;</span>
      <span class="s0">} </span><span class="s1">while </span><span class="s0">(vlq &gt; </span><span class="s5">0</span><span class="s0">)</span><span class="s2">;</span>

      <span class="s1">return </span><span class="s0">encoded</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Decodes the next base 64 VLQ value from the given string and returns the</span>
     <span class="s7">* value and the rest of the string via the out parameter.</span>
     <span class="s7">*/</span>
    <span class="s1">var </span><span class="s0">decode$1 = </span><span class="s1">function </span><span class="s0">base64VLQ_decode(aStr</span><span class="s2">, </span><span class="s0">aIndex</span><span class="s2">, </span><span class="s0">aOutParam) {</span>
      <span class="s1">var </span><span class="s0">strLen = aStr.length</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">result = </span><span class="s5">0</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">shift = </span><span class="s5">0</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">continuation</span><span class="s2">, </span><span class="s0">digit</span><span class="s2">;</span>

      <span class="s1">do </span><span class="s0">{</span>
        <span class="s1">if </span><span class="s0">(aIndex &gt;= strLen) {</span>
          <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">&quot;Expected more digits in base 64 VLQ value.&quot;</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">digit = base64.decode(aStr.charCodeAt(aIndex++))</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(digit === -</span><span class="s5">1</span><span class="s0">) {</span>
          <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">&quot;Invalid base64 digit: &quot; </span><span class="s0">+ aStr.charAt(aIndex - </span><span class="s5">1</span><span class="s0">))</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">continuation = !!(digit &amp; VLQ_CONTINUATION_BIT)</span><span class="s2">;</span>
        <span class="s0">digit &amp;= VLQ_BASE_MASK</span><span class="s2">;</span>
        <span class="s0">result = result + (digit &lt;&lt; shift)</span><span class="s2">;</span>
        <span class="s0">shift += VLQ_BASE_SHIFT</span><span class="s2">;</span>
      <span class="s0">} </span><span class="s1">while </span><span class="s0">(continuation)</span><span class="s2">;</span>

      <span class="s0">aOutParam.value = fromVLQSigned(result)</span><span class="s2">;</span>
      <span class="s0">aOutParam.rest = aIndex</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">base64Vlq = {</span>
    	<span class="s0">encode: encode$1</span><span class="s2">,</span>
    	<span class="s0">decode: decode$1</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">createCommonjsModule(fn</span><span class="s2">, </span><span class="s0">module) {</span>
    	<span class="s1">return </span><span class="s0">module = { exports: {} }</span><span class="s2">, </span><span class="s0">fn(module</span><span class="s2">, </span><span class="s0">module.exports)</span><span class="s2">, </span><span class="s0">module.exports</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">getCjsExportFromNamespace (n) {</span>
    	<span class="s1">return </span><span class="s0">n &amp;&amp; n[</span><span class="s3">'default'</span><span class="s0">] || n</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">util = createCommonjsModule(</span><span class="s1">function </span><span class="s0">(module</span><span class="s2">, </span><span class="s0">exports) {</span>
    <span class="s6">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
    <span class="s6">/* 
     * Copyright 2011 Mozilla Foundation and contributors 
     * Licensed under the New BSD license. See LICENSE or: 
     * http://opensource.org/licenses/BSD-3-Clause 
     */</span>

    <span class="s7">/**</span>
     <span class="s7">* This is a helper function for getting values from parameter/options</span>
     <span class="s7">* objects.</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">args The object we are extracting values from</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">name The name of the property we are getting.</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">defaultValue An optional value to return if the property is missing</span>
     <span class="s7">* from the object. If this is not specified and the property is missing, an</span>
     <span class="s7">* error will be thrown.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">getArg(aArgs</span><span class="s2">, </span><span class="s0">aName</span><span class="s2">, </span><span class="s0">aDefaultValue) {</span>
      <span class="s1">if </span><span class="s0">(aName </span><span class="s1">in </span><span class="s0">aArgs) {</span>
        <span class="s1">return </span><span class="s0">aArgs[aName]</span><span class="s2">;</span>
      <span class="s0">} </span><span class="s1">else if </span><span class="s0">(arguments.length === </span><span class="s5">3</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">aDefaultValue</span><span class="s2">;</span>
      <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
        <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'&quot;' </span><span class="s0">+ aName + </span><span class="s3">'&quot; is a required argument.'</span><span class="s0">)</span><span class="s2">;</span>
      <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s0">exports.getArg = getArg</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">urlRegexp = </span><span class="s5">/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">dataUrlRegexp = </span><span class="s5">/^data:.+\,.+$/</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">urlParse(aUrl) {</span>
      <span class="s1">var </span><span class="s0">match = aUrl.match(urlRegexp)</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(!match) {</span>
        <span class="s1">return null</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">return </span><span class="s0">{</span>
        <span class="s0">scheme: match[</span><span class="s5">1</span><span class="s0">]</span><span class="s2">,</span>
        <span class="s0">auth: match[</span><span class="s5">2</span><span class="s0">]</span><span class="s2">,</span>
        <span class="s0">host: match[</span><span class="s5">3</span><span class="s0">]</span><span class="s2">,</span>
        <span class="s0">port: match[</span><span class="s5">4</span><span class="s0">]</span><span class="s2">,</span>
        <span class="s0">path: match[</span><span class="s5">5</span><span class="s0">]</span>
      <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.urlParse = urlParse</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">urlGenerate(aParsedUrl) {</span>
      <span class="s1">var </span><span class="s0">url = </span><span class="s3">''</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(aParsedUrl.scheme) {</span>
        <span class="s0">url += aParsedUrl.scheme + </span><span class="s3">':'</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s0">url += </span><span class="s3">'//'</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(aParsedUrl.auth) {</span>
        <span class="s0">url += aParsedUrl.auth + </span><span class="s3">'@'</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">if </span><span class="s0">(aParsedUrl.host) {</span>
        <span class="s0">url += aParsedUrl.host</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">if </span><span class="s0">(aParsedUrl.port) {</span>
        <span class="s0">url += </span><span class="s3">&quot;:&quot; </span><span class="s0">+ aParsedUrl.port</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">if </span><span class="s0">(aParsedUrl.path) {</span>
        <span class="s0">url += aParsedUrl.path</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">return </span><span class="s0">url</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.urlGenerate = urlGenerate</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Normalizes a path, or the path portion of a URL:</span>
     <span class="s7">*</span>
     <span class="s7">* - Replaces consecutive slashes with one slash.</span>
     <span class="s7">* - Removes unnecessary '.' parts.</span>
     <span class="s7">* - Removes unnecessary '&lt;dir&gt;/..' parts.</span>
     <span class="s7">*</span>
     <span class="s7">* Based on code in the Node.js 'path' core module.</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">aPath The path or url to normalize.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">normalize(aPath) {</span>
      <span class="s1">var </span><span class="s0">path = aPath</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">url = urlParse(aPath)</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(url) {</span>
        <span class="s1">if </span><span class="s0">(!url.path) {</span>
          <span class="s1">return </span><span class="s0">aPath</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s0">path = url.path</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">var </span><span class="s0">isAbsolute = exports.isAbsolute(path)</span><span class="s2">;</span>

      <span class="s1">var </span><span class="s0">parts = path.split(</span><span class="s5">/\/+/</span><span class="s0">)</span><span class="s2">;</span>
      <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">part</span><span class="s2">, </span><span class="s0">up = </span><span class="s5">0</span><span class="s2">, </span><span class="s0">i = parts.length - </span><span class="s5">1</span><span class="s2">; </span><span class="s0">i &gt;= </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i--) {</span>
        <span class="s0">part = parts[i]</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(part === </span><span class="s3">'.'</span><span class="s0">) {</span>
          <span class="s0">parts.splice(i</span><span class="s2">, </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(part === </span><span class="s3">'..'</span><span class="s0">) {</span>
          <span class="s0">up++</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(up &gt; </span><span class="s5">0</span><span class="s0">) {</span>
          <span class="s1">if </span><span class="s0">(part === </span><span class="s3">''</span><span class="s0">) {</span>
            <span class="s4">// The first part is blank if the path is absolute. Trying to go</span>
            <span class="s4">// above the root is a no-op. Therefore we can remove all '..' parts</span>
            <span class="s4">// directly after the root.</span>
            <span class="s0">parts.splice(i + </span><span class="s5">1</span><span class="s2">, </span><span class="s0">up)</span><span class="s2">;</span>
            <span class="s0">up = </span><span class="s5">0</span><span class="s2">;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">parts.splice(i</span><span class="s2">, </span><span class="s5">2</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">up--</span><span class="s2">;</span>
          <span class="s0">}</span>
        <span class="s0">}</span>
      <span class="s0">}</span>
      <span class="s0">path = parts.join(</span><span class="s3">'/'</span><span class="s0">)</span><span class="s2">;</span>

      <span class="s1">if </span><span class="s0">(path === </span><span class="s3">''</span><span class="s0">) {</span>
        <span class="s0">path = isAbsolute ? </span><span class="s3">'/' </span><span class="s0">: </span><span class="s3">'.'</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">if </span><span class="s0">(url) {</span>
        <span class="s0">url.path = path</span><span class="s2">;</span>
        <span class="s1">return </span><span class="s0">urlGenerate(url)</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">return </span><span class="s0">path</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.normalize = normalize</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Joins two paths/URLs.</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">aRoot The root path or URL.</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">aPath The path or URL to be joined with the root.</span>
     <span class="s7">*</span>
     <span class="s7">* - If aPath is a URL or a data URI, aPath is returned, unless aPath is a</span>
     <span class="s7">*   scheme-relative URL: Then the scheme of aRoot, if any, is prepended</span>
     <span class="s7">*   first.</span>
     <span class="s7">* - Otherwise aPath is a path. If aRoot is a URL, then its path portion</span>
     <span class="s7">*   is updated with the result and aRoot is returned. Otherwise the result</span>
     <span class="s7">*   is returned.</span>
     <span class="s7">*   - If aPath is absolute, the result is aPath.</span>
     <span class="s7">*   - Otherwise the two paths are joined with a slash.</span>
     <span class="s7">* - Joining for example 'http://' and 'www.example.com' is also supported.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">join(aRoot</span><span class="s2">, </span><span class="s0">aPath) {</span>
      <span class="s1">if </span><span class="s0">(aRoot === </span><span class="s3">&quot;&quot;</span><span class="s0">) {</span>
        <span class="s0">aRoot = </span><span class="s3">&quot;.&quot;</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">if </span><span class="s0">(aPath === </span><span class="s3">&quot;&quot;</span><span class="s0">) {</span>
        <span class="s0">aPath = </span><span class="s3">&quot;.&quot;</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">var </span><span class="s0">aPathUrl = urlParse(aPath)</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">aRootUrl = urlParse(aRoot)</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(aRootUrl) {</span>
        <span class="s0">aRoot = aRootUrl.path || </span><span class="s3">'/'</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s4">// `join(foo, '//www.example.org')`</span>
      <span class="s1">if </span><span class="s0">(aPathUrl &amp;&amp; !aPathUrl.scheme) {</span>
        <span class="s1">if </span><span class="s0">(aRootUrl) {</span>
          <span class="s0">aPathUrl.scheme = aRootUrl.scheme</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s0">urlGenerate(aPathUrl)</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">if </span><span class="s0">(aPathUrl || aPath.match(dataUrlRegexp)) {</span>
        <span class="s1">return </span><span class="s0">aPath</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s4">// `join('http://', 'www.example.com')`</span>
      <span class="s1">if </span><span class="s0">(aRootUrl &amp;&amp; !aRootUrl.host &amp;&amp; !aRootUrl.path) {</span>
        <span class="s0">aRootUrl.host = aPath</span><span class="s2">;</span>
        <span class="s1">return </span><span class="s0">urlGenerate(aRootUrl)</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">var </span><span class="s0">joined = aPath.charAt(</span><span class="s5">0</span><span class="s0">) === </span><span class="s3">'/'</span>
        <span class="s0">? aPath</span>
        <span class="s0">: normalize(aRoot.replace(</span><span class="s5">/\/+$/</span><span class="s2">, </span><span class="s3">''</span><span class="s0">) + </span><span class="s3">'/' </span><span class="s0">+ aPath)</span><span class="s2">;</span>

      <span class="s1">if </span><span class="s0">(aRootUrl) {</span>
        <span class="s0">aRootUrl.path = joined</span><span class="s2">;</span>
        <span class="s1">return </span><span class="s0">urlGenerate(aRootUrl)</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">return </span><span class="s0">joined</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.join = join</span><span class="s2">;</span>

    <span class="s0">exports.isAbsolute = </span><span class="s1">function </span><span class="s0">(aPath) {</span>
      <span class="s1">return </span><span class="s0">aPath.charAt(</span><span class="s5">0</span><span class="s0">) === </span><span class="s3">'/' </span><span class="s0">|| urlRegexp.test(aPath)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Make a path relative to a URL or another path.</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">aRoot The root path or URL.</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">aPath The path or URL to be made relative to aRoot.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">relative(aRoot</span><span class="s2">, </span><span class="s0">aPath) {</span>
      <span class="s1">if </span><span class="s0">(aRoot === </span><span class="s3">&quot;&quot;</span><span class="s0">) {</span>
        <span class="s0">aRoot = </span><span class="s3">&quot;.&quot;</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">aRoot = aRoot.replace(</span><span class="s5">/\/$/</span><span class="s2">, </span><span class="s3">''</span><span class="s0">)</span><span class="s2">;</span>

      <span class="s4">// It is possible for the path to be above the root. In this case, simply</span>
      <span class="s4">// checking whether the root is a prefix of the path won't work. Instead, we</span>
      <span class="s4">// need to remove components from the root one by one, until either we find</span>
      <span class="s4">// a prefix that fits, or we run out of components to remove.</span>
      <span class="s1">var </span><span class="s0">level = </span><span class="s5">0</span><span class="s2">;</span>
      <span class="s1">while </span><span class="s0">(aPath.indexOf(aRoot + </span><span class="s3">'/'</span><span class="s0">) !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s0">index = aRoot.lastIndexOf(</span><span class="s3">&quot;/&quot;</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(index &lt; </span><span class="s5">0</span><span class="s0">) {</span>
          <span class="s1">return </span><span class="s0">aPath</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// If the only part of the root that is left is the scheme (i.e. http://,</span>
        <span class="s4">// file:///, etc.), one or more slashes (/), or simply nothing at all, we</span>
        <span class="s4">// have exhausted all components, so the path is not relative to the root.</span>
        <span class="s0">aRoot = aRoot.slice(</span><span class="s5">0</span><span class="s2">, </span><span class="s0">index)</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(aRoot.match(</span><span class="s5">/^([^\/]+:\/)?\/*$/</span><span class="s0">)) {</span>
          <span class="s1">return </span><span class="s0">aPath</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s0">++level</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s4">// Make sure we add a &quot;../&quot; for each component we removed from the root.</span>
      <span class="s1">return </span><span class="s0">Array(level + </span><span class="s5">1</span><span class="s0">).join(</span><span class="s3">&quot;../&quot;</span><span class="s0">) + aPath.substr(aRoot.length + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.relative = relative</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">supportsNullProto = (</span><span class="s1">function </span><span class="s0">() {</span>
      <span class="s1">var </span><span class="s0">obj = Object.create(</span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
      <span class="s1">return </span><span class="s0">!(</span><span class="s3">'__proto__' </span><span class="s1">in </span><span class="s0">obj)</span><span class="s2">;</span>
    <span class="s0">}())</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">identity (s) {</span>
      <span class="s1">return </span><span class="s0">s</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s7">/**</span>
     <span class="s7">* Because behavior goes wacky when you set `__proto__` on objects, we</span>
     <span class="s7">* have to prefix all the strings in our set with an arbitrary character.</span>
     <span class="s7">*</span>
     <span class="s7">* See https://github.com/mozilla/source-map/pull/31 and</span>
     <span class="s7">* https://github.com/mozilla/source-map/issues/30</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">String aStr</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">toSetString(aStr) {</span>
      <span class="s1">if </span><span class="s0">(isProtoString(aStr)) {</span>
        <span class="s1">return </span><span class="s3">'$' </span><span class="s0">+ aStr</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">return </span><span class="s0">aStr</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.toSetString = supportsNullProto ? identity : toSetString</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">fromSetString(aStr) {</span>
      <span class="s1">if </span><span class="s0">(isProtoString(aStr)) {</span>
        <span class="s1">return </span><span class="s0">aStr.slice(</span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">return </span><span class="s0">aStr</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.fromSetString = supportsNullProto ? identity : fromSetString</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">isProtoString(s) {</span>
      <span class="s1">if </span><span class="s0">(!s) {</span>
        <span class="s1">return false</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">var </span><span class="s0">length = s.length</span><span class="s2">;</span>

      <span class="s1">if </span><span class="s0">(length &lt; </span><span class="s5">9 </span><span class="s6">/* &quot;__proto__&quot;.length */</span><span class="s0">) {</span>
        <span class="s1">return false</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">if </span><span class="s0">(s.charCodeAt(length - </span><span class="s5">1</span><span class="s0">) !== </span><span class="s5">95  </span><span class="s6">/* '_' */ </span><span class="s0">||</span>
          <span class="s0">s.charCodeAt(length - </span><span class="s5">2</span><span class="s0">) !== </span><span class="s5">95  </span><span class="s6">/* '_' */ </span><span class="s0">||</span>
          <span class="s0">s.charCodeAt(length - </span><span class="s5">3</span><span class="s0">) !== </span><span class="s5">111 </span><span class="s6">/* 'o' */ </span><span class="s0">||</span>
          <span class="s0">s.charCodeAt(length - </span><span class="s5">4</span><span class="s0">) !== </span><span class="s5">116 </span><span class="s6">/* 't' */ </span><span class="s0">||</span>
          <span class="s0">s.charCodeAt(length - </span><span class="s5">5</span><span class="s0">) !== </span><span class="s5">111 </span><span class="s6">/* 'o' */ </span><span class="s0">||</span>
          <span class="s0">s.charCodeAt(length - </span><span class="s5">6</span><span class="s0">) !== </span><span class="s5">114 </span><span class="s6">/* 'r' */ </span><span class="s0">||</span>
          <span class="s0">s.charCodeAt(length - </span><span class="s5">7</span><span class="s0">) !== </span><span class="s5">112 </span><span class="s6">/* 'p' */ </span><span class="s0">||</span>
          <span class="s0">s.charCodeAt(length - </span><span class="s5">8</span><span class="s0">) !== </span><span class="s5">95  </span><span class="s6">/* '_' */ </span><span class="s0">||</span>
          <span class="s0">s.charCodeAt(length - </span><span class="s5">9</span><span class="s0">) !== </span><span class="s5">95  </span><span class="s6">/* '_' */</span><span class="s0">) {</span>
        <span class="s1">return false</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = length - </span><span class="s5">10</span><span class="s2">; </span><span class="s0">i &gt;= </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i--) {</span>
        <span class="s1">if </span><span class="s0">(s.charCodeAt(i) !== </span><span class="s5">36 </span><span class="s6">/* '$' */</span><span class="s0">) {</span>
          <span class="s1">return false</span><span class="s2">;</span>
        <span class="s0">}</span>
      <span class="s0">}</span>

      <span class="s1">return true</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s7">/**</span>
     <span class="s7">* Comparator between two mappings where the original positions are compared.</span>
     <span class="s7">*</span>
     <span class="s7">* Optionally pass in `true` as `onlyCompareGenerated` to consider two</span>
     <span class="s7">* mappings with the same original source/line/column, but different generated</span>
     <span class="s7">* line and column the same. Useful when searching for a mapping with a</span>
     <span class="s7">* stubbed out mapping.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">compareByOriginalPositions(mappingA</span><span class="s2">, </span><span class="s0">mappingB</span><span class="s2">, </span><span class="s0">onlyCompareOriginal) {</span>
      <span class="s1">var </span><span class="s0">cmp = strcmp(mappingA.source</span><span class="s2">, </span><span class="s0">mappingB.source)</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = mappingA.originalLine - mappingB.originalLine</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = mappingA.originalColumn - mappingB.originalColumn</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0 </span><span class="s0">|| onlyCompareOriginal) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = mappingA.generatedColumn - mappingB.generatedColumn</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = mappingA.generatedLine - mappingB.generatedLine</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">return </span><span class="s0">strcmp(mappingA.name</span><span class="s2">, </span><span class="s0">mappingB.name)</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.compareByOriginalPositions = compareByOriginalPositions</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Comparator between two mappings with deflated source and name indices where</span>
     <span class="s7">* the generated positions are compared.</span>
     <span class="s7">*</span>
     <span class="s7">* Optionally pass in `true` as `onlyCompareGenerated` to consider two</span>
     <span class="s7">* mappings with the same generated line and column, but different</span>
     <span class="s7">* source/name/original line and column the same. Useful when searching for a</span>
     <span class="s7">* mapping with a stubbed out mapping.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">compareByGeneratedPositionsDeflated(mappingA</span><span class="s2">, </span><span class="s0">mappingB</span><span class="s2">, </span><span class="s0">onlyCompareGenerated) {</span>
      <span class="s1">var </span><span class="s0">cmp = mappingA.generatedLine - mappingB.generatedLine</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = mappingA.generatedColumn - mappingB.generatedColumn</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0 </span><span class="s0">|| onlyCompareGenerated) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = strcmp(mappingA.source</span><span class="s2">, </span><span class="s0">mappingB.source)</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = mappingA.originalLine - mappingB.originalLine</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = mappingA.originalColumn - mappingB.originalColumn</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">return </span><span class="s0">strcmp(mappingA.name</span><span class="s2">, </span><span class="s0">mappingB.name)</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">strcmp(aStr1</span><span class="s2">, </span><span class="s0">aStr2) {</span>
      <span class="s1">if </span><span class="s0">(aStr1 === aStr2) {</span>
        <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">if </span><span class="s0">(aStr1 === </span><span class="s1">null</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s5">1</span><span class="s2">; </span><span class="s4">// aStr2 !== null</span>
      <span class="s0">}</span>

      <span class="s1">if </span><span class="s0">(aStr2 === </span><span class="s1">null</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">-</span><span class="s5">1</span><span class="s2">; </span><span class="s4">// aStr1 !== null</span>
      <span class="s0">}</span>

      <span class="s1">if </span><span class="s0">(aStr1 &gt; aStr2) {</span>
        <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">return </span><span class="s0">-</span><span class="s5">1</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s7">/**</span>
     <span class="s7">* Comparator between two mappings with inflated source and name strings where</span>
     <span class="s7">* the generated positions are compared.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">compareByGeneratedPositionsInflated(mappingA</span><span class="s2">, </span><span class="s0">mappingB) {</span>
      <span class="s1">var </span><span class="s0">cmp = mappingA.generatedLine - mappingB.generatedLine</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = mappingA.generatedColumn - mappingB.generatedColumn</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = strcmp(mappingA.source</span><span class="s2">, </span><span class="s0">mappingB.source)</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = mappingA.originalLine - mappingB.originalLine</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s0">cmp = mappingA.originalColumn - mappingB.originalColumn</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(cmp !== </span><span class="s5">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">cmp</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">return </span><span class="s0">strcmp(mappingA.name</span><span class="s2">, </span><span class="s0">mappingB.name)</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Strip any JSON XSSI avoidance prefix from the string (as documented</span>
     <span class="s7">* in the source maps specification), and then parse the string as</span>
     <span class="s7">* JSON.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">parseSourceMapInput(str) {</span>
      <span class="s1">return </span><span class="s0">JSON.parse(str.replace(</span><span class="s5">/^\)]}'[^\n]*\n/</span><span class="s2">, </span><span class="s3">''</span><span class="s0">))</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.parseSourceMapInput = parseSourceMapInput</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Compute the URL of a source given the the source root, the source's</span>
     <span class="s7">* URL, and the source map's URL.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">computeSourceURL(sourceRoot</span><span class="s2">, </span><span class="s0">sourceURL</span><span class="s2">, </span><span class="s0">sourceMapURL) {</span>
      <span class="s0">sourceURL = sourceURL || </span><span class="s3">''</span><span class="s2">;</span>

      <span class="s1">if </span><span class="s0">(sourceRoot) {</span>
        <span class="s4">// This follows what Chrome does.</span>
        <span class="s1">if </span><span class="s0">(sourceRoot[sourceRoot.length - </span><span class="s5">1</span><span class="s0">] !== </span><span class="s3">'/' </span><span class="s0">&amp;&amp; sourceURL[</span><span class="s5">0</span><span class="s0">] !== </span><span class="s3">'/'</span><span class="s0">) {</span>
          <span class="s0">sourceRoot += </span><span class="s3">'/'</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s4">// The spec says:</span>
        <span class="s4">//   Line 4: An optional source root, useful for relocating source</span>
        <span class="s4">//   files on a server or removing repeated values in the</span>
        <span class="s4">//   “sources” entry.  This value is prepended to the individual</span>
        <span class="s4">//   entries in the “source” field.</span>
        <span class="s0">sourceURL = sourceRoot + sourceURL</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s4">// Historically, SourceMapConsumer did not take the sourceMapURL as</span>
      <span class="s4">// a parameter.  This mode is still somewhat supported, which is why</span>
      <span class="s4">// this code block is conditional.  However, it's preferable to pass</span>
      <span class="s4">// the source map URL to SourceMapConsumer, so that this function</span>
      <span class="s4">// can implement the source URL resolution algorithm as outlined in</span>
      <span class="s4">// the spec.  This block is basically the equivalent of:</span>
      <span class="s4">//    new URL(sourceURL, sourceMapURL).toString()</span>
      <span class="s4">// ... except it avoids using URL, which wasn't available in the</span>
      <span class="s4">// older releases of node still supported by this library.</span>
      <span class="s4">//</span>
      <span class="s4">// The spec says:</span>
      <span class="s4">//   If the sources are not absolute URLs after prepending of the</span>
      <span class="s4">//   “sourceRoot”, the sources are resolved relative to the</span>
      <span class="s4">//   SourceMap (like resolving script src in a html document).</span>
      <span class="s1">if </span><span class="s0">(sourceMapURL) {</span>
        <span class="s1">var </span><span class="s0">parsed = urlParse(sourceMapURL)</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(!parsed) {</span>
          <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">&quot;sourceMapURL could not be parsed&quot;</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(parsed.path) {</span>
          <span class="s4">// Strip the last path component, but keep the &quot;/&quot;.</span>
          <span class="s1">var </span><span class="s0">index = parsed.path.lastIndexOf(</span><span class="s3">'/'</span><span class="s0">)</span><span class="s2">;</span>
          <span class="s1">if </span><span class="s0">(index &gt;= </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s0">parsed.path = parsed.path.substring(</span><span class="s5">0</span><span class="s2">, </span><span class="s0">index + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
          <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s0">sourceURL = join(urlGenerate(parsed)</span><span class="s2">, </span><span class="s0">sourceURL)</span><span class="s2">;</span>
      <span class="s0">}</span>

      <span class="s1">return </span><span class="s0">normalize(sourceURL)</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s0">exports.computeSourceURL = computeSourceURL</span><span class="s2">;</span>
    <span class="s0">})</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_1 = util.getArg</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_2 = util.urlParse</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_3 = util.urlGenerate</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_4 = util.normalize</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_5 = util.join</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_6 = util.isAbsolute</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_7 = util.relative</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_8 = util.toSetString</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_9 = util.fromSetString</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_10 = util.compareByOriginalPositions</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_11 = util.compareByGeneratedPositionsDeflated</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_12 = util.compareByGeneratedPositionsInflated</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_13 = util.parseSourceMapInput</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">util_14 = util.computeSourceURL</span><span class="s2">;</span>

    <span class="s6">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
    <span class="s6">/* 
     * Copyright 2011 Mozilla Foundation and contributors 
     * Licensed under the New BSD license. See LICENSE or: 
     * http://opensource.org/licenses/BSD-3-Clause 
     */</span>


    <span class="s1">var </span><span class="s0">has = Object.prototype.hasOwnProperty</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">hasNativeMap = </span><span class="s1">typeof </span><span class="s0">Map !== </span><span class="s3">&quot;undefined&quot;</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* A data structure which is a combination of an array and a set. Adding a new</span>
     <span class="s7">* member is O(1), testing for membership is O(1), and finding the index of an</span>
     <span class="s7">* element is O(1). Removing elements from the set is not supported. Only</span>
     <span class="s7">* strings are supported for membership.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">ArraySet() {</span>
      <span class="s1">this</span><span class="s0">._array = []</span><span class="s2">;</span>
      <span class="s1">this</span><span class="s0">._set = hasNativeMap ? </span><span class="s1">new </span><span class="s0">Map() : Object.create(</span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s7">/**</span>
     <span class="s7">* Static method for creating ArraySet instances from an existing array.</span>
     <span class="s7">*/</span>
    <span class="s0">ArraySet.fromArray = </span><span class="s1">function </span><span class="s0">ArraySet_fromArray(aArray</span><span class="s2">, </span><span class="s0">aAllowDuplicates) {</span>
      <span class="s1">var </span><span class="s0">set = </span><span class="s1">new </span><span class="s0">ArraySet()</span><span class="s2">;</span>
      <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">, </span><span class="s0">len = aArray.length</span><span class="s2">; </span><span class="s0">i &lt; len</span><span class="s2">; </span><span class="s0">i++) {</span>
        <span class="s0">set.add(aArray[i]</span><span class="s2">, </span><span class="s0">aAllowDuplicates)</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">return </span><span class="s0">set</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Return how many unique items are in this ArraySet. If duplicates have been</span>
     <span class="s7">* added, than those do not count towards the size.</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@returns </span><span class="s7">Number</span>
     <span class="s7">*/</span>
    <span class="s0">ArraySet.prototype.size = </span><span class="s1">function </span><span class="s0">ArraySet_size() {</span>
      <span class="s1">return </span><span class="s0">hasNativeMap ? </span><span class="s1">this</span><span class="s0">._set.size : Object.getOwnPropertyNames(</span><span class="s1">this</span><span class="s0">._set).length</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Add the given string to this set.</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">String aStr</span>
     <span class="s7">*/</span>
    <span class="s0">ArraySet.prototype.add = </span><span class="s1">function </span><span class="s0">ArraySet_add(aStr</span><span class="s2">, </span><span class="s0">aAllowDuplicates) {</span>
      <span class="s1">var </span><span class="s0">sStr = hasNativeMap ? aStr : util.toSetString(aStr)</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">isDuplicate = hasNativeMap ? </span><span class="s1">this</span><span class="s0">.has(aStr) : has.call(</span><span class="s1">this</span><span class="s0">._set</span><span class="s2">, </span><span class="s0">sStr)</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">idx = </span><span class="s1">this</span><span class="s0">._array.length</span><span class="s2">;</span>
      <span class="s1">if </span><span class="s0">(!isDuplicate || aAllowDuplicates) {</span>
        <span class="s1">this</span><span class="s0">._array.push(aStr)</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">if </span><span class="s0">(!isDuplicate) {</span>
        <span class="s1">if </span><span class="s0">(hasNativeMap) {</span>
          <span class="s1">this</span><span class="s0">._set.set(aStr</span><span class="s2">, </span><span class="s0">idx)</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
          <span class="s1">this</span><span class="s0">._set[sStr] = idx</span><span class="s2">;</span>
        <span class="s0">}</span>
      <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Is the given string a member of this set?</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">String aStr</span>
     <span class="s7">*/</span>
    <span class="s0">ArraySet.prototype.has = </span><span class="s1">function </span><span class="s0">ArraySet_has(aStr) {</span>
      <span class="s1">if </span><span class="s0">(hasNativeMap) {</span>
        <span class="s1">return this</span><span class="s0">._set.has(aStr)</span><span class="s2">;</span>
      <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
        <span class="s1">var </span><span class="s0">sStr = util.toSetString(aStr)</span><span class="s2">;</span>
        <span class="s1">return </span><span class="s0">has.call(</span><span class="s1">this</span><span class="s0">._set</span><span class="s2">, </span><span class="s0">sStr)</span><span class="s2">;</span>
      <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* What is the index of the given string in the array?</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">String aStr</span>
     <span class="s7">*/</span>
    <span class="s0">ArraySet.prototype.indexOf = </span><span class="s1">function </span><span class="s0">ArraySet_indexOf(aStr) {</span>
      <span class="s1">if </span><span class="s0">(hasNativeMap) {</span>
        <span class="s1">var </span><span class="s0">idx = </span><span class="s1">this</span><span class="s0">._set.get(aStr)</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(idx &gt;= </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s0">idx</span><span class="s2">;</span>
        <span class="s0">}</span>
      <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
        <span class="s1">var </span><span class="s0">sStr = util.toSetString(aStr)</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(has.call(</span><span class="s1">this</span><span class="s0">._set</span><span class="s2">, </span><span class="s0">sStr)) {</span>
          <span class="s1">return this</span><span class="s0">._set[sStr]</span><span class="s2">;</span>
        <span class="s0">}</span>
      <span class="s0">}</span>

      <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'&quot;' </span><span class="s0">+ aStr + </span><span class="s3">'&quot; is not in the set.'</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* What is the element at the given index?</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">Number aIdx</span>
     <span class="s7">*/</span>
    <span class="s0">ArraySet.prototype.at = </span><span class="s1">function </span><span class="s0">ArraySet_at(aIdx) {</span>
      <span class="s1">if </span><span class="s0">(aIdx &gt;= </span><span class="s5">0 </span><span class="s0">&amp;&amp; aIdx &lt; </span><span class="s1">this</span><span class="s0">._array.length) {</span>
        <span class="s1">return this</span><span class="s0">._array[aIdx]</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'No element indexed by ' </span><span class="s0">+ aIdx)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Returns the array representation of this set (which has the proper indices</span>
     <span class="s7">* indicated by indexOf). Note that this is a copy of the internal array used</span>
     <span class="s7">* for storing the members so that no one can mess with internal state.</span>
     <span class="s7">*/</span>
    <span class="s0">ArraySet.prototype.toArray = </span><span class="s1">function </span><span class="s0">ArraySet_toArray() {</span>
      <span class="s1">return this</span><span class="s0">._array.slice()</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">ArraySet_1 = ArraySet</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">arraySet = {</span>
    	<span class="s0">ArraySet: ArraySet_1</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s6">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
    <span class="s6">/* 
     * Copyright 2014 Mozilla Foundation and contributors 
     * Licensed under the New BSD license. See LICENSE or: 
     * http://opensource.org/licenses/BSD-3-Clause 
     */</span>



    <span class="s7">/**</span>
     <span class="s7">* Determine whether mappingB is after mappingA with respect to generated</span>
     <span class="s7">* position.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">generatedPositionAfter(mappingA</span><span class="s2">, </span><span class="s0">mappingB) {</span>
      <span class="s4">// Optimized for most common case</span>
      <span class="s1">var </span><span class="s0">lineA = mappingA.generatedLine</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">lineB = mappingB.generatedLine</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">columnA = mappingA.generatedColumn</span><span class="s2">;</span>
      <span class="s1">var </span><span class="s0">columnB = mappingB.generatedColumn</span><span class="s2">;</span>
      <span class="s1">return </span><span class="s0">lineB &gt; lineA || lineB == lineA &amp;&amp; columnB &gt;= columnA ||</span>
             <span class="s0">util.compareByGeneratedPositionsInflated(mappingA</span><span class="s2">, </span><span class="s0">mappingB) &lt;= </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s7">/**</span>
     <span class="s7">* A data structure to provide a sorted view of accumulated mappings in a</span>
     <span class="s7">* performance conscious manner. It trades a neglibable overhead in general</span>
     <span class="s7">* case for a large speedup in case of mappings being added in order.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">MappingList() {</span>
      <span class="s1">this</span><span class="s0">._array = []</span><span class="s2">;</span>
      <span class="s1">this</span><span class="s0">._sorted = </span><span class="s1">true</span><span class="s2">;</span>
      <span class="s4">// Serves as infimum</span>
      <span class="s1">this</span><span class="s0">._last = {generatedLine: -</span><span class="s5">1</span><span class="s2">, </span><span class="s0">generatedColumn: </span><span class="s5">0</span><span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s7">/**</span>
     <span class="s7">* Iterate through internal items. This method takes the same arguments that</span>
     <span class="s7">* `Array.prototype.forEach` takes.</span>
     <span class="s7">*</span>
     <span class="s7">* NOTE: The order of the mappings is NOT guaranteed.</span>
     <span class="s7">*/</span>
    <span class="s0">MappingList.prototype.unsortedForEach =</span>
      <span class="s1">function </span><span class="s0">MappingList_forEach(aCallback</span><span class="s2">, </span><span class="s0">aThisArg) {</span>
        <span class="s1">this</span><span class="s0">._array.forEach(aCallback</span><span class="s2">, </span><span class="s0">aThisArg)</span><span class="s2">;</span>
      <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Add the given source mapping.</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">Object aMapping</span>
     <span class="s7">*/</span>
    <span class="s0">MappingList.prototype.add = </span><span class="s1">function </span><span class="s0">MappingList_add(aMapping) {</span>
      <span class="s1">if </span><span class="s0">(generatedPositionAfter(</span><span class="s1">this</span><span class="s0">._last</span><span class="s2">, </span><span class="s0">aMapping)) {</span>
        <span class="s1">this</span><span class="s0">._last = aMapping</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">._array.push(aMapping)</span><span class="s2">;</span>
      <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
        <span class="s1">this</span><span class="s0">._sorted = </span><span class="s1">false</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">._array.push(aMapping)</span><span class="s2">;</span>
      <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Returns the flat, sorted array of mappings. The mappings are sorted by</span>
     <span class="s7">* generated position.</span>
     <span class="s7">*</span>
     <span class="s7">* WARNING: This method returns internal data without copying, for</span>
     <span class="s7">* performance. The return value must NOT be mutated, and should be treated as</span>
     <span class="s7">* an immutable borrow. If you want to take ownership, you must make your own</span>
     <span class="s7">* copy.</span>
     <span class="s7">*/</span>
    <span class="s0">MappingList.prototype.toArray = </span><span class="s1">function </span><span class="s0">MappingList_toArray() {</span>
      <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">._sorted) {</span>
        <span class="s1">this</span><span class="s0">._array.sort(util.compareByGeneratedPositionsInflated)</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">._sorted = </span><span class="s1">true</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">return this</span><span class="s0">._array</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">MappingList_1 = MappingList</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">mappingList = {</span>
    	<span class="s0">MappingList: MappingList_1</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s6">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
    <span class="s6">/* 
     * Copyright 2011 Mozilla Foundation and contributors 
     * Licensed under the New BSD license. See LICENSE or: 
     * http://opensource.org/licenses/BSD-3-Clause 
     */</span>



    <span class="s1">var </span><span class="s0">ArraySet$1 = arraySet.ArraySet</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">MappingList$1 = mappingList.MappingList</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* An instance of the SourceMapGenerator represents a source map which is</span>
     <span class="s7">* being built incrementally. You may pass an object with the following</span>
     <span class="s7">* properties:</span>
     <span class="s7">*</span>
     <span class="s7">*   - file: The filename of the generated source.</span>
     <span class="s7">*   - sourceRoot: A root for all relative URLs in this source map.</span>
     <span class="s7">*/</span>
    <span class="s1">function </span><span class="s0">SourceMapGenerator(aArgs) {</span>
      <span class="s1">if </span><span class="s0">(!aArgs) {</span>
        <span class="s0">aArgs = {}</span><span class="s2">;</span>
      <span class="s0">}</span>
      <span class="s1">this</span><span class="s0">._file = util.getArg(aArgs</span><span class="s2">, </span><span class="s3">'file'</span><span class="s2">, </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
      <span class="s1">this</span><span class="s0">._sourceRoot = util.getArg(aArgs</span><span class="s2">, </span><span class="s3">'sourceRoot'</span><span class="s2">, </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
      <span class="s1">this</span><span class="s0">._skipValidation = util.getArg(aArgs</span><span class="s2">, </span><span class="s3">'skipValidation'</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>
      <span class="s1">this</span><span class="s0">._sources = </span><span class="s1">new </span><span class="s0">ArraySet$1()</span><span class="s2">;</span>
      <span class="s1">this</span><span class="s0">._names = </span><span class="s1">new </span><span class="s0">ArraySet$1()</span><span class="s2">;</span>
      <span class="s1">this</span><span class="s0">._mappings = </span><span class="s1">new </span><span class="s0">MappingList$1()</span><span class="s2">;</span>
      <span class="s1">this</span><span class="s0">._sourcesContents = </span><span class="s1">null</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s0">SourceMapGenerator.prototype._version = </span><span class="s5">3</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Creates a new SourceMapGenerator based on a SourceMapConsumer</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">aSourceMapConsumer The SourceMap.</span>
     <span class="s7">*/</span>
    <span class="s0">SourceMapGenerator.fromSourceMap =</span>
      <span class="s1">function </span><span class="s0">SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {</span>
        <span class="s1">var </span><span class="s0">sourceRoot = aSourceMapConsumer.sourceRoot</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">generator = </span><span class="s1">new </span><span class="s0">SourceMapGenerator({</span>
          <span class="s0">file: aSourceMapConsumer.file</span><span class="s2">,</span>
          <span class="s0">sourceRoot: sourceRoot</span>
        <span class="s0">})</span><span class="s2">;</span>
        <span class="s0">aSourceMapConsumer.eachMapping(</span><span class="s1">function </span><span class="s0">(mapping) {</span>
          <span class="s1">var </span><span class="s0">newMapping = {</span>
            <span class="s0">generated: {</span>
              <span class="s0">line: mapping.generatedLine</span><span class="s2">,</span>
              <span class="s0">column: mapping.generatedColumn</span>
            <span class="s0">}</span>
          <span class="s0">}</span><span class="s2">;</span>

          <span class="s1">if </span><span class="s0">(mapping.source != </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">newMapping.source = mapping.source</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(sourceRoot != </span><span class="s1">null</span><span class="s0">) {</span>
              <span class="s0">newMapping.source = util.relative(sourceRoot</span><span class="s2">, </span><span class="s0">newMapping.source)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">newMapping.original = {</span>
              <span class="s0">line: mapping.originalLine</span><span class="s2">,</span>
              <span class="s0">column: mapping.originalColumn</span>
            <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(mapping.name != </span><span class="s1">null</span><span class="s0">) {</span>
              <span class="s0">newMapping.name = mapping.name</span><span class="s2">;</span>
            <span class="s0">}</span>
          <span class="s0">}</span>

          <span class="s0">generator.addMapping(newMapping)</span><span class="s2">;</span>
        <span class="s0">})</span><span class="s2">;</span>
        <span class="s0">aSourceMapConsumer.sources.forEach(</span><span class="s1">function </span><span class="s0">(sourceFile) {</span>
          <span class="s1">var </span><span class="s0">sourceRelative = sourceFile</span><span class="s2">;</span>
          <span class="s1">if </span><span class="s0">(sourceRoot !== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">sourceRelative = util.relative(sourceRoot</span><span class="s2">, </span><span class="s0">sourceFile)</span><span class="s2">;</span>
          <span class="s0">}</span>

          <span class="s1">if </span><span class="s0">(!generator._sources.has(sourceRelative)) {</span>
            <span class="s0">generator._sources.add(sourceRelative)</span><span class="s2">;</span>
          <span class="s0">}</span>

          <span class="s1">var </span><span class="s0">content = aSourceMapConsumer.sourceContentFor(sourceFile)</span><span class="s2">;</span>
          <span class="s1">if </span><span class="s0">(content != </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">generator.setSourceContent(sourceFile</span><span class="s2">, </span><span class="s0">content)</span><span class="s2">;</span>
          <span class="s0">}</span>
        <span class="s0">})</span><span class="s2">;</span>
        <span class="s1">return </span><span class="s0">generator</span><span class="s2">;</span>
      <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Add a single mapping from original source line and column to the generated</span>
     <span class="s7">* source's line and column for this source map being created. The mapping</span>
     <span class="s7">* object should have the following properties:</span>
     <span class="s7">*</span>
     <span class="s7">*   - generated: An object with the generated line and column positions.</span>
     <span class="s7">*   - original: An object with the original line and column positions.</span>
     <span class="s7">*   - source: The original source file (relative to the sourceRoot).</span>
     <span class="s7">*   - name: An optional original token name for this mapping.</span>
     <span class="s7">*/</span>
    <span class="s0">SourceMapGenerator.prototype.addMapping =</span>
      <span class="s1">function </span><span class="s0">SourceMapGenerator_addMapping(aArgs) {</span>
        <span class="s1">var </span><span class="s0">generated = util.getArg(aArgs</span><span class="s2">, </span><span class="s3">'generated'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">original = util.getArg(aArgs</span><span class="s2">, </span><span class="s3">'original'</span><span class="s2">, </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">source = util.getArg(aArgs</span><span class="s2">, </span><span class="s3">'source'</span><span class="s2">, </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">name = util.getArg(aArgs</span><span class="s2">, </span><span class="s3">'name'</span><span class="s2">, </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">._skipValidation) {</span>
          <span class="s1">this</span><span class="s0">._validateMapping(generated</span><span class="s2">, </span><span class="s0">original</span><span class="s2">, </span><span class="s0">source</span><span class="s2">, </span><span class="s0">name)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(source != </span><span class="s1">null</span><span class="s0">) {</span>
          <span class="s0">source = String(source)</span><span class="s2">;</span>
          <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">._sources.has(source)) {</span>
            <span class="s1">this</span><span class="s0">._sources.add(source)</span><span class="s2">;</span>
          <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(name != </span><span class="s1">null</span><span class="s0">) {</span>
          <span class="s0">name = String(name)</span><span class="s2">;</span>
          <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">._names.has(name)) {</span>
            <span class="s1">this</span><span class="s0">._names.add(name)</span><span class="s2">;</span>
          <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">this</span><span class="s0">._mappings.add({</span>
          <span class="s0">generatedLine: generated.line</span><span class="s2">,</span>
          <span class="s0">generatedColumn: generated.column</span><span class="s2">,</span>
          <span class="s0">originalLine: original != </span><span class="s1">null </span><span class="s0">&amp;&amp; original.line</span><span class="s2">,</span>
          <span class="s0">originalColumn: original != </span><span class="s1">null </span><span class="s0">&amp;&amp; original.column</span><span class="s2">,</span>
          <span class="s0">source: source</span><span class="s2">,</span>
          <span class="s0">name: name</span>
        <span class="s0">})</span><span class="s2">;</span>
      <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Set the source content for a source file.</span>
     <span class="s7">*/</span>
    <span class="s0">SourceMapGenerator.prototype.setSourceContent =</span>
      <span class="s1">function </span><span class="s0">SourceMapGenerator_setSourceContent(aSourceFile</span><span class="s2">, </span><span class="s0">aSourceContent) {</span>
        <span class="s1">var </span><span class="s0">source = aSourceFile</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">._sourceRoot != </span><span class="s1">null</span><span class="s0">) {</span>
          <span class="s0">source = util.relative(</span><span class="s1">this</span><span class="s0">._sourceRoot</span><span class="s2">, </span><span class="s0">source)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(aSourceContent != </span><span class="s1">null</span><span class="s0">) {</span>
          <span class="s4">// Add the source content to the _sourcesContents map.</span>
          <span class="s4">// Create a new _sourcesContents map if the property is null.</span>
          <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">._sourcesContents) {</span>
            <span class="s1">this</span><span class="s0">._sourcesContents = Object.create(</span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
          <span class="s0">}</span>
          <span class="s1">this</span><span class="s0">._sourcesContents[util.toSetString(source)] = aSourceContent</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">._sourcesContents) {</span>
          <span class="s4">// Remove the source file from the _sourcesContents map.</span>
          <span class="s4">// If the _sourcesContents map is empty, set the property to null.</span>
          <span class="s1">delete this</span><span class="s0">._sourcesContents[util.toSetString(source)]</span><span class="s2">;</span>
          <span class="s1">if </span><span class="s0">(Object.keys(</span><span class="s1">this</span><span class="s0">._sourcesContents).length === </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s1">this</span><span class="s0">._sourcesContents = </span><span class="s1">null</span><span class="s2">;</span>
          <span class="s0">}</span>
        <span class="s0">}</span>
      <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Applies the mappings of a sub-source-map for a specific source file to the</span>
     <span class="s7">* source map being generated. Each mapping to the supplied source file is</span>
     <span class="s7">* rewritten using the supplied source map. Note: The resolution for the</span>
     <span class="s7">* resulting mappings is the minimium of this map and the supplied map.</span>
     <span class="s7">*</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">aSourceMapConsumer The source map to be applied.</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">aSourceFile Optional. The filename of the source file.</span>
     <span class="s7">*        If omitted, SourceMapConsumer's file property will be used.</span>
     <span class="s7">* </span><span class="s8">@param </span><span class="s7">aSourceMapPath Optional. The dirname of the path to the source map</span>
     <span class="s7">*        to be applied. If relative, it is relative to the SourceMapConsumer.</span>
     <span class="s7">*        This parameter is needed when the two source maps aren't in the same</span>
     <span class="s7">*        directory, and the source map to be applied contains relative source</span>
     <span class="s7">*        paths. If so, those relative source paths need to be rewritten</span>
     <span class="s7">*        relative to the SourceMapGenerator.</span>
     <span class="s7">*/</span>
    <span class="s0">SourceMapGenerator.prototype.applySourceMap =</span>
      <span class="s1">function </span><span class="s0">SourceMapGenerator_applySourceMap(aSourceMapConsumer</span><span class="s2">, </span><span class="s0">aSourceFile</span><span class="s2">, </span><span class="s0">aSourceMapPath) {</span>
        <span class="s1">var </span><span class="s0">sourceFile = aSourceFile</span><span class="s2">;</span>
        <span class="s4">// If aSourceFile is omitted, we will use the file property of the SourceMap</span>
        <span class="s1">if </span><span class="s0">(aSourceFile == </span><span class="s1">null</span><span class="s0">) {</span>
          <span class="s1">if </span><span class="s0">(aSourceMapConsumer.file == </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">throw new </span><span class="s0">Error(</span>
              <span class="s3">'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' </span><span class="s0">+</span>
              <span class="s3">'or the source map</span><span class="s2">\'</span><span class="s3">s &quot;file&quot; property. Both were omitted.'</span>
            <span class="s0">)</span><span class="s2">;</span>
          <span class="s0">}</span>
          <span class="s0">sourceFile = aSourceMapConsumer.file</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s1">var </span><span class="s0">sourceRoot = </span><span class="s1">this</span><span class="s0">._sourceRoot</span><span class="s2">;</span>
        <span class="s4">// Make &quot;sourceFile&quot; relative if an absolute Url is passed.</span>
        <span class="s1">if </span><span class="s0">(sourceRoot != </span><span class="s1">null</span><span class="s0">) {</span>
          <span class="s0">sourceFile = util.relative(sourceRoot</span><span class="s2">, </span><span class="s0">sourceFile)</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s4">// Applying the SourceMap can add and remove items from the sources and</span>
        <span class="s4">// the names array.</span>
        <span class="s1">var </span><span class="s0">newSources = </span><span class="s1">new </span><span class="s0">ArraySet$1()</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">newNames = </span><span class="s1">new </span><span class="s0">ArraySet$1()</span><span class="s2">;</span>

        <span class="s4">// Find mappings for the &quot;sourceFile&quot;</span>
        <span class="s1">this</span><span class="s0">._mappings.unsortedForEach(</span><span class="s1">function </span><span class="s0">(mapping) {</span>
          <span class="s1">if </span><span class="s0">(mapping.source === sourceFile &amp;&amp; mapping.originalLine != </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s4">// Check if it can be mapped by the source map, then update the mapping.</span>
            <span class="s1">var </span><span class="s0">original = aSourceMapConsumer.originalPositionFor({</span>
              <span class="s0">line: mapping.originalLine</span><span class="s2">,</span>
              <span class="s0">column: mapping.originalColumn</span>
            <span class="s0">})</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(original.source != </span><span class="s1">null</span><span class="s0">) {</span>
              <span class="s4">// Copy mapping</span>
              <span class="s0">mapping.source = original.source</span><span class="s2">;</span>
              <span class="s1">if </span><span class="s0">(aSourceMapPath != </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s0">mapping.source = util.join(aSourceMapPath</span><span class="s2">, </span><span class="s0">mapping.source)</span><span class="s2">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(sourceRoot != </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s0">mapping.source = util.relative(sourceRoot</span><span class="s2">, </span><span class="s0">mapping.source)</span><span class="s2">;</span>
              <span class="s0">}</span>
              <span class="s0">mapping.originalLine = original.line</span><span class="s2">;</span>
              <span class="s0">mapping.originalColumn = original.column</span><span class="s2">;</span>
              <span class="s1">if </span><span class="s0">(original.name != </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s0">mapping.name = original.name</span><span class="s2">;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
          <span class="s0">}</span>

          <span class="s1">var </span><span class="s0">source = mapping.source</span><span class="s2">;</span>
          <span class="s1">if </span><span class="s0">(source != </span><span class="s1">null </span><span class="s0">&amp;&amp; !newSources.has(source)) {</span>
            <span class="s0">newSources.add(source)</span><span class="s2">;</span>
          <span class="s0">}</span>

          <span class="s1">var </span><span class="s0">name = mapping.name</span><span class="s2">;</span>
          <span class="s1">if </span><span class="s0">(name != </span><span class="s1">null </span><span class="s0">&amp;&amp; !newNames.has(name)) {</span>
            <span class="s0">newNames.add(name)</span><span class="s2">;</span>
          <span class="s0">}</span>

        <span class="s0">}</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">._sources = newSources</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">._names = newNames</span><span class="s2">;</span>

        <span class="s4">// Copy sourcesContents of applied map.</span>
        <span class="s0">aSourceMapConsumer.sources.forEach(</span><span class="s1">function </span><span class="s0">(sourceFile) {</span>
          <span class="s1">var </span><span class="s0">content = aSourceMapConsumer.sourceContentFor(sourceFile)</span><span class="s2">;</span>
          <span class="s1">if </span><span class="s0">(content != </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(aSourceMapPath != </span><span class="s1">null</span><span class="s0">) {</span>
              <span class="s0">sourceFile = util.join(aSourceMapPath</span><span class="s2">, </span><span class="s0">sourceFile)</span><span class="s2">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(sourceRoot != </span><span class="s1">null</span><span class="s0">) {</span>
              <span class="s0">sourceFile = util.relative(sourceRoot</span><span class="s2">, </span><span class="s0">sourceFile)</span><span class="s2">;</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.setSourceContent(sourceFile</span><span class="s2">, </span><span class="s0">content)</span><span class="s2">;</span>
          <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
      <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* A mapping can have one of the three levels of data:</span>
     <span class="s7">*</span>
     <span class="s7">*   1. Just the generated position.</span>
     <span class="s7">*   2. The Generated position, original position, and original source.</span>
     <span class="s7">*   3. Generated and original position, original source, as well as a name</span>
     <span class="s7">*      token.</span>
     <span class="s7">*</span>
     <span class="s7">* To maintain consistency, we validate that any new mapping being added falls</span>
     <span class="s7">* in to one of these categories.</span>
     <span class="s7">*/</span>
    <span class="s0">SourceMapGenerator.prototype._validateMapping =</span>
      <span class="s1">function </span><span class="s0">SourceMapGenerator_validateMapping(aGenerated</span><span class="s2">, </span><span class="s0">aOriginal</span><span class="s2">, </span><span class="s0">aSource</span><span class="s2">,</span>
                                                  <span class="s0">aName) {</span>
        <span class="s4">// When aOriginal is truthy but has empty values for .line and .column,</span>
        <span class="s4">// it is most likely a programmer error. In this case we throw a very</span>
        <span class="s4">// specific error message to try to guide them the right way.</span>
        <span class="s4">// For example: https://github.com/Polymer/polymer-bundler/pull/519</span>
        <span class="s1">if </span><span class="s0">(aOriginal &amp;&amp; </span><span class="s1">typeof </span><span class="s0">aOriginal.line !== </span><span class="s3">'number' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">aOriginal.column !== </span><span class="s3">'number'</span><span class="s0">) {</span>
            <span class="s1">throw new </span><span class="s0">Error(</span>
                <span class="s3">'original.line and original.column are not numbers -- you probably meant to omit ' </span><span class="s0">+</span>
                <span class="s3">'the original mapping entirely and only map the generated position. If so, pass ' </span><span class="s0">+</span>
                <span class="s3">'null for the original mapping instead of an object with empty or null values.'</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(aGenerated &amp;&amp; </span><span class="s3">'line' </span><span class="s1">in </span><span class="s0">aGenerated &amp;&amp; </span><span class="s3">'column' </span><span class="s1">in </span><span class="s0">aGenerated</span>
            <span class="s0">&amp;&amp; aGenerated.line &gt; </span><span class="s5">0 </span><span class="s0">&amp;&amp; aGenerated.column &gt;= </span><span class="s5">0</span>
            <span class="s0">&amp;&amp; !aOriginal &amp;&amp; !aSource &amp;&amp; !aName) {</span>
          <span class="s4">// Case 1.</span>
          <span class="s1">return</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s1">else if </span><span class="s0">(aGenerated &amp;&amp; </span><span class="s3">'line' </span><span class="s1">in </span><span class="s0">aGenerated &amp;&amp; </span><span class="s3">'column' </span><span class="s1">in </span><span class="s0">aGenerated</span>
                 <span class="s0">&amp;&amp; aOriginal &amp;&amp; </span><span class="s3">'line' </span><span class="s1">in </span><span class="s0">aOriginal &amp;&amp; </span><span class="s3">'column' </span><span class="s1">in </span><span class="s0">aOriginal</span>
                 <span class="s0">&amp;&amp; aGenerated.line &gt; </span><span class="s5">0 </span><span class="s0">&amp;&amp; aGenerated.column &gt;= </span><span class="s5">0</span>
                 <span class="s0">&amp;&amp; aOriginal.line &gt; </span><span class="s5">0 </span><span class="s0">&amp;&amp; aOriginal.column &gt;= </span><span class="s5">0</span>
                 <span class="s0">&amp;&amp; aSource) {</span>
          <span class="s4">// Cases 2 and 3.</span>
          <span class="s1">return</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s1">else </span><span class="s0">{</span>
          <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Invalid mapping: ' </span><span class="s0">+ JSON.stringify({</span>
            <span class="s0">generated: aGenerated</span><span class="s2">,</span>
            <span class="s0">source: aSource</span><span class="s2">,</span>
            <span class="s0">original: aOriginal</span><span class="s2">,</span>
            <span class="s0">name: aName</span>
          <span class="s0">}))</span><span class="s2">;</span>
        <span class="s0">}</span>
      <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Serialize the accumulated mappings in to the stream of base 64 VLQs</span>
     <span class="s7">* specified by the source map format.</span>
     <span class="s7">*/</span>
    <span class="s0">SourceMapGenerator.prototype._serializeMappings =</span>
      <span class="s1">function </span><span class="s0">SourceMapGenerator_serializeMappings() {</span>
        <span class="s1">var </span><span class="s0">previousGeneratedColumn = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">previousGeneratedLine = </span><span class="s5">1</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">previousOriginalColumn = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">previousOriginalLine = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">previousName = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">previousSource = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">result = </span><span class="s3">''</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">next</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">mapping</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">nameIdx</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">sourceIdx</span><span class="s2">;</span>

        <span class="s1">var </span><span class="s0">mappings = </span><span class="s1">this</span><span class="s0">._mappings.toArray()</span><span class="s2">;</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">, </span><span class="s0">len = mappings.length</span><span class="s2">; </span><span class="s0">i &lt; len</span><span class="s2">; </span><span class="s0">i++) {</span>
          <span class="s0">mapping = mappings[i]</span><span class="s2">;</span>
          <span class="s0">next = </span><span class="s3">''</span><span class="s2">;</span>

          <span class="s1">if </span><span class="s0">(mapping.generatedLine !== previousGeneratedLine) {</span>
            <span class="s0">previousGeneratedColumn = </span><span class="s5">0</span><span class="s2">;</span>
            <span class="s1">while </span><span class="s0">(mapping.generatedLine !== previousGeneratedLine) {</span>
              <span class="s0">next += </span><span class="s3">';'</span><span class="s2">;</span>
              <span class="s0">previousGeneratedLine++</span><span class="s2">;</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">else </span><span class="s0">{</span>
            <span class="s1">if </span><span class="s0">(i &gt; </span><span class="s5">0</span><span class="s0">) {</span>
              <span class="s1">if </span><span class="s0">(!util.compareByGeneratedPositionsInflated(mapping</span><span class="s2">, </span><span class="s0">mappings[i - </span><span class="s5">1</span><span class="s0">])) {</span>
                <span class="s1">continue</span><span class="s2">;</span>
              <span class="s0">}</span>
              <span class="s0">next += </span><span class="s3">','</span><span class="s2">;</span>
            <span class="s0">}</span>
          <span class="s0">}</span>

          <span class="s0">next += base64Vlq.encode(mapping.generatedColumn</span>
                                     <span class="s0">- previousGeneratedColumn)</span><span class="s2">;</span>
          <span class="s0">previousGeneratedColumn = mapping.generatedColumn</span><span class="s2">;</span>

          <span class="s1">if </span><span class="s0">(mapping.source != </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">sourceIdx = </span><span class="s1">this</span><span class="s0">._sources.indexOf(mapping.source)</span><span class="s2">;</span>
            <span class="s0">next += base64Vlq.encode(sourceIdx - previousSource)</span><span class="s2">;</span>
            <span class="s0">previousSource = sourceIdx</span><span class="s2">;</span>

            <span class="s4">// lines are stored 0-based in SourceMap spec version 3</span>
            <span class="s0">next += base64Vlq.encode(mapping.originalLine - </span><span class="s5">1</span>
                                       <span class="s0">- previousOriginalLine)</span><span class="s2">;</span>
            <span class="s0">previousOriginalLine = mapping.originalLine - </span><span class="s5">1</span><span class="s2">;</span>

            <span class="s0">next += base64Vlq.encode(mapping.originalColumn</span>
                                       <span class="s0">- previousOriginalColumn)</span><span class="s2">;</span>
            <span class="s0">previousOriginalColumn = mapping.originalColumn</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(mapping.name != </span><span class="s1">null</span><span class="s0">) {</span>
              <span class="s0">nameIdx = </span><span class="s1">this</span><span class="s0">._names.indexOf(mapping.name)</span><span class="s2">;</span>
              <span class="s0">next += base64Vlq.encode(nameIdx - previousName)</span><span class="s2">;</span>
              <span class="s0">previousName = nameIdx</span><span class="s2">;</span>
            <span class="s0">}</span>
          <span class="s0">}</span>

          <span class="s0">result += next</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
      <span class="s0">}</span><span class="s2">;</span>

    <span class="s0">SourceMapGenerator.prototype._generateSourcesContent =</span>
      <span class="s1">function </span><span class="s0">SourceMapGenerator_generateSourcesContent(aSources</span><span class="s2">, </span><span class="s0">aSourceRoot) {</span>
        <span class="s1">return </span><span class="s0">aSources.map(</span><span class="s1">function </span><span class="s0">(source) {</span>
          <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">._sourcesContents) {</span>
            <span class="s1">return null</span><span class="s2">;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(aSourceRoot != </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s0">source = util.relative(aSourceRoot</span><span class="s2">, </span><span class="s0">source)</span><span class="s2">;</span>
          <span class="s0">}</span>
          <span class="s1">var </span><span class="s0">key = util.toSetString(source)</span><span class="s2">;</span>
          <span class="s1">return </span><span class="s0">Object.prototype.hasOwnProperty.call(</span><span class="s1">this</span><span class="s0">._sourcesContents</span><span class="s2">, </span><span class="s0">key)</span>
            <span class="s0">? </span><span class="s1">this</span><span class="s0">._sourcesContents[key]</span>
            <span class="s0">: </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
      <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Externalize the source map.</span>
     <span class="s7">*/</span>
    <span class="s0">SourceMapGenerator.prototype.toJSON =</span>
      <span class="s1">function </span><span class="s0">SourceMapGenerator_toJSON() {</span>
        <span class="s1">var </span><span class="s0">map = {</span>
          <span class="s0">version: </span><span class="s1">this</span><span class="s0">._version</span><span class="s2">,</span>
          <span class="s0">sources: </span><span class="s1">this</span><span class="s0">._sources.toArray()</span><span class="s2">,</span>
          <span class="s0">names: </span><span class="s1">this</span><span class="s0">._names.toArray()</span><span class="s2">,</span>
          <span class="s0">mappings: </span><span class="s1">this</span><span class="s0">._serializeMappings()</span>
        <span class="s0">}</span><span class="s2">;</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">._file != </span><span class="s1">null</span><span class="s0">) {</span>
          <span class="s0">map.file = </span><span class="s1">this</span><span class="s0">._file</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">._sourceRoot != </span><span class="s1">null</span><span class="s0">) {</span>
          <span class="s0">map.sourceRoot = </span><span class="s1">this</span><span class="s0">._sourceRoot</span><span class="s2">;</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">._sourcesContents) {</span>
          <span class="s0">map.sourcesContent = </span><span class="s1">this</span><span class="s0">._generateSourcesContent(map.sources</span><span class="s2">, </span><span class="s0">map.sourceRoot)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">map</span><span class="s2">;</span>
      <span class="s0">}</span><span class="s2">;</span>

    <span class="s7">/**</span>
     <span class="s7">* Render the source map being generated to a string.</span>
     <span class="s7">*/</span>
    <span class="s0">SourceMapGenerator.prototype.toString =</span>
      <span class="s1">function </span><span class="s0">SourceMapGenerator_toString() {</span>
        <span class="s1">return </span><span class="s0">JSON.stringify(</span><span class="s1">this</span><span class="s0">.toJSON())</span><span class="s2">;</span>
      <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">SourceMapGenerator_1 = SourceMapGenerator</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">sourceMapGenerator = {</span>
    	<span class="s0">SourceMapGenerator: SourceMapGenerator_1</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">SourceMapGenerator$1 = sourceMapGenerator.SourceMapGenerator</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">trackNodes = {</span>
        <span class="s0">Atrule: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s0">Selector: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s0">Declaration: </span><span class="s1">true</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">sourceMap = </span><span class="s1">function </span><span class="s0">generateSourceMap(handlers) {</span>
        <span class="s1">var </span><span class="s0">map = </span><span class="s1">new </span><span class="s0">SourceMapGenerator$1()</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">line = </span><span class="s5">1</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">column = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">generated = {</span>
            <span class="s0">line: </span><span class="s5">1</span><span class="s2">,</span>
            <span class="s0">column: </span><span class="s5">0</span>
        <span class="s0">}</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">original = {</span>
            <span class="s0">line: </span><span class="s5">0</span><span class="s2">, </span><span class="s4">// should be zero to add first mapping</span>
            <span class="s0">column: </span><span class="s5">0</span>
        <span class="s0">}</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">sourceMappingActive = </span><span class="s1">false</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">activatedGenerated = {</span>
            <span class="s0">line: </span><span class="s5">1</span><span class="s2">,</span>
            <span class="s0">column: </span><span class="s5">0</span>
        <span class="s0">}</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">activatedMapping = {</span>
            <span class="s0">generated: activatedGenerated</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s1">var </span><span class="s0">handlersNode = handlers.node</span><span class="s2">;</span>
        <span class="s0">handlers.node = </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">if </span><span class="s0">(node.loc &amp;&amp; node.loc.start &amp;&amp; trackNodes.hasOwnProperty(node.type)) {</span>
                <span class="s1">var </span><span class="s0">nodeLine = node.loc.start.line</span><span class="s2">;</span>
                <span class="s1">var </span><span class="s0">nodeColumn = node.loc.start.column - </span><span class="s5">1</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(original.line !== nodeLine ||</span>
                    <span class="s0">original.column !== nodeColumn) {</span>
                    <span class="s0">original.line = nodeLine</span><span class="s2">;</span>
                    <span class="s0">original.column = nodeColumn</span><span class="s2">;</span>

                    <span class="s0">generated.line = line</span><span class="s2">;</span>
                    <span class="s0">generated.column = column</span><span class="s2">;</span>

                    <span class="s1">if </span><span class="s0">(sourceMappingActive) {</span>
                        <span class="s0">sourceMappingActive = </span><span class="s1">false</span><span class="s2">;</span>
                        <span class="s1">if </span><span class="s0">(generated.line !== activatedGenerated.line ||</span>
                            <span class="s0">generated.column !== activatedGenerated.column) {</span>
                            <span class="s0">map.addMapping(activatedMapping)</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>

                    <span class="s0">sourceMappingActive = </span><span class="s1">true</span><span class="s2">;</span>
                    <span class="s0">map.addMapping({</span>
                        <span class="s0">source: node.loc.source</span><span class="s2">,</span>
                        <span class="s0">original: original</span><span class="s2">,</span>
                        <span class="s0">generated: generated</span>
                    <span class="s0">})</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s0">handlersNode.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">node)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(sourceMappingActive &amp;&amp; trackNodes.hasOwnProperty(node.type)) {</span>
                <span class="s0">activatedGenerated.line = line</span><span class="s2">;</span>
                <span class="s0">activatedGenerated.column = column</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s1">var </span><span class="s0">handlersChunk = handlers.chunk</span><span class="s2">;</span>
        <span class="s0">handlers.chunk = </span><span class="s1">function</span><span class="s0">(chunk) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; chunk.length</span><span class="s2">; </span><span class="s0">i++) {</span>
                <span class="s1">if </span><span class="s0">(chunk.charCodeAt(i) === </span><span class="s5">10</span><span class="s0">) { </span><span class="s4">// \n</span>
                    <span class="s0">line++</span><span class="s2">;</span>
                    <span class="s0">column = </span><span class="s5">0</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">column++</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s0">handlersChunk(chunk)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s1">var </span><span class="s0">handlersResult = handlers.result</span><span class="s2">;</span>
        <span class="s0">handlers.result = </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">if </span><span class="s0">(sourceMappingActive) {</span>
                <span class="s0">map.addMapping(activatedMapping)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">css: handlersResult()</span><span class="s2">,</span>
                <span class="s0">map: map</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">handlers</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">hasOwnProperty$3 = Object.prototype.hasOwnProperty</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">processChildren(node</span><span class="s2">, </span><span class="s0">delimeter) {</span>
        <span class="s1">var </span><span class="s0">list = node.children</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">prev = </span><span class="s1">null</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">delimeter !== </span><span class="s3">'function'</span><span class="s0">) {</span>
            <span class="s0">list.forEach(</span><span class="s1">this</span><span class="s0">.node</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">list.forEach(</span><span class="s1">function</span><span class="s0">(node) {</span>
                <span class="s1">if </span><span class="s0">(prev !== </span><span class="s1">null</span><span class="s0">) {</span>
                    <span class="s0">delimeter.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">prev)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">this</span><span class="s0">.node(node)</span><span class="s2">;</span>
                <span class="s0">prev = node</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">, </span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">create$1 = </span><span class="s1">function </span><span class="s0">createGenerator(config) {</span>
        <span class="s1">function </span><span class="s0">processNode(node) {</span>
            <span class="s1">if </span><span class="s0">(hasOwnProperty$3.call(types</span><span class="s2">, </span><span class="s0">node.type)) {</span>
                <span class="s0">types[node.type].call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">node)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Unknown node type: ' </span><span class="s0">+ node.type)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">types = {}</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(config.node) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">config.node) {</span>
                <span class="s0">types[name] = config.node[name].generate</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return function</span><span class="s0">(node</span><span class="s2">, </span><span class="s0">options) {</span>
            <span class="s1">var </span><span class="s0">buffer = </span><span class="s3">''</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">handlers = {</span>
                <span class="s0">children: processChildren</span><span class="s2">,</span>
                <span class="s0">node: processNode</span><span class="s2">,</span>
                <span class="s0">chunk: </span><span class="s1">function</span><span class="s0">(chunk) {</span>
                    <span class="s0">buffer += chunk</span><span class="s2">;</span>
                <span class="s0">}</span><span class="s2">,</span>
                <span class="s0">result: </span><span class="s1">function</span><span class="s0">() {</span>
                    <span class="s1">return </span><span class="s0">buffer</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(options) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options.decorator === </span><span class="s3">'function'</span><span class="s0">) {</span>
                    <span class="s0">handlers = options.decorator(handlers)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">if </span><span class="s0">(options.sourceMap) {</span>
                    <span class="s0">handlers = sourceMap(handlers)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s0">handlers.node(node)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">handlers.result()</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">create$2 = </span><span class="s1">function </span><span class="s0">createConvertors(walk) {</span>
        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">fromPlainObject: </span><span class="s1">function</span><span class="s0">(ast) {</span>
                <span class="s0">walk(ast</span><span class="s2">, </span><span class="s0">{</span>
                    <span class="s0">enter: </span><span class="s1">function</span><span class="s0">(node) {</span>
                        <span class="s1">if </span><span class="s0">(node.children &amp;&amp; node.children </span><span class="s1">instanceof </span><span class="s0">List_1 === </span><span class="s1">false</span><span class="s0">) {</span>
                            <span class="s0">node.children = </span><span class="s1">new </span><span class="s0">List_1().fromArray(node.children)</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                <span class="s0">})</span><span class="s2">;</span>

                <span class="s1">return </span><span class="s0">ast</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">toPlainObject: </span><span class="s1">function</span><span class="s0">(ast) {</span>
                <span class="s0">walk(ast</span><span class="s2">, </span><span class="s0">{</span>
                    <span class="s0">leave: </span><span class="s1">function</span><span class="s0">(node) {</span>
                        <span class="s1">if </span><span class="s0">(node.children &amp;&amp; node.children </span><span class="s1">instanceof </span><span class="s0">List_1) {</span>
                            <span class="s0">node.children = node.children.toArray()</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                <span class="s0">})</span><span class="s2">;</span>

                <span class="s1">return </span><span class="s0">ast</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">hasOwnProperty$4 = Object.prototype.hasOwnProperty</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">noop$3 = </span><span class="s1">function</span><span class="s0">() {}</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">ensureFunction$1(value) {</span>
        <span class="s1">return typeof </span><span class="s0">value === </span><span class="s3">'function' </span><span class="s0">? value : noop$3</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">invokeForType(fn</span><span class="s2">, </span><span class="s0">type) {</span>
        <span class="s1">return function</span><span class="s0">(node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list) {</span>
            <span class="s1">if </span><span class="s0">(node.type === type) {</span>
                <span class="s0">fn.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">getWalkersFromStructure(name</span><span class="s2">, </span><span class="s0">nodeType) {</span>
        <span class="s1">var </span><span class="s0">structure = nodeType.structure</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">walkers = []</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">key </span><span class="s1">in </span><span class="s0">structure) {</span>
            <span class="s1">if </span><span class="s0">(hasOwnProperty$4.call(structure</span><span class="s2">, </span><span class="s0">key) === </span><span class="s1">false</span><span class="s0">) {</span>
                <span class="s1">continue</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">var </span><span class="s0">fieldTypes = structure[key]</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">walker = {</span>
                <span class="s0">name: key</span><span class="s2">,</span>
                <span class="s0">type: </span><span class="s1">false</span><span class="s2">,</span>
                <span class="s0">nullable: </span><span class="s1">false</span>
            <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(!Array.isArray(structure[key])) {</span>
                <span class="s0">fieldTypes = [structure[key]]</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; fieldTypes.length</span><span class="s2">; </span><span class="s0">i++) {</span>
                <span class="s1">var </span><span class="s0">fieldType = fieldTypes[i]</span><span class="s2">;</span>
                <span class="s1">if </span><span class="s0">(fieldType === </span><span class="s1">null</span><span class="s0">) {</span>
                    <span class="s0">walker.nullable = </span><span class="s1">true</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">fieldType === </span><span class="s3">'string'</span><span class="s0">) {</span>
                    <span class="s0">walker.type = </span><span class="s3">'node'</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(Array.isArray(fieldType)) {</span>
                    <span class="s0">walker.type = </span><span class="s3">'list'</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(walker.type) {</span>
                <span class="s0">walkers.push(walker)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(walkers.length) {</span>
            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">context: nodeType.walkContext</span><span class="s2">,</span>
                <span class="s0">fields: walkers</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return null</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">getTypesFromConfig(config) {</span>
        <span class="s1">var </span><span class="s0">types = {}</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">config.node) {</span>
            <span class="s1">if </span><span class="s0">(hasOwnProperty$4.call(config.node</span><span class="s2">, </span><span class="s0">name)) {</span>
                <span class="s1">var </span><span class="s0">nodeType = config.node[name]</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(!nodeType.structure) {</span>
                    <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Missed `structure` field in `' </span><span class="s0">+ name + </span><span class="s3">'` node type definition'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">types[name] = getWalkersFromStructure(name</span><span class="s2">, </span><span class="s0">nodeType)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">types</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">createTypeIterator(config</span><span class="s2">, </span><span class="s0">reverse) {</span>
        <span class="s1">var </span><span class="s0">fields = config.fields.slice()</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">contextName = config.context</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">useContext = </span><span class="s1">typeof </span><span class="s0">contextName === </span><span class="s3">'string'</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(reverse) {</span>
            <span class="s0">fields.reverse()</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return function</span><span class="s0">(node</span><span class="s2">, </span><span class="s0">context</span><span class="s2">, </span><span class="s0">walk</span><span class="s2">, </span><span class="s0">walkReducer) {</span>
            <span class="s1">var </span><span class="s0">prevContextValue</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(useContext) {</span>
                <span class="s0">prevContextValue = context[contextName]</span><span class="s2">;</span>
                <span class="s0">context[contextName] = node</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; fields.length</span><span class="s2">; </span><span class="s0">i++) {</span>
                <span class="s1">var </span><span class="s0">field = fields[i]</span><span class="s2">;</span>
                <span class="s1">var </span><span class="s0">ref = node[field.name]</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(!field.nullable || ref) {</span>
                    <span class="s1">if </span><span class="s0">(field.type === </span><span class="s3">'list'</span><span class="s0">) {</span>
                        <span class="s1">var </span><span class="s0">breakWalk = reverse</span>
                            <span class="s0">? ref.reduceRight(walkReducer</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span>
                            <span class="s0">: ref.reduce(walkReducer</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>

                        <span class="s1">if </span><span class="s0">(breakWalk) {</span>
                            <span class="s1">return true</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(walk(ref)) {</span>
                        <span class="s1">return true</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(useContext) {</span>
                <span class="s0">context[contextName] = prevContextValue</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">createFastTraveralMap(iterators) {</span>
        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">Atrule: {</span>
                <span class="s0">StyleSheet: iterators.StyleSheet</span><span class="s2">,</span>
                <span class="s0">Atrule: iterators.Atrule</span><span class="s2">,</span>
                <span class="s0">Rule: iterators.Rule</span><span class="s2">,</span>
                <span class="s0">Block: iterators.Block</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">Rule: {</span>
                <span class="s0">StyleSheet: iterators.StyleSheet</span><span class="s2">,</span>
                <span class="s0">Atrule: iterators.Atrule</span><span class="s2">,</span>
                <span class="s0">Rule: iterators.Rule</span><span class="s2">,</span>
                <span class="s0">Block: iterators.Block</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">Declaration: {</span>
                <span class="s0">StyleSheet: iterators.StyleSheet</span><span class="s2">,</span>
                <span class="s0">Atrule: iterators.Atrule</span><span class="s2">,</span>
                <span class="s0">Rule: iterators.Rule</span><span class="s2">,</span>
                <span class="s0">Block: iterators.Block</span><span class="s2">,</span>
                <span class="s0">DeclarationList: iterators.DeclarationList</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">create$3 = </span><span class="s1">function </span><span class="s0">createWalker(config) {</span>
        <span class="s1">var </span><span class="s0">types = getTypesFromConfig(config)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">iteratorsNatural = {}</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">iteratorsReverse = {}</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">breakWalk = Symbol(</span><span class="s3">'break-walk'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">skipNode = Symbol(</span><span class="s3">'skip-node'</span><span class="s0">)</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">name </span><span class="s1">in </span><span class="s0">types) {</span>
            <span class="s1">if </span><span class="s0">(hasOwnProperty$4.call(types</span><span class="s2">, </span><span class="s0">name) &amp;&amp; types[name] !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s0">iteratorsNatural[name] = createTypeIterator(types[name]</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">iteratorsReverse[name] = createTypeIterator(types[name]</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">fastTraversalIteratorsNatural = createFastTraveralMap(iteratorsNatural)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">fastTraversalIteratorsReverse = createFastTraveralMap(iteratorsReverse)</span><span class="s2">;</span>

        <span class="s1">var </span><span class="s0">walk = </span><span class="s1">function</span><span class="s0">(root</span><span class="s2">, </span><span class="s0">options) {</span>
            <span class="s1">function </span><span class="s0">walkNode(node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list) {</span>
                <span class="s1">var </span><span class="s0">enterRet = enter.call(context</span><span class="s2">, </span><span class="s0">node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(enterRet === breakWalk) {</span>
                    <span class="s1">debugger</span><span class="s2">;</span>
                    <span class="s1">return true</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">if </span><span class="s0">(enterRet === skipNode) {</span>
                    <span class="s1">return false</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">if </span><span class="s0">(iterators.hasOwnProperty(node.type)) {</span>
                    <span class="s1">if </span><span class="s0">(iterators[node.type](node</span><span class="s2">, </span><span class="s0">context</span><span class="s2">, </span><span class="s0">walkNode</span><span class="s2">, </span><span class="s0">walkReducer)) {</span>
                        <span class="s1">return true</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>

                <span class="s1">if </span><span class="s0">(leave.call(context</span><span class="s2">, </span><span class="s0">node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list) === breakWalk) {</span>
                    <span class="s1">return true</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">return false</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">var </span><span class="s0">walkReducer = (ret</span><span class="s2">, </span><span class="s0">data</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list) =&gt; ret || walkNode(data</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">enter = noop$3</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">leave = noop$3</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">iterators = iteratorsNatural</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">context = {</span>
                <span class="s1">break</span><span class="s0">: breakWalk</span><span class="s2">,</span>
                <span class="s0">skip: skipNode</span><span class="s2">,</span>

                <span class="s0">root: root</span><span class="s2">,</span>
                <span class="s0">stylesheet: </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s0">atrule: </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s0">atrulePrelude: </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s0">rule: </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s0">selector: </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s0">block: </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s0">declaration: </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s1">function</span><span class="s0">: </span><span class="s1">null</span>
            <span class="s0">}</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options === </span><span class="s3">'function'</span><span class="s0">) {</span>
                <span class="s0">enter = options</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else if </span><span class="s0">(options) {</span>
                <span class="s0">enter = ensureFunction$1(options.enter)</span><span class="s2">;</span>
                <span class="s0">leave = ensureFunction$1(options.leave)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(options.reverse) {</span>
                    <span class="s0">iterators = iteratorsReverse</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">if </span><span class="s0">(options.visit) {</span>
                    <span class="s1">if </span><span class="s0">(fastTraversalIteratorsNatural.hasOwnProperty(options.visit)) {</span>
                        <span class="s0">iterators = options.reverse</span>
                            <span class="s0">? fastTraversalIteratorsReverse[options.visit]</span>
                            <span class="s0">: fastTraversalIteratorsNatural[options.visit]</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(!types.hasOwnProperty(options.visit)) {</span>
                        <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Bad value `' </span><span class="s0">+ options.visit + </span><span class="s3">'` for `visit` option (should be: ' </span><span class="s0">+ Object.keys(types).join(</span><span class="s3">', '</span><span class="s0">) + </span><span class="s3">')'</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">enter = invokeForType(enter</span><span class="s2">, </span><span class="s0">options.visit)</span><span class="s2">;</span>
                    <span class="s0">leave = invokeForType(leave</span><span class="s2">, </span><span class="s0">options.visit)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(enter === noop$3 &amp;&amp; leave === noop$3) {</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s3">'Neither `enter` nor `leave` walker handler is set or both aren</span><span class="s2">\'</span><span class="s3">t a function'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">walkNode(root)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s0">walk.break = breakWalk</span><span class="s2">;</span>
        <span class="s0">walk.skip = skipNode</span><span class="s2">;</span>

        <span class="s0">walk.find = </span><span class="s1">function</span><span class="s0">(ast</span><span class="s2">, </span><span class="s0">fn) {</span>
            <span class="s1">var </span><span class="s0">found = </span><span class="s1">null</span><span class="s2">;</span>

            <span class="s0">walk(ast</span><span class="s2">, </span><span class="s1">function</span><span class="s0">(node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list) {</span>
                <span class="s1">if </span><span class="s0">(fn.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list)) {</span>
                    <span class="s0">found = node</span><span class="s2">;</span>
                    <span class="s1">return </span><span class="s0">breakWalk</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">})</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">found</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s0">walk.findLast = </span><span class="s1">function</span><span class="s0">(ast</span><span class="s2">, </span><span class="s0">fn) {</span>
            <span class="s1">var </span><span class="s0">found = </span><span class="s1">null</span><span class="s2">;</span>

            <span class="s0">walk(ast</span><span class="s2">, </span><span class="s0">{</span>
                <span class="s0">reverse: </span><span class="s1">true</span><span class="s2">,</span>
                <span class="s0">enter: </span><span class="s1">function</span><span class="s0">(node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list) {</span>
                    <span class="s1">if </span><span class="s0">(fn.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list)) {</span>
                        <span class="s0">found = node</span><span class="s2">;</span>
                        <span class="s1">return </span><span class="s0">breakWalk</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">})</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">found</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s0">walk.findAll = </span><span class="s1">function</span><span class="s0">(ast</span><span class="s2">, </span><span class="s0">fn) {</span>
            <span class="s1">var </span><span class="s0">found = []</span><span class="s2">;</span>

            <span class="s0">walk(ast</span><span class="s2">, </span><span class="s1">function</span><span class="s0">(node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list) {</span>
                <span class="s1">if </span><span class="s0">(fn.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">node</span><span class="s2">, </span><span class="s0">item</span><span class="s2">, </span><span class="s0">list)) {</span>
                    <span class="s0">found.push(node)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">})</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">found</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">walk</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">clone = </span><span class="s1">function </span><span class="s0">clone(node) {</span>
        <span class="s1">var </span><span class="s0">result = {}</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">key </span><span class="s1">in </span><span class="s0">node) {</span>
            <span class="s1">var </span><span class="s0">value = node[key]</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(value) {</span>
                <span class="s1">if </span><span class="s0">(Array.isArray(value) || value </span><span class="s1">instanceof </span><span class="s0">List_1) {</span>
                    <span class="s0">value = value.map(clone)</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(value.constructor === Object) {</span>
                    <span class="s0">value = clone(value)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s0">result[key] = value</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">const </span><span class="s0">hasOwnProperty$5 = Object.prototype.hasOwnProperty</span><span class="s2">;</span>
    <span class="s1">const </span><span class="s0">shape = {</span>
        <span class="s0">generic: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s0">types: appendOrAssign</span><span class="s2">,</span>
        <span class="s0">atrules: {</span>
            <span class="s0">prelude: appendOrAssignOrNull</span><span class="s2">,</span>
            <span class="s0">descriptors: appendOrAssignOrNull</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">properties: appendOrAssign</span><span class="s2">,</span>
        <span class="s0">parseContext: assign</span><span class="s2">,</span>
        <span class="s0">scope: deepAssign</span><span class="s2">,</span>
        <span class="s0">atrule: [</span><span class="s3">'parse'</span><span class="s0">]</span><span class="s2">,</span>
        <span class="s0">pseudo: [</span><span class="s3">'parse'</span><span class="s0">]</span><span class="s2">,</span>
        <span class="s0">node: [</span><span class="s3">'name'</span><span class="s2">, </span><span class="s3">'structure'</span><span class="s2">, </span><span class="s3">'parse'</span><span class="s2">, </span><span class="s3">'generate'</span><span class="s2">, </span><span class="s3">'walkContext'</span><span class="s0">]</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">isObject(value) {</span>
        <span class="s1">return </span><span class="s0">value &amp;&amp; value.constructor === Object</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">copy(value) {</span>
        <span class="s1">return </span><span class="s0">isObject(value)</span>
            <span class="s0">? Object.assign({}</span><span class="s2">, </span><span class="s0">value)</span>
            <span class="s0">: value</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">assign(dest</span><span class="s2">, </span><span class="s0">src) {</span>
        <span class="s1">return </span><span class="s0">Object.assign(dest</span><span class="s2">, </span><span class="s0">src)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">deepAssign(dest</span><span class="s2">, </span><span class="s0">src) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">const </span><span class="s0">key </span><span class="s1">in </span><span class="s0">src) {</span>
            <span class="s1">if </span><span class="s0">(hasOwnProperty$5.call(src</span><span class="s2">, </span><span class="s0">key)) {</span>
                <span class="s1">if </span><span class="s0">(isObject(dest[key])) {</span>
                    <span class="s0">deepAssign(dest[key]</span><span class="s2">, </span><span class="s0">copy(src[key]))</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">dest[key] = copy(src[key])</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">dest</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">append(a</span><span class="s2">, </span><span class="s0">b) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">b === </span><span class="s3">'string' </span><span class="s0">&amp;&amp; </span><span class="s5">/^\s*\|/</span><span class="s0">.test(b)) {</span>
            <span class="s1">return typeof </span><span class="s0">a === </span><span class="s3">'string'</span>
                <span class="s0">? a + b</span>
                <span class="s0">: b.replace(</span><span class="s5">/^\s*\|\s*/</span><span class="s2">, </span><span class="s3">''</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">b || </span><span class="s1">null</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">appendOrAssign(a</span><span class="s2">, </span><span class="s0">b) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">b === </span><span class="s3">'string'</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s0">append(a</span><span class="s2">, </span><span class="s0">b)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">const </span><span class="s0">result = Object.assign({}</span><span class="s2">, </span><span class="s0">a)</span><span class="s2">;</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s0">key </span><span class="s1">in </span><span class="s0">b) {</span>
            <span class="s1">if </span><span class="s0">(hasOwnProperty$5.call(b</span><span class="s2">, </span><span class="s0">key)) {</span>
                <span class="s0">result[key] = append(hasOwnProperty$5.call(a</span><span class="s2">, </span><span class="s0">key) ? a[key] : undefined</span><span class="s2">, </span><span class="s0">b[key])</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">result</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">appendOrAssignOrNull(a</span><span class="s2">, </span><span class="s0">b) {</span>
        <span class="s1">const </span><span class="s0">result = appendOrAssign(a</span><span class="s2">, </span><span class="s0">b)</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">!isObject(result) || Object.keys(result).length</span>
            <span class="s0">? result</span>
            <span class="s0">: </span><span class="s1">null</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">mix(dest</span><span class="s2">, </span><span class="s0">src</span><span class="s2">, </span><span class="s0">shape) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">const </span><span class="s0">key </span><span class="s1">in </span><span class="s0">shape) {</span>
            <span class="s1">if </span><span class="s0">(hasOwnProperty$5.call(shape</span><span class="s2">, </span><span class="s0">key) === </span><span class="s1">false</span><span class="s0">) {</span>
                <span class="s1">continue</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(shape[key] === </span><span class="s1">true</span><span class="s0">) {</span>
                <span class="s1">if </span><span class="s0">(key </span><span class="s1">in </span><span class="s0">src) {</span>
                    <span class="s1">if </span><span class="s0">(hasOwnProperty$5.call(src</span><span class="s2">, </span><span class="s0">key)) {</span>
                        <span class="s0">dest[key] = copy(src[key])</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else if </span><span class="s0">(shape[key]) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">shape[key] === </span><span class="s3">'function'</span><span class="s0">) {</span>
                    <span class="s1">const </span><span class="s0">fn = shape[key]</span><span class="s2">;</span>
                    <span class="s0">dest[key] = fn({}</span><span class="s2">, </span><span class="s0">dest[key])</span><span class="s2">;</span>
                    <span class="s0">dest[key] = fn(dest[key] || {}</span><span class="s2">, </span><span class="s0">src[key])</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(isObject(shape[key])) {</span>
                    <span class="s1">const </span><span class="s0">result = {}</span><span class="s2">;</span>

                    <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s0">name </span><span class="s1">in </span><span class="s0">dest[key]) {</span>
                        <span class="s0">result[name] = mix({}</span><span class="s2">, </span><span class="s0">dest[key][name]</span><span class="s2">, </span><span class="s0">shape[key])</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s0">name </span><span class="s1">in </span><span class="s0">src[key]) {</span>
                        <span class="s0">result[name] = mix(result[name] || {}</span><span class="s2">, </span><span class="s0">src[key][name]</span><span class="s2">, </span><span class="s0">shape[key])</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">dest[key] = result</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(Array.isArray(shape[key])) {</span>
                    <span class="s1">const </span><span class="s0">res = {}</span><span class="s2">;</span>
                    <span class="s1">const </span><span class="s0">innerShape = shape[key].reduce(</span><span class="s1">function</span><span class="s0">(s</span><span class="s2">, </span><span class="s0">k) {</span>
                        <span class="s0">s[k] = </span><span class="s1">true</span><span class="s2">;</span>
                        <span class="s1">return </span><span class="s0">s</span><span class="s2">;</span>
                    <span class="s0">}</span><span class="s2">, </span><span class="s0">{})</span><span class="s2">;</span>

                    <span class="s1">for </span><span class="s0">(</span><span class="s1">const </span><span class="s0">[name</span><span class="s2">, </span><span class="s0">value] of Object.entries(dest[key] || {})) {</span>
                        <span class="s0">res[name] = {}</span><span class="s2">;</span>
                        <span class="s1">if </span><span class="s0">(value) {</span>
                            <span class="s0">mix(res[name]</span><span class="s2">, </span><span class="s0">value</span><span class="s2">, </span><span class="s0">innerShape)</span><span class="s2">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>

                    <span class="s1">for </span><span class="s0">(</span><span class="s1">const </span><span class="s0">name </span><span class="s1">in </span><span class="s0">src[key]) {</span>
                        <span class="s1">if </span><span class="s0">(hasOwnProperty$5.call(src[key]</span><span class="s2">, </span><span class="s0">name)) {</span>
                            <span class="s1">if </span><span class="s0">(!res[name]) {</span>
                                <span class="s0">res[name] = {}</span><span class="s2">;</span>
                            <span class="s0">}</span>

                            <span class="s1">if </span><span class="s0">(src[key] &amp;&amp; src[key][name]) {</span>
                                <span class="s0">mix(res[name]</span><span class="s2">, </span><span class="s0">src[key][name]</span><span class="s2">, </span><span class="s0">innerShape)</span><span class="s2">;</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>

                    <span class="s0">dest[key] = res</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s0">dest</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">mix_1 = (dest</span><span class="s2">, </span><span class="s0">src) =&gt; mix(dest</span><span class="s2">, </span><span class="s0">src</span><span class="s2">, </span><span class="s0">shape)</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">createSyntax(config) {</span>
        <span class="s1">var </span><span class="s0">parse = create(config)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">walk = create$3(config)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">generate = create$1(config)</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">convert = create$2(walk)</span><span class="s2">;</span>

        <span class="s1">var </span><span class="s0">syntax = {</span>
            <span class="s0">List: List_1</span><span class="s2">,</span>
            <span class="s0">SyntaxError: _SyntaxError</span><span class="s2">,</span>
            <span class="s0">TokenStream: TokenStream_1</span><span class="s2">,</span>
            <span class="s0">Lexer: Lexer_1</span><span class="s2">,</span>

            <span class="s0">vendorPrefix: names.vendorPrefix</span><span class="s2">,</span>
            <span class="s0">keyword: names.keyword</span><span class="s2">,</span>
            <span class="s0">property: names.property</span><span class="s2">,</span>
            <span class="s0">isCustomProperty: names.isCustomProperty</span><span class="s2">,</span>

            <span class="s0">definitionSyntax: definitionSyntax</span><span class="s2">,</span>
            <span class="s0">lexer: </span><span class="s1">null</span><span class="s2">,</span>
            <span class="s0">createLexer: </span><span class="s1">function</span><span class="s0">(config) {</span>
                <span class="s1">return new </span><span class="s0">Lexer_1(config</span><span class="s2">, </span><span class="s0">syntax</span><span class="s2">, </span><span class="s0">syntax.lexer.structure)</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>

            <span class="s0">tokenize: tokenizer</span><span class="s2">,</span>
            <span class="s0">parse: parse</span><span class="s2">,</span>
            <span class="s0">walk: walk</span><span class="s2">,</span>
            <span class="s0">generate: generate</span><span class="s2">,</span>

            <span class="s0">find: walk.find</span><span class="s2">,</span>
            <span class="s0">findLast: walk.findLast</span><span class="s2">,</span>
            <span class="s0">findAll: walk.findAll</span><span class="s2">,</span>

            <span class="s0">clone: clone</span><span class="s2">,</span>
            <span class="s0">fromPlainObject: convert.fromPlainObject</span><span class="s2">,</span>
            <span class="s0">toPlainObject: convert.toPlainObject</span><span class="s2">,</span>

            <span class="s0">createSyntax: </span><span class="s1">function</span><span class="s0">(config) {</span>
                <span class="s1">return </span><span class="s0">createSyntax(mix_1({}</span><span class="s2">, </span><span class="s0">config))</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">fork: </span><span class="s1">function</span><span class="s0">(extension) {</span>
                <span class="s1">var </span><span class="s0">base = mix_1({}</span><span class="s2">, </span><span class="s0">config)</span><span class="s2">; </span><span class="s4">// copy of config</span>
                <span class="s1">return </span><span class="s0">createSyntax(</span>
                    <span class="s1">typeof </span><span class="s0">extension === </span><span class="s3">'function'</span>
                        <span class="s0">? extension(base</span><span class="s2">, </span><span class="s0">Object.assign)</span>
                        <span class="s0">: mix_1(base</span><span class="s2">, </span><span class="s0">extension)</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">;</span>

        <span class="s0">syntax.lexer = </span><span class="s1">new </span><span class="s0">Lexer_1({</span>
            <span class="s0">generic: </span><span class="s1">true</span><span class="s2">,</span>
            <span class="s0">types: config.types</span><span class="s2">,</span>
            <span class="s0">atrules: config.atrules</span><span class="s2">,</span>
            <span class="s0">properties: config.properties</span><span class="s2">,</span>
            <span class="s0">node: config.node</span>
        <span class="s0">}</span><span class="s2">, </span><span class="s0">syntax)</span><span class="s2">;</span>

        <span class="s1">return </span><span class="s0">syntax</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s0">create_1 = </span><span class="s1">function</span><span class="s0">(config) {</span>
        <span class="s1">return </span><span class="s0">createSyntax(mix_1({}</span><span class="s2">, </span><span class="s0">config))</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">create$4 = {</span>
    	<span class="s0">create: create_1</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">data = {</span>
        <span class="s3">&quot;generic&quot;</span><span class="s0">: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s3">&quot;types&quot;</span><span class="s0">: {</span>
            <span class="s3">&quot;absolute-size&quot;</span><span class="s0">: </span><span class="s3">&quot;xx-small|x-small|small|medium|large|x-large|xx-large|xxx-large&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;alpha-value&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;angle-percentage&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;angle&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;angular-color-hint&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;angle-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;angular-color-stop&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&amp;&amp;&lt;color-stop-angle&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;angular-color-stop-list&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;angular-color-stop&gt; [, &lt;angular-color-hint&gt;]?]# , &lt;angular-color-stop&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;animateable-feature&quot;</span><span class="s0">: </span><span class="s3">&quot;scroll-position|contents|&lt;custom-ident&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;attachment&quot;</span><span class="s0">: </span><span class="s3">&quot;scroll|fixed|local&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;attr()&quot;</span><span class="s0">: </span><span class="s3">&quot;attr( &lt;attr-name&gt; &lt;type-or-unit&gt;? [, &lt;attr-fallback&gt;]? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;attr-matcher&quot;</span><span class="s0">: </span><span class="s3">&quot;['~'|'|'|'^'|'$'|'*']? '='&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;attr-modifier&quot;</span><span class="s0">: </span><span class="s3">&quot;i|s&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;attribute-selector&quot;</span><span class="s0">: </span><span class="s3">&quot;'[' &lt;wq-name&gt; ']'|'[' &lt;wq-name&gt; &lt;attr-matcher&gt; [&lt;string-token&gt;|&lt;ident-token&gt;] &lt;attr-modifier&gt;? ']'&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;auto-repeat&quot;</span><span class="s0">: </span><span class="s3">&quot;repeat( [auto-fill|auto-fit] , [&lt;line-names&gt;? &lt;fixed-size&gt;]+ &lt;line-names&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;auto-track-list&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;line-names&gt;? [&lt;fixed-size&gt;|&lt;fixed-repeat&gt;]]* &lt;line-names&gt;? &lt;auto-repeat&gt; [&lt;line-names&gt;? [&lt;fixed-size&gt;|&lt;fixed-repeat&gt;]]* &lt;line-names&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;baseline-position&quot;</span><span class="s0">: </span><span class="s3">&quot;[first|last]? baseline&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;basic-shape&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;inset()&gt;|&lt;circle()&gt;|&lt;ellipse()&gt;|&lt;polygon()&gt;|&lt;path()&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;bg-image&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;image&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;bg-layer&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;bg-image&gt;||&lt;bg-position&gt; [/ &lt;bg-size&gt;]?||&lt;repeat-style&gt;||&lt;attachment&gt;||&lt;box&gt;||&lt;box&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;bg-position&quot;</span><span class="s0">: </span><span class="s3">&quot;[[left|center|right|top|bottom|&lt;length-percentage&gt;]|[left|center|right|&lt;length-percentage&gt;] [top|center|bottom|&lt;length-percentage&gt;]|[center|[left|right] &lt;length-percentage&gt;?]&amp;&amp;[center|[top|bottom] &lt;length-percentage&gt;?]]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;bg-size&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length-percentage&gt;|auto]{1,2}|cover|contain&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;blur()&quot;</span><span class="s0">: </span><span class="s3">&quot;blur( &lt;length&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;blend-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|multiply|screen|overlay|darken|lighten|color-dodge|color-burn|hard-light|soft-light|difference|exclusion|hue|saturation|color|luminosity&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box&quot;</span><span class="s0">: </span><span class="s3">&quot;border-box|padding-box|content-box&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;brightness()&quot;</span><span class="s0">: </span><span class="s3">&quot;brightness( &lt;number-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;calc()&quot;</span><span class="s0">: </span><span class="s3">&quot;calc( &lt;calc-sum&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;calc-sum&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;calc-product&gt; [['+'|'-'] &lt;calc-product&gt;]*&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;calc-product&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;calc-value&gt; ['*' &lt;calc-value&gt;|'/' &lt;number&gt;]*&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;calc-value&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number&gt;|&lt;dimension&gt;|&lt;percentage&gt;|( &lt;calc-sum&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;cf-final-image&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;image&gt;|&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;cf-mixing-image&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;percentage&gt;?&amp;&amp;&lt;image&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;circle()&quot;</span><span class="s0">: </span><span class="s3">&quot;circle( [&lt;shape-radius&gt;]? [at &lt;position&gt;]? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;clamp()&quot;</span><span class="s0">: </span><span class="s3">&quot;clamp( &lt;calc-sum&gt;#{3} )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;class-selector&quot;</span><span class="s0">: </span><span class="s3">&quot;'.' &lt;ident-token&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;clip-source&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;url&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;rgb()&gt;|&lt;rgba()&gt;|&lt;hsl()&gt;|&lt;hsla()&gt;|&lt;hex-color&gt;|&lt;named-color&gt;|currentcolor|&lt;deprecated-system-color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;color-stop&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color-stop-length&gt;|&lt;color-stop-angle&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;color-stop-angle&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;angle-percentage&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;color-stop-length&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;color-stop-list&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;linear-color-stop&gt; [, &lt;linear-color-hint&gt;]?]# , &lt;linear-color-stop&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;combinator&quot;</span><span class="s0">: </span><span class="s3">&quot;'&gt;'|'+'|'~'|['||']&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;common-lig-values&quot;</span><span class="s0">: </span><span class="s3">&quot;[common-ligatures|no-common-ligatures]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;compat-auto&quot;</span><span class="s0">: </span><span class="s3">&quot;searchfield|textarea|push-button|slider-horizontal|checkbox|radio|square-button|menulist|listbox|meter|progress-bar|button&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;composite-style&quot;</span><span class="s0">: </span><span class="s3">&quot;clear|copy|source-over|source-in|source-out|source-atop|destination-over|destination-in|destination-out|destination-atop|xor&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;compositing-operator&quot;</span><span class="s0">: </span><span class="s3">&quot;add|subtract|intersect|exclude&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;compound-selector&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;type-selector&gt;? &lt;subclass-selector&gt;* [&lt;pseudo-element-selector&gt; &lt;pseudo-class-selector&gt;*]*]!&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;compound-selector-list&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;compound-selector&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;complex-selector&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;compound-selector&gt; [&lt;combinator&gt;? &lt;compound-selector&gt;]*&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;complex-selector-list&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;complex-selector&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;conic-gradient()&quot;</span><span class="s0">: </span><span class="s3">&quot;conic-gradient( [from &lt;angle&gt;]? [at &lt;position&gt;]? , &lt;angular-color-stop-list&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;contextual-alt-values&quot;</span><span class="s0">: </span><span class="s3">&quot;[contextual|no-contextual]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;content-distribution&quot;</span><span class="s0">: </span><span class="s3">&quot;space-between|space-around|space-evenly|stretch&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;content-list&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;string&gt;|contents|&lt;image&gt;|&lt;quote&gt;|&lt;target&gt;|&lt;leader()&gt;|&lt;attr()&gt;|counter( &lt;ident&gt; , &lt;'list-style-type'&gt;? )]+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;content-position&quot;</span><span class="s0">: </span><span class="s3">&quot;center|start|end|flex-start|flex-end&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;content-replacement&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;image&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;contrast()&quot;</span><span class="s0">: </span><span class="s3">&quot;contrast( [&lt;number-percentage&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;counter()&quot;</span><span class="s0">: </span><span class="s3">&quot;counter( &lt;custom-ident&gt; , &lt;counter-style&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;counter-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;counter-style-name&gt;|symbols( )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;counter-style-name&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;custom-ident&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;counters()&quot;</span><span class="s0">: </span><span class="s3">&quot;counters( &lt;custom-ident&gt; , &lt;string&gt; , &lt;counter-style&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;cross-fade()&quot;</span><span class="s0">: </span><span class="s3">&quot;cross-fade( &lt;cf-mixing-image&gt; , &lt;cf-final-image&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;cubic-bezier-timing-function&quot;</span><span class="s0">: </span><span class="s3">&quot;ease|ease-in|ease-out|ease-in-out|cubic-bezier( &lt;number [0,1]&gt; , &lt;number&gt; , &lt;number [0,1]&gt; , &lt;number&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;deprecated-system-color&quot;</span><span class="s0">: </span><span class="s3">&quot;ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;discretionary-lig-values&quot;</span><span class="s0">: </span><span class="s3">&quot;[discretionary-ligatures|no-discretionary-ligatures]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;display-box&quot;</span><span class="s0">: </span><span class="s3">&quot;contents|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;display-inside&quot;</span><span class="s0">: </span><span class="s3">&quot;flow|flow-root|table|flex|grid|ruby&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;display-internal&quot;</span><span class="s0">: </span><span class="s3">&quot;table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption|ruby-base|ruby-text|ruby-base-container|ruby-text-container&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;display-legacy&quot;</span><span class="s0">: </span><span class="s3">&quot;inline-block|inline-list-item|inline-table|inline-flex|inline-grid&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;display-listitem&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;display-outside&gt;?&amp;&amp;[flow|flow-root]?&amp;&amp;list-item&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;display-outside&quot;</span><span class="s0">: </span><span class="s3">&quot;block|inline|run-in&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;drop-shadow()&quot;</span><span class="s0">: </span><span class="s3">&quot;drop-shadow( &lt;length&gt;{2,3} &lt;color&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;east-asian-variant-values&quot;</span><span class="s0">: </span><span class="s3">&quot;[jis78|jis83|jis90|jis04|simplified|traditional]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;east-asian-width-values&quot;</span><span class="s0">: </span><span class="s3">&quot;[full-width|proportional-width]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;element()&quot;</span><span class="s0">: </span><span class="s3">&quot;element( &lt;custom-ident&gt; , [first|start|last|first-except]? )|element( &lt;id-selector&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;ellipse()&quot;</span><span class="s0">: </span><span class="s3">&quot;ellipse( [&lt;shape-radius&gt;{2}]? [at &lt;position&gt;]? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;ending-shape&quot;</span><span class="s0">: </span><span class="s3">&quot;circle|ellipse&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;env()&quot;</span><span class="s0">: </span><span class="s3">&quot;env( &lt;custom-ident&gt; , &lt;declaration-value&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;explicit-track-list&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;line-names&gt;? &lt;track-size&gt;]+ &lt;line-names&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;family-name&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;string&gt;|&lt;custom-ident&gt;+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;feature-tag-value&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;string&gt; [&lt;integer&gt;|on|off]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;feature-type&quot;</span><span class="s0">: </span><span class="s3">&quot;@stylistic|@historical-forms|@styleset|@character-variant|@swash|@ornaments|@annotation&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;feature-value-block&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;feature-type&gt; '{' &lt;feature-value-declaration-list&gt; '}'&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;feature-value-block-list&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;feature-value-block&gt;+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;feature-value-declaration&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;custom-ident&gt; : &lt;integer&gt;+ ;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;feature-value-declaration-list&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;feature-value-declaration&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;feature-value-name&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;custom-ident&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;fill-rule&quot;</span><span class="s0">: </span><span class="s3">&quot;nonzero|evenodd&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;filter-function&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;blur()&gt;|&lt;brightness()&gt;|&lt;contrast()&gt;|&lt;drop-shadow()&gt;|&lt;grayscale()&gt;|&lt;hue-rotate()&gt;|&lt;invert()&gt;|&lt;opacity()&gt;|&lt;saturate()&gt;|&lt;sepia()&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;filter-function-list&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;filter-function&gt;|&lt;url&gt;]+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;final-bg-layer&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'background-color'&gt;||&lt;bg-image&gt;||&lt;bg-position&gt; [/ &lt;bg-size&gt;]?||&lt;repeat-style&gt;||&lt;attachment&gt;||&lt;box&gt;||&lt;box&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;fit-content()&quot;</span><span class="s0">: </span><span class="s3">&quot;fit-content( [&lt;length&gt;|&lt;percentage&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;fixed-breadth&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;fixed-repeat&quot;</span><span class="s0">: </span><span class="s3">&quot;repeat( [&lt;positive-integer&gt;] , [&lt;line-names&gt;? &lt;fixed-size&gt;]+ &lt;line-names&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;fixed-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;fixed-breadth&gt;|minmax( &lt;fixed-breadth&gt; , &lt;track-breadth&gt; )|minmax( &lt;inflexible-breadth&gt; , &lt;fixed-breadth&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-stretch-absolute&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-variant-css21&quot;</span><span class="s0">: </span><span class="s3">&quot;[normal|small-caps]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-weight-absolute&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|bold|&lt;number [1,1000]&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;frequency-percentage&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;frequency&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;general-enclosed&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;function-token&gt; &lt;any-value&gt; )]|( &lt;ident&gt; &lt;any-value&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;generic-family&quot;</span><span class="s0">: </span><span class="s3">&quot;serif|sans-serif|cursive|fantasy|monospace|-apple-system&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;generic-name&quot;</span><span class="s0">: </span><span class="s3">&quot;serif|sans-serif|cursive|fantasy|monospace&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;geometry-box&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;shape-box&gt;|fill-box|stroke-box|view-box&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;gradient&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;linear-gradient()&gt;|&lt;repeating-linear-gradient()&gt;|&lt;radial-gradient()&gt;|&lt;repeating-radial-gradient()&gt;|&lt;conic-gradient()&gt;|&lt;-legacy-gradient&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grayscale()&quot;</span><span class="s0">: </span><span class="s3">&quot;grayscale( &lt;number-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-line&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;custom-ident&gt;|[&lt;integer&gt;&amp;&amp;&lt;custom-ident&gt;?]|[span&amp;&amp;[&lt;integer&gt;||&lt;custom-ident&gt;]]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;historical-lig-values&quot;</span><span class="s0">: </span><span class="s3">&quot;[historical-ligatures|no-historical-ligatures]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;hsl()&quot;</span><span class="s0">: </span><span class="s3">&quot;hsl( &lt;hue&gt; &lt;percentage&gt; &lt;percentage&gt; [/ &lt;alpha-value&gt;]? )|hsl( &lt;hue&gt; , &lt;percentage&gt; , &lt;percentage&gt; , &lt;alpha-value&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;hsla()&quot;</span><span class="s0">: </span><span class="s3">&quot;hsla( &lt;hue&gt; &lt;percentage&gt; &lt;percentage&gt; [/ &lt;alpha-value&gt;]? )|hsla( &lt;hue&gt; , &lt;percentage&gt; , &lt;percentage&gt; , &lt;alpha-value&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;hue&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number&gt;|&lt;angle&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;hue-rotate()&quot;</span><span class="s0">: </span><span class="s3">&quot;hue-rotate( &lt;angle&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;image&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;url&gt;|&lt;image()&gt;|&lt;image-set()&gt;|&lt;element()&gt;|&lt;paint()&gt;|&lt;cross-fade()&gt;|&lt;gradient&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;image()&quot;</span><span class="s0">: </span><span class="s3">&quot;image( &lt;image-tags&gt;? [&lt;image-src&gt;? , &lt;color&gt;?]! )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;image-set()&quot;</span><span class="s0">: </span><span class="s3">&quot;image-set( &lt;image-set-option&gt;# )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;image-set-option&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;image&gt;|&lt;string&gt;] &lt;resolution&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;image-src&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;url&gt;|&lt;string&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;image-tags&quot;</span><span class="s0">: </span><span class="s3">&quot;ltr|rtl&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;inflexible-breadth&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;|min-content|max-content|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;inset()&quot;</span><span class="s0">: </span><span class="s3">&quot;inset( &lt;length-percentage&gt;{1,4} [round &lt;'border-radius'&gt;]? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;invert()&quot;</span><span class="s0">: </span><span class="s3">&quot;invert( &lt;number-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;keyframes-name&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;custom-ident&gt;|&lt;string&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;keyframe-block&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;keyframe-selector&gt;# { &lt;declaration-list&gt; }&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;keyframe-block-list&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;keyframe-block&gt;+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;keyframe-selector&quot;</span><span class="s0">: </span><span class="s3">&quot;from|to|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;leader()&quot;</span><span class="s0">: </span><span class="s3">&quot;leader( &lt;leader-type&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;leader-type&quot;</span><span class="s0">: </span><span class="s3">&quot;dotted|solid|space|&lt;string&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;length-percentage&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;line-names&quot;</span><span class="s0">: </span><span class="s3">&quot;'[' &lt;custom-ident&gt;* ']'&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;line-name-list&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;line-names&gt;|&lt;name-repeat&gt;]+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;line-style&quot;</span><span class="s0">: </span><span class="s3">&quot;none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;line-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|thin|medium|thick&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;linear-color-hint&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;linear-color-stop&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt; &lt;color-stop-length&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;linear-gradient()&quot;</span><span class="s0">: </span><span class="s3">&quot;linear-gradient( [&lt;angle&gt;|to &lt;side-or-corner&gt;]? , &lt;color-stop-list&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-layer&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;mask-reference&gt;||&lt;position&gt; [/ &lt;bg-size&gt;]?||&lt;repeat-style&gt;||&lt;geometry-box&gt;||[&lt;geometry-box&gt;|no-clip]||&lt;compositing-operator&gt;||&lt;masking-mode&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-position&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length-percentage&gt;|left|center|right] [&lt;length-percentage&gt;|top|center|bottom]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-reference&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;image&gt;|&lt;mask-source&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-source&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;url&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;masking-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;alpha|luminance|match-source&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;matrix()&quot;</span><span class="s0">: </span><span class="s3">&quot;matrix( &lt;number&gt;#{6} )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;matrix3d()&quot;</span><span class="s0">: </span><span class="s3">&quot;matrix3d( &lt;number&gt;#{16} )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;max()&quot;</span><span class="s0">: </span><span class="s3">&quot;max( &lt;calc-sum&gt;# )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;media-and&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;media-in-parens&gt; [and &lt;media-in-parens&gt;]+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;media-condition&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;media-not&gt;|&lt;media-and&gt;|&lt;media-or&gt;|&lt;media-in-parens&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;media-condition-without-or&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;media-not&gt;|&lt;media-and&gt;|&lt;media-in-parens&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;media-feature&quot;</span><span class="s0">: </span><span class="s3">&quot;( [&lt;mf-plain&gt;|&lt;mf-boolean&gt;|&lt;mf-range&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;media-in-parens&quot;</span><span class="s0">: </span><span class="s3">&quot;( &lt;media-condition&gt; )|&lt;media-feature&gt;|&lt;general-enclosed&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;media-not&quot;</span><span class="s0">: </span><span class="s3">&quot;not &lt;media-in-parens&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;media-or&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;media-in-parens&gt; [or &lt;media-in-parens&gt;]+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;media-query&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;media-condition&gt;|[not|only]? &lt;media-type&gt; [and &lt;media-condition-without-or&gt;]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;media-query-list&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;media-query&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;media-type&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;ident&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mf-boolean&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;mf-name&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mf-name&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;ident&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mf-plain&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;mf-name&gt; : &lt;mf-value&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mf-range&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;mf-name&gt; ['&lt;'|'&gt;']? '='? &lt;mf-value&gt;|&lt;mf-value&gt; ['&lt;'|'&gt;']? '='? &lt;mf-name&gt;|&lt;mf-value&gt; '&lt;' '='? &lt;mf-name&gt; '&lt;' '='? &lt;mf-value&gt;|&lt;mf-value&gt; '&gt;' '='? &lt;mf-name&gt; '&gt;' '='? &lt;mf-value&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mf-value&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number&gt;|&lt;dimension&gt;|&lt;ident&gt;|&lt;ratio&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;min()&quot;</span><span class="s0">: </span><span class="s3">&quot;min( &lt;calc-sum&gt;# )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;minmax()&quot;</span><span class="s0">: </span><span class="s3">&quot;minmax( [&lt;length&gt;|&lt;percentage&gt;|min-content|max-content|auto] , [&lt;length&gt;|&lt;percentage&gt;|&lt;flex&gt;|min-content|max-content|auto] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;named-color&quot;</span><span class="s0">: </span><span class="s3">&quot;transparent|aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen|&lt;-non-standard-color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;namespace-prefix&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;ident&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;ns-prefix&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;ident-token&gt;|'*']? '|'&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;number-percentage&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;numeric-figure-values&quot;</span><span class="s0">: </span><span class="s3">&quot;[lining-nums|oldstyle-nums]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;numeric-fraction-values&quot;</span><span class="s0">: </span><span class="s3">&quot;[diagonal-fractions|stacked-fractions]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;numeric-spacing-values&quot;</span><span class="s0">: </span><span class="s3">&quot;[proportional-nums|tabular-nums]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;nth&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;an-plus-b&gt;|even|odd&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;opacity()&quot;</span><span class="s0">: </span><span class="s3">&quot;opacity( [&lt;number-percentage&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overflow-position&quot;</span><span class="s0">: </span><span class="s3">&quot;unsafe|safe&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;outline-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;page-body&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;declaration&gt;? [; &lt;page-body&gt;]?|&lt;page-margin-box&gt; &lt;page-body&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;page-margin-box&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;page-margin-box-type&gt; '{' &lt;declaration-list&gt; '}'&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;page-margin-box-type&quot;</span><span class="s0">: </span><span class="s3">&quot;@top-left-corner|@top-left|@top-center|@top-right|@top-right-corner|@bottom-left-corner|@bottom-left|@bottom-center|@bottom-right|@bottom-right-corner|@left-top|@left-middle|@left-bottom|@right-top|@right-middle|@right-bottom&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;page-selector-list&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;page-selector&gt;#]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;page-selector&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;pseudo-page&gt;+|&lt;ident&gt; &lt;pseudo-page&gt;*&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;path()&quot;</span><span class="s0">: </span><span class="s3">&quot;path( [&lt;fill-rule&gt; ,]? &lt;string&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;paint()&quot;</span><span class="s0">: </span><span class="s3">&quot;paint( &lt;ident&gt; , &lt;declaration-value&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;perspective()&quot;</span><span class="s0">: </span><span class="s3">&quot;perspective( &lt;length&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;polygon()&quot;</span><span class="s0">: </span><span class="s3">&quot;polygon( &lt;fill-rule&gt;? , [&lt;length-percentage&gt; &lt;length-percentage&gt;]# )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;position&quot;</span><span class="s0">: </span><span class="s3">&quot;[[left|center|right]||[top|center|bottom]|[left|center|right|&lt;length-percentage&gt;] [top|center|bottom|&lt;length-percentage&gt;]?|[[left|right] &lt;length-percentage&gt;]&amp;&amp;[[top|bottom] &lt;length-percentage&gt;]]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;pseudo-class-selector&quot;</span><span class="s0">: </span><span class="s3">&quot;':' &lt;ident-token&gt;|':' &lt;function-token&gt; &lt;any-value&gt; ')'&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;pseudo-element-selector&quot;</span><span class="s0">: </span><span class="s3">&quot;':' &lt;pseudo-class-selector&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;pseudo-page&quot;</span><span class="s0">: </span><span class="s3">&quot;: [left|right|first|blank]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;quote&quot;</span><span class="s0">: </span><span class="s3">&quot;open-quote|close-quote|no-open-quote|no-close-quote&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;radial-gradient()&quot;</span><span class="s0">: </span><span class="s3">&quot;radial-gradient( [&lt;ending-shape&gt;||&lt;size&gt;]? [at &lt;position&gt;]? , &lt;color-stop-list&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;relative-selector&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;combinator&gt;? &lt;complex-selector&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;relative-selector-list&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;relative-selector&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;relative-size&quot;</span><span class="s0">: </span><span class="s3">&quot;larger|smaller&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;repeat-style&quot;</span><span class="s0">: </span><span class="s3">&quot;repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;repeating-linear-gradient()&quot;</span><span class="s0">: </span><span class="s3">&quot;repeating-linear-gradient( [&lt;angle&gt;|to &lt;side-or-corner&gt;]? , &lt;color-stop-list&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;repeating-radial-gradient()&quot;</span><span class="s0">: </span><span class="s3">&quot;repeating-radial-gradient( [&lt;ending-shape&gt;||&lt;size&gt;]? [at &lt;position&gt;]? , &lt;color-stop-list&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;rgb()&quot;</span><span class="s0">: </span><span class="s3">&quot;rgb( &lt;percentage&gt;{3} [/ &lt;alpha-value&gt;]? )|rgb( &lt;number&gt;{3} [/ &lt;alpha-value&gt;]? )|rgb( &lt;percentage&gt;#{3} , &lt;alpha-value&gt;? )|rgb( &lt;number&gt;#{3} , &lt;alpha-value&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;rgba()&quot;</span><span class="s0">: </span><span class="s3">&quot;rgba( &lt;percentage&gt;{3} [/ &lt;alpha-value&gt;]? )|rgba( &lt;number&gt;{3} [/ &lt;alpha-value&gt;]? )|rgba( &lt;percentage&gt;#{3} , &lt;alpha-value&gt;? )|rgba( &lt;number&gt;#{3} , &lt;alpha-value&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;rotate()&quot;</span><span class="s0">: </span><span class="s3">&quot;rotate( [&lt;angle&gt;|&lt;zero&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;rotate3d()&quot;</span><span class="s0">: </span><span class="s3">&quot;rotate3d( &lt;number&gt; , &lt;number&gt; , &lt;number&gt; , [&lt;angle&gt;|&lt;zero&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;rotateX()&quot;</span><span class="s0">: </span><span class="s3">&quot;rotateX( [&lt;angle&gt;|&lt;zero&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;rotateY()&quot;</span><span class="s0">: </span><span class="s3">&quot;rotateY( [&lt;angle&gt;|&lt;zero&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;rotateZ()&quot;</span><span class="s0">: </span><span class="s3">&quot;rotateZ( [&lt;angle&gt;|&lt;zero&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;saturate()&quot;</span><span class="s0">: </span><span class="s3">&quot;saturate( &lt;number-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scale()&quot;</span><span class="s0">: </span><span class="s3">&quot;scale( &lt;number&gt; , &lt;number&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scale3d()&quot;</span><span class="s0">: </span><span class="s3">&quot;scale3d( &lt;number&gt; , &lt;number&gt; , &lt;number&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scaleX()&quot;</span><span class="s0">: </span><span class="s3">&quot;scaleX( &lt;number&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scaleY()&quot;</span><span class="s0">: </span><span class="s3">&quot;scaleY( &lt;number&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scaleZ()&quot;</span><span class="s0">: </span><span class="s3">&quot;scaleZ( &lt;number&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;self-position&quot;</span><span class="s0">: </span><span class="s3">&quot;center|start|end|self-start|self-end|flex-start|flex-end&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;shape-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;|closest-side|farthest-side&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;skew()&quot;</span><span class="s0">: </span><span class="s3">&quot;skew( [&lt;angle&gt;|&lt;zero&gt;] , [&lt;angle&gt;|&lt;zero&gt;]? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;skewX()&quot;</span><span class="s0">: </span><span class="s3">&quot;skewX( [&lt;angle&gt;|&lt;zero&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;skewY()&quot;</span><span class="s0">: </span><span class="s3">&quot;skewY( [&lt;angle&gt;|&lt;zero&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;sepia()&quot;</span><span class="s0">: </span><span class="s3">&quot;sepia( &lt;number-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;shadow&quot;</span><span class="s0">: </span><span class="s3">&quot;inset?&amp;&amp;&lt;length&gt;{2,4}&amp;&amp;&lt;color&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;shadow-t&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length&gt;{2,3}&amp;&amp;&lt;color&gt;?]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;shape&quot;</span><span class="s0">: </span><span class="s3">&quot;rect( &lt;top&gt; , &lt;right&gt; , &lt;bottom&gt; , &lt;left&gt; )|rect( &lt;top&gt; &lt;right&gt; &lt;bottom&gt; &lt;left&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;shape-box&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;box&gt;|margin-box&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;side-or-corner&quot;</span><span class="s0">: </span><span class="s3">&quot;[left|right]||[top|bottom]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;single-animation&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;time&gt;||&lt;timing-function&gt;||&lt;time&gt;||&lt;single-animation-iteration-count&gt;||&lt;single-animation-direction&gt;||&lt;single-animation-fill-mode&gt;||&lt;single-animation-play-state&gt;||[none|&lt;keyframes-name&gt;]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;single-animation-direction&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|reverse|alternate|alternate-reverse&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;single-animation-fill-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;none|forwards|backwards|both&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;single-animation-iteration-count&quot;</span><span class="s0">: </span><span class="s3">&quot;infinite|&lt;number&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;single-animation-play-state&quot;</span><span class="s0">: </span><span class="s3">&quot;running|paused&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;single-transition&quot;</span><span class="s0">: </span><span class="s3">&quot;[none|&lt;single-transition-property&gt;]||&lt;time&gt;||&lt;timing-function&gt;||&lt;time&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;single-transition-property&quot;</span><span class="s0">: </span><span class="s3">&quot;all|&lt;custom-ident&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;size&quot;</span><span class="s0">: </span><span class="s3">&quot;closest-side|farthest-side|closest-corner|farthest-corner|&lt;length&gt;|&lt;length-percentage&gt;{2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;step-position&quot;</span><span class="s0">: </span><span class="s3">&quot;jump-start|jump-end|jump-none|jump-both|start|end&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;step-timing-function&quot;</span><span class="s0">: </span><span class="s3">&quot;step-start|step-end|steps( &lt;integer&gt; [, &lt;step-position&gt;]? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;subclass-selector&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;id-selector&gt;|&lt;class-selector&gt;|&lt;attribute-selector&gt;|&lt;pseudo-class-selector&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;supports-condition&quot;</span><span class="s0">: </span><span class="s3">&quot;not &lt;supports-in-parens&gt;|&lt;supports-in-parens&gt; [and &lt;supports-in-parens&gt;]*|&lt;supports-in-parens&gt; [or &lt;supports-in-parens&gt;]*&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;supports-in-parens&quot;</span><span class="s0">: </span><span class="s3">&quot;( &lt;supports-condition&gt; )|&lt;supports-feature&gt;|&lt;general-enclosed&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;supports-feature&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;supports-decl&gt;|&lt;supports-selector-fn&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;supports-decl&quot;</span><span class="s0">: </span><span class="s3">&quot;( &lt;declaration&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;supports-selector-fn&quot;</span><span class="s0">: </span><span class="s3">&quot;selector( &lt;complex-selector&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;symbol&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;string&gt;|&lt;image&gt;|&lt;custom-ident&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;target&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;target-counter()&gt;|&lt;target-counters()&gt;|&lt;target-text()&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;target-counter()&quot;</span><span class="s0">: </span><span class="s3">&quot;target-counter( [&lt;string&gt;|&lt;url&gt;] , &lt;custom-ident&gt; , &lt;counter-style&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;target-counters()&quot;</span><span class="s0">: </span><span class="s3">&quot;target-counters( [&lt;string&gt;|&lt;url&gt;] , &lt;custom-ident&gt; , &lt;string&gt; , &lt;counter-style&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;target-text()&quot;</span><span class="s0">: </span><span class="s3">&quot;target-text( [&lt;string&gt;|&lt;url&gt;] , [content|before|after|first-letter]? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;time-percentage&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;time&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;timing-function&quot;</span><span class="s0">: </span><span class="s3">&quot;linear|&lt;cubic-bezier-timing-function&gt;|&lt;step-timing-function&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;track-breadth&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;|&lt;flex&gt;|min-content|max-content|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;track-list&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;line-names&gt;? [&lt;track-size&gt;|&lt;track-repeat&gt;]]+ &lt;line-names&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;track-repeat&quot;</span><span class="s0">: </span><span class="s3">&quot;repeat( [&lt;positive-integer&gt;] , [&lt;line-names&gt;? &lt;track-size&gt;]+ &lt;line-names&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;track-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;track-breadth&gt;|minmax( &lt;inflexible-breadth&gt; , &lt;track-breadth&gt; )|fit-content( [&lt;length&gt;|&lt;percentage&gt;] )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;transform-function&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;matrix()&gt;|&lt;translate()&gt;|&lt;translateX()&gt;|&lt;translateY()&gt;|&lt;scale()&gt;|&lt;scaleX()&gt;|&lt;scaleY()&gt;|&lt;rotate()&gt;|&lt;skew()&gt;|&lt;skewX()&gt;|&lt;skewY()&gt;|&lt;matrix3d()&gt;|&lt;translate3d()&gt;|&lt;translateZ()&gt;|&lt;scale3d()&gt;|&lt;scaleZ()&gt;|&lt;rotate3d()&gt;|&lt;rotateX()&gt;|&lt;rotateY()&gt;|&lt;rotateZ()&gt;|&lt;perspective()&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;transform-list&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;transform-function&gt;+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;translate()&quot;</span><span class="s0">: </span><span class="s3">&quot;translate( &lt;length-percentage&gt; , &lt;length-percentage&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;translate3d()&quot;</span><span class="s0">: </span><span class="s3">&quot;translate3d( &lt;length-percentage&gt; , &lt;length-percentage&gt; , &lt;length&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;translateX()&quot;</span><span class="s0">: </span><span class="s3">&quot;translateX( &lt;length-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;translateY()&quot;</span><span class="s0">: </span><span class="s3">&quot;translateY( &lt;length-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;translateZ()&quot;</span><span class="s0">: </span><span class="s3">&quot;translateZ( &lt;length&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;type-or-unit&quot;</span><span class="s0">: </span><span class="s3">&quot;string|color|url|integer|number|length|angle|time|frequency|cap|ch|em|ex|ic|lh|rlh|rem|vb|vi|vw|vh|vmin|vmax|mm|Q|cm|in|pt|pc|px|deg|grad|rad|turn|ms|s|Hz|kHz|%&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;type-selector&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;wq-name&gt;|&lt;ns-prefix&gt;? '*'&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;var()&quot;</span><span class="s0">: </span><span class="s3">&quot;var( &lt;custom-property-name&gt; , &lt;declaration-value&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;viewport-length&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;wq-name&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;ns-prefix&gt;? &lt;ident-token&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-legacy-gradient&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;-webkit-gradient()&gt;|&lt;-legacy-linear-gradient&gt;|&lt;-legacy-repeating-linear-gradient&gt;|&lt;-legacy-radial-gradient&gt;|&lt;-legacy-repeating-radial-gradient&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-legacy-linear-gradient&quot;</span><span class="s0">: </span><span class="s3">&quot;-moz-linear-gradient( &lt;-legacy-linear-gradient-arguments&gt; )|-webkit-linear-gradient( &lt;-legacy-linear-gradient-arguments&gt; )|-o-linear-gradient( &lt;-legacy-linear-gradient-arguments&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-legacy-repeating-linear-gradient&quot;</span><span class="s0">: </span><span class="s3">&quot;-moz-repeating-linear-gradient( &lt;-legacy-linear-gradient-arguments&gt; )|-webkit-repeating-linear-gradient( &lt;-legacy-linear-gradient-arguments&gt; )|-o-repeating-linear-gradient( &lt;-legacy-linear-gradient-arguments&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-legacy-linear-gradient-arguments&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;angle&gt;|&lt;side-or-corner&gt;]? , &lt;color-stop-list&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-legacy-radial-gradient&quot;</span><span class="s0">: </span><span class="s3">&quot;-moz-radial-gradient( &lt;-legacy-radial-gradient-arguments&gt; )|-webkit-radial-gradient( &lt;-legacy-radial-gradient-arguments&gt; )|-o-radial-gradient( &lt;-legacy-radial-gradient-arguments&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-legacy-repeating-radial-gradient&quot;</span><span class="s0">: </span><span class="s3">&quot;-moz-repeating-radial-gradient( &lt;-legacy-radial-gradient-arguments&gt; )|-webkit-repeating-radial-gradient( &lt;-legacy-radial-gradient-arguments&gt; )|-o-repeating-radial-gradient( &lt;-legacy-radial-gradient-arguments&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-legacy-radial-gradient-arguments&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;position&gt; ,]? [[[&lt;-legacy-radial-gradient-shape&gt;||&lt;-legacy-radial-gradient-size&gt;]|[&lt;length&gt;|&lt;percentage&gt;]{2}] ,]? &lt;color-stop-list&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-legacy-radial-gradient-size&quot;</span><span class="s0">: </span><span class="s3">&quot;closest-side|closest-corner|farthest-side|farthest-corner|contain|cover&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-legacy-radial-gradient-shape&quot;</span><span class="s0">: </span><span class="s3">&quot;circle|ellipse&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-non-standard-font&quot;</span><span class="s0">: </span><span class="s3">&quot;-apple-system-body|-apple-system-headline|-apple-system-subheadline|-apple-system-caption1|-apple-system-caption2|-apple-system-footnote|-apple-system-short-body|-apple-system-short-headline|-apple-system-short-subheadline|-apple-system-short-caption1|-apple-system-short-footnote|-apple-system-tall-body&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-non-standard-color&quot;</span><span class="s0">: </span><span class="s3">&quot;-moz-ButtonDefault|-moz-ButtonHoverFace|-moz-ButtonHoverText|-moz-CellHighlight|-moz-CellHighlightText|-moz-Combobox|-moz-ComboboxText|-moz-Dialog|-moz-DialogText|-moz-dragtargetzone|-moz-EvenTreeRow|-moz-Field|-moz-FieldText|-moz-html-CellHighlight|-moz-html-CellHighlightText|-moz-mac-accentdarkestshadow|-moz-mac-accentdarkshadow|-moz-mac-accentface|-moz-mac-accentlightesthighlight|-moz-mac-accentlightshadow|-moz-mac-accentregularhighlight|-moz-mac-accentregularshadow|-moz-mac-chrome-active|-moz-mac-chrome-inactive|-moz-mac-focusring|-moz-mac-menuselect|-moz-mac-menushadow|-moz-mac-menutextselect|-moz-MenuHover|-moz-MenuHoverText|-moz-MenuBarText|-moz-MenuBarHoverText|-moz-nativehyperlinktext|-moz-OddTreeRow|-moz-win-communicationstext|-moz-win-mediatext|-moz-activehyperlinktext|-moz-default-background-color|-moz-default-color|-moz-hyperlinktext|-moz-visitedhyperlinktext|-webkit-activelink|-webkit-focus-ring-color|-webkit-link|-webkit-text&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-non-standard-image-rendering&quot;</span><span class="s0">: </span><span class="s3">&quot;optimize-contrast|-moz-crisp-edges|-o-crisp-edges|-webkit-optimize-contrast&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-non-standard-overflow&quot;</span><span class="s0">: </span><span class="s3">&quot;-moz-scrollbars-none|-moz-scrollbars-horizontal|-moz-scrollbars-vertical|-moz-hidden-unscrollable&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-non-standard-width&quot;</span><span class="s0">: </span><span class="s3">&quot;fill-available|min-intrinsic|intrinsic|-moz-available|-moz-fit-content|-moz-min-content|-moz-max-content|-webkit-min-content|-webkit-max-content&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-gradient()&quot;</span><span class="s0">: </span><span class="s3">&quot;-webkit-gradient( &lt;-webkit-gradient-type&gt; , &lt;-webkit-gradient-point&gt; [, &lt;-webkit-gradient-point&gt;|, &lt;-webkit-gradient-radius&gt; , &lt;-webkit-gradient-point&gt;] [, &lt;-webkit-gradient-radius&gt;]? [, &lt;-webkit-gradient-color-stop&gt;]* )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-gradient-color-stop&quot;</span><span class="s0">: </span><span class="s3">&quot;from( &lt;color&gt; )|color-stop( [&lt;number-zero-one&gt;|&lt;percentage&gt;] , &lt;color&gt; )|to( &lt;color&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-gradient-point&quot;</span><span class="s0">: </span><span class="s3">&quot;[left|center|right|&lt;length-percentage&gt;] [top|center|bottom|&lt;length-percentage&gt;]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-gradient-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-gradient-type&quot;</span><span class="s0">: </span><span class="s3">&quot;linear|radial&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-box-repeat&quot;</span><span class="s0">: </span><span class="s3">&quot;repeat|stretch|round&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-clip-style&quot;</span><span class="s0">: </span><span class="s3">&quot;border|border-box|padding|padding-box|content|content-box|text&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-filter-function-list&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;-ms-filter-function&gt;+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-filter-function&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;-ms-filter-function-progid&gt;|&lt;-ms-filter-function-legacy&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-filter-function-progid&quot;</span><span class="s0">: </span><span class="s3">&quot;'progid:' [&lt;ident-token&gt; '.']* [&lt;ident-token&gt;|&lt;function-token&gt; &lt;any-value&gt;? )]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-filter-function-legacy&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;ident-token&gt;|&lt;function-token&gt; &lt;any-value&gt;? )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-filter&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;string&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;age&quot;</span><span class="s0">: </span><span class="s3">&quot;child|young|old&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;attr-name&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;wq-name&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;attr-fallback&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;any-value&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;bottom&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;generic-voice&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;age&gt;? &lt;gender&gt; &lt;integer&gt;?]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;gender&quot;</span><span class="s0">: </span><span class="s3">&quot;male|female|neutral&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;left&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-image&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;mask-reference&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;name-repeat&quot;</span><span class="s0">: </span><span class="s3">&quot;repeat( [&lt;positive-integer&gt;|auto-fill] , &lt;line-names&gt;+ )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;paint&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;color&gt;|&lt;url&gt; [none|&lt;color&gt;]?|context-fill|context-stroke&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;page-size&quot;</span><span class="s0">: </span><span class="s3">&quot;A5|A4|A3|B5|B4|JIS-B5|JIS-B4|letter|legal|ledger&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;ratio&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer&gt; / &lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;right&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;svg-length&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;percentage&gt;|&lt;length&gt;|&lt;number&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;svg-writing-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;lr-tb|rl-tb|tb-rl|lr|rl|tb&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;top&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;track-group&quot;</span><span class="s0">: </span><span class="s3">&quot;'(' [&lt;string&gt;* &lt;track-minmax&gt; &lt;string&gt;*]+ ')' ['[' &lt;positive-integer&gt; ']']?|&lt;track-minmax&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;track-list-v0&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;string&gt;* &lt;track-group&gt; &lt;string&gt;*]+|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;track-minmax&quot;</span><span class="s0">: </span><span class="s3">&quot;minmax( &lt;track-breadth&gt; , &lt;track-breadth&gt; )|auto|&lt;track-breadth&gt;|fit-content&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;x&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;y&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;declaration&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;ident-token&gt; : &lt;declaration-value&gt;? ['!' important]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;declaration-list&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;declaration&gt;? ';']* &lt;declaration&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;url&quot;</span><span class="s0">: </span><span class="s3">&quot;url( &lt;string&gt; &lt;url-modifier&gt;* )|&lt;url-token&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;url-modifier&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;ident&gt;|&lt;function-token&gt; &lt;any-value&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;number-zero-one&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number [0,1]&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;number-one-or-greater&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number [1,∞]&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;positive-integer&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer [0,∞]&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-non-standard-display&quot;</span><span class="s0">: </span><span class="s3">&quot;-ms-inline-flexbox|-ms-grid|-ms-inline-grid|-webkit-flex|-webkit-inline-flex|-webkit-box|-webkit-inline-box|-moz-inline-stack|-moz-box|-moz-inline-box&quot;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s3">&quot;properties&quot;</span><span class="s0">: {</span>
            <span class="s3">&quot;--*&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;declaration-value&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-accelerator&quot;</span><span class="s0">: </span><span class="s3">&quot;false|true&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-block-progression&quot;</span><span class="s0">: </span><span class="s3">&quot;tb|rl|bt|lr&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-content-zoom-chaining&quot;</span><span class="s0">: </span><span class="s3">&quot;none|chained&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-content-zooming&quot;</span><span class="s0">: </span><span class="s3">&quot;none|zoom&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-content-zoom-limit&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'-ms-content-zoom-limit-min'&gt; &lt;'-ms-content-zoom-limit-max'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-content-zoom-limit-max&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-content-zoom-limit-min&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-content-zoom-snap&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'-ms-content-zoom-snap-type'&gt;||&lt;'-ms-content-zoom-snap-points'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-content-zoom-snap-points&quot;</span><span class="s0">: </span><span class="s3">&quot;snapInterval( &lt;percentage&gt; , &lt;percentage&gt; )|snapList( &lt;percentage&gt;# )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-content-zoom-snap-type&quot;</span><span class="s0">: </span><span class="s3">&quot;none|proximity|mandatory&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-filter&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;string&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-flow-from&quot;</span><span class="s0">: </span><span class="s3">&quot;[none|&lt;custom-ident&gt;]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-flow-into&quot;</span><span class="s0">: </span><span class="s3">&quot;[none|&lt;custom-ident&gt;]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-grid-columns&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;track-list&gt;|&lt;auto-track-list&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-grid-rows&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;track-list&gt;|&lt;auto-track-list&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-high-contrast-adjust&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-hyphenate-limit-chars&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;integer&gt;{1,3}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-hyphenate-limit-lines&quot;</span><span class="s0">: </span><span class="s3">&quot;no-limit|&lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-hyphenate-limit-zone&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;percentage&gt;|&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-ime-align&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|after&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-overflow-style&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|none|scrollbar|-ms-autohiding-scrollbar&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scrollbar-3dlight-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scrollbar-arrow-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scrollbar-base-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scrollbar-darkshadow-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scrollbar-face-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scrollbar-highlight-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scrollbar-shadow-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scrollbar-track-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-chaining&quot;</span><span class="s0">: </span><span class="s3">&quot;chained|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-limit&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'-ms-scroll-limit-x-min'&gt; &lt;'-ms-scroll-limit-y-min'&gt; &lt;'-ms-scroll-limit-x-max'&gt; &lt;'-ms-scroll-limit-y-max'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-limit-x-max&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-limit-x-min&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-limit-y-max&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-limit-y-min&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-rails&quot;</span><span class="s0">: </span><span class="s3">&quot;none|railed&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-snap-points-x&quot;</span><span class="s0">: </span><span class="s3">&quot;snapInterval( &lt;length-percentage&gt; , &lt;length-percentage&gt; )|snapList( &lt;length-percentage&gt;# )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-snap-points-y&quot;</span><span class="s0">: </span><span class="s3">&quot;snapInterval( &lt;length-percentage&gt; , &lt;length-percentage&gt; )|snapList( &lt;length-percentage&gt;# )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-snap-type&quot;</span><span class="s0">: </span><span class="s3">&quot;none|proximity|mandatory&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-snap-x&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'-ms-scroll-snap-type'&gt; &lt;'-ms-scroll-snap-points-x'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-snap-y&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'-ms-scroll-snap-type'&gt; &lt;'-ms-scroll-snap-points-y'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-scroll-translation&quot;</span><span class="s0">: </span><span class="s3">&quot;none|vertical-to-horizontal&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-text-autospace&quot;</span><span class="s0">: </span><span class="s3">&quot;none|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-touch-select&quot;</span><span class="s0">: </span><span class="s3">&quot;grippers|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-user-select&quot;</span><span class="s0">: </span><span class="s3">&quot;none|element|text&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-wrap-flow&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|both|start|end|maximum|clear&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-wrap-margin&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-wrap-through&quot;</span><span class="s0">: </span><span class="s3">&quot;wrap|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-appearance&quot;</span><span class="s0">: </span><span class="s3">&quot;none|button|button-arrow-down|button-arrow-next|button-arrow-previous|button-arrow-up|button-bevel|button-focus|caret|checkbox|checkbox-container|checkbox-label|checkmenuitem|dualbutton|groupbox|listbox|listitem|menuarrow|menubar|menucheckbox|menuimage|menuitem|menuitemtext|menulist|menulist-button|menulist-text|menulist-textfield|menupopup|menuradio|menuseparator|meterbar|meterchunk|progressbar|progressbar-vertical|progresschunk|progresschunk-vertical|radio|radio-container|radio-label|radiomenuitem|range|range-thumb|resizer|resizerpanel|scale-horizontal|scalethumbend|scalethumb-horizontal|scalethumbstart|scalethumbtick|scalethumb-vertical|scale-vertical|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|separator|sheet|spinner|spinner-downbutton|spinner-textfield|spinner-upbutton|splitter|statusbar|statusbarpanel|tab|tabpanel|tabpanels|tab-scroll-arrow-back|tab-scroll-arrow-forward|textfield|textfield-multiline|toolbar|toolbarbutton|toolbarbutton-dropdown|toolbargripper|toolbox|tooltip|treeheader|treeheadercell|treeheadersortarrow|treeitem|treeline|treetwisty|treetwistyopen|treeview|-moz-mac-unified-toolbar|-moz-win-borderless-glass|-moz-win-browsertabbar-toolbox|-moz-win-communicationstext|-moz-win-communications-toolbox|-moz-win-exclude-glass|-moz-win-glass|-moz-win-mediatext|-moz-win-media-toolbox|-moz-window-button-box|-moz-window-button-box-maximized|-moz-window-button-close|-moz-window-button-maximize|-moz-window-button-minimize|-moz-window-button-restore|-moz-window-frame-bottom|-moz-window-frame-left|-moz-window-frame-right|-moz-window-titlebar|-moz-window-titlebar-maximized&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-binding&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;url&gt;|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-border-bottom-colors&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;+|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-border-left-colors&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;+|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-border-right-colors&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;+|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-border-top-colors&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;+|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-context-properties&quot;</span><span class="s0">: </span><span class="s3">&quot;none|[fill|fill-opacity|stroke|stroke-opacity]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-float-edge&quot;</span><span class="s0">: </span><span class="s3">&quot;border-box|content-box|margin-box|padding-box&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-force-broken-image-icon&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer [0,1]&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-image-region&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;shape&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-orient&quot;</span><span class="s0">: </span><span class="s3">&quot;inline|block|horizontal|vertical&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-outline-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;outline-radius&gt;{1,4} [/ &lt;outline-radius&gt;{1,4}]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-outline-radius-bottomleft&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;outline-radius&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-outline-radius-bottomright&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;outline-radius&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-outline-radius-topleft&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;outline-radius&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-outline-radius-topright&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;outline-radius&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-stack-sizing&quot;</span><span class="s0">: </span><span class="s3">&quot;ignore|stretch-to-fit&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-text-blink&quot;</span><span class="s0">: </span><span class="s3">&quot;none|blink&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-user-focus&quot;</span><span class="s0">: </span><span class="s3">&quot;ignore|normal|select-after|select-before|select-menu|select-same|select-all|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-user-input&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|none|enabled|disabled&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-user-modify&quot;</span><span class="s0">: </span><span class="s3">&quot;read-only|read-write|write-only&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-window-dragging&quot;</span><span class="s0">: </span><span class="s3">&quot;drag|no-drag&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-window-shadow&quot;</span><span class="s0">: </span><span class="s3">&quot;default|menu|tooltip|sheet|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-appearance&quot;</span><span class="s0">: </span><span class="s3">&quot;none|button|button-bevel|caps-lock-indicator|caret|checkbox|default-button|inner-spin-button|listbox|listitem|media-controls-background|media-controls-fullscreen-background|media-current-time-display|media-enter-fullscreen-button|media-exit-fullscreen-button|media-fullscreen-button|media-mute-button|media-overlay-play-button|media-play-button|media-seek-back-button|media-seek-forward-button|media-slider|media-sliderthumb|media-time-remaining-display|media-toggle-closed-captions-button|media-volume-slider|media-volume-slider-container|media-volume-sliderthumb|menulist|menulist-button|menulist-text|menulist-textfield|meter|progress-bar|progress-bar-value|push-button|radio|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbargripper-horizontal|scrollbargripper-vertical|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|searchfield-cancel-button|searchfield-decoration|searchfield-results-button|searchfield-results-decoration|slider-horizontal|slider-vertical|sliderthumb-horizontal|sliderthumb-vertical|square-button|textarea|textfield|-apple-pay-button&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-border-before&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-width'&gt;||&lt;'border-style'&gt;||&lt;'color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-border-before-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-border-before-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-style'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-border-before-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-box-reflect&quot;</span><span class="s0">: </span><span class="s3">&quot;[above|below|right|left]? &lt;length&gt;? &lt;image&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-line-clamp&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;mask-reference&gt;||&lt;position&gt; [/ &lt;bg-size&gt;]?||&lt;repeat-style&gt;||[&lt;box&gt;|border|padding|content|text]||[&lt;box&gt;|border|padding|content]]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-attachment&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;attachment&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-clip&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;box&gt;|border|padding|content|text]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-composite&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;composite-style&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-image&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;mask-reference&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-origin&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;box&gt;|border|padding|content]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-position&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;position&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-position-x&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length-percentage&gt;|left|center|right]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-position-y&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length-percentage&gt;|top|center|bottom]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-repeat&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;repeat-style&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-repeat-x&quot;</span><span class="s0">: </span><span class="s3">&quot;repeat|no-repeat|space|round&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-repeat-y&quot;</span><span class="s0">: </span><span class="s3">&quot;repeat|no-repeat|space|round&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;bg-size&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-overflow-scrolling&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|touch&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-tap-highlight-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-text-fill-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-text-stroke&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;||&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-text-stroke-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-text-stroke-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-touch-callout&quot;</span><span class="s0">: </span><span class="s3">&quot;default|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-user-modify&quot;</span><span class="s0">: </span><span class="s3">&quot;read-only|read-write|read-write-plaintext-only&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;align-content&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|&lt;baseline-position&gt;|&lt;content-distribution&gt;|&lt;overflow-position&gt;? &lt;content-position&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;align-items&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|stretch|&lt;baseline-position&gt;|[&lt;overflow-position&gt;? &lt;self-position&gt;]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;align-self&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|normal|stretch|&lt;baseline-position&gt;|&lt;overflow-position&gt;? &lt;self-position&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;align-tracks&quot;</span><span class="s0">: </span><span class="s3">&quot;[normal|&lt;baseline-position&gt;|&lt;content-distribution&gt;|&lt;overflow-position&gt;? &lt;content-position&gt;]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;all&quot;</span><span class="s0">: </span><span class="s3">&quot;initial|inherit|unset|revert&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;animation&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;single-animation&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;animation-delay&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;time&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;animation-direction&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;single-animation-direction&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;animation-duration&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;time&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;animation-fill-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;single-animation-fill-mode&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;animation-iteration-count&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;single-animation-iteration-count&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;animation-name&quot;</span><span class="s0">: </span><span class="s3">&quot;[none|&lt;keyframes-name&gt;]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;animation-play-state&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;single-animation-play-state&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;animation-timing-function&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;timing-function&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;appearance&quot;</span><span class="s0">: </span><span class="s3">&quot;none|auto|textfield|menulist-button|&lt;compat-auto&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;aspect-ratio&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;ratio&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;azimuth&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;angle&gt;|[[left-side|far-left|left|center-left|center|center-right|right|far-right|right-side]||behind]|leftwards|rightwards&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;backdrop-filter&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;filter-function-list&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;backface-visibility&quot;</span><span class="s0">: </span><span class="s3">&quot;visible|hidden&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;bg-layer&gt; ,]* &lt;final-bg-layer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background-attachment&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;attachment&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background-blend-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;blend-mode&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background-clip&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;box&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background-image&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;bg-image&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background-origin&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;box&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background-position&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;bg-position&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background-position-x&quot;</span><span class="s0">: </span><span class="s3">&quot;[center|[[left|right|x-start|x-end]? &lt;length-percentage&gt;?]!]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background-position-y&quot;</span><span class="s0">: </span><span class="s3">&quot;[center|[[top|bottom|y-start|y-end]? &lt;length-percentage&gt;?]!]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background-repeat&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;repeat-style&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;background-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;bg-size&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;block-overflow&quot;</span><span class="s0">: </span><span class="s3">&quot;clip|ellipsis|&lt;string&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;block-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-width&gt;||&lt;line-style&gt;||&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;||&lt;'border-top-style'&gt;||&lt;'color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-color'&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-style'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;||&lt;'border-top-style'&gt;||&lt;'color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block-end-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block-end-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-style'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block-end-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;||&lt;'border-top-style'&gt;||&lt;'color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block-start-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block-start-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-style'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-block-start-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-bottom&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-width&gt;||&lt;line-style&gt;||&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-bottom-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-bottom-left-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-bottom-right-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-bottom-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-style&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-bottom-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-width&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-collapse&quot;</span><span class="s0">: </span><span class="s3">&quot;collapse|separate&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-end-end-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-end-start-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-image&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-image-source'&gt;||&lt;'border-image-slice'&gt; [/ &lt;'border-image-width'&gt;|/ &lt;'border-image-width'&gt;? / &lt;'border-image-outset'&gt;]?||&lt;'border-image-repeat'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-image-outset&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length&gt;|&lt;number&gt;]{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-image-repeat&quot;</span><span class="s0">: </span><span class="s3">&quot;[stretch|repeat|round|space]{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-image-slice&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number-percentage&gt;{1,4}&amp;&amp;fill?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-image-source&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;image&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-image-width&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length-percentage&gt;|&lt;number&gt;|auto]{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;||&lt;'border-top-style'&gt;||&lt;'color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;||&lt;'border-top-style'&gt;||&lt;'color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-color'&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-style'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline-end-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline-end-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-style'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline-end-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;||&lt;'border-top-style'&gt;||&lt;'color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline-start-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline-start-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-style'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-inline-start-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-left&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-width&gt;||&lt;line-style&gt;||&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-left-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-left-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-style&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-left-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-width&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;{1,4} [/ &lt;length-percentage&gt;{1,4}]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-right&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-width&gt;||&lt;line-style&gt;||&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-right-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-right-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-style&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-right-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-width&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-spacing&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt; &lt;length&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-start-end-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-start-start-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-style&gt;{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-top&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-width&gt;||&lt;line-style&gt;||&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-top-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-top-left-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-top-right-radius&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-top-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-style&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-top-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-width&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;border-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-width&gt;{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;bottom&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box-align&quot;</span><span class="s0">: </span><span class="s3">&quot;start|center|end|baseline|stretch&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box-decoration-break&quot;</span><span class="s0">: </span><span class="s3">&quot;slice|clone&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box-direction&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|reverse|inherit&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box-flex&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box-flex-group&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box-lines&quot;</span><span class="s0">: </span><span class="s3">&quot;single|multiple&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box-ordinal-group&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box-orient&quot;</span><span class="s0">: </span><span class="s3">&quot;horizontal|vertical|inline-axis|block-axis|inherit&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box-pack&quot;</span><span class="s0">: </span><span class="s3">&quot;start|center|end|justify&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box-shadow&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;shadow&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;box-sizing&quot;</span><span class="s0">: </span><span class="s3">&quot;content-box|border-box&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;break-after&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;break-before&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;break-inside&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|avoid|avoid-page|avoid-column|avoid-region&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;caption-side&quot;</span><span class="s0">: </span><span class="s3">&quot;top|bottom|block-start|block-end|inline-start|inline-end&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;caret-color&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;clear&quot;</span><span class="s0">: </span><span class="s3">&quot;none|left|right|both|inline-start|inline-end&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;clip&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;shape&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;clip-path&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;clip-source&gt;|[&lt;basic-shape&gt;||&lt;geometry-box&gt;]|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;color-adjust&quot;</span><span class="s0">: </span><span class="s3">&quot;economy|exact&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;column-count&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;column-fill&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|balance|balance-all&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;column-gap&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;column-rule&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'column-rule-width'&gt;||&lt;'column-rule-style'&gt;||&lt;'column-rule-color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;column-rule-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;column-rule-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-style'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;column-rule-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;column-span&quot;</span><span class="s0">: </span><span class="s3">&quot;none|all&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;column-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;columns&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'column-width'&gt;||&lt;'column-count'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;contain&quot;</span><span class="s0">: </span><span class="s3">&quot;none|strict|content|[size||layout||style||paint]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;content&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|none|[&lt;content-replacement&gt;|&lt;content-list&gt;] [/ &lt;string&gt;]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;counter-increment&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;custom-ident&gt; &lt;integer&gt;?]+|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;counter-reset&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;custom-ident&gt; &lt;integer&gt;?]+|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;counter-set&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;custom-ident&gt; &lt;integer&gt;?]+|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;cursor&quot;</span><span class="s0">: </span><span class="s3">&quot;[[&lt;url&gt; [&lt;x&gt; &lt;y&gt;]? ,]* [auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out|grab|grabbing|hand|-webkit-grab|-webkit-grabbing|-webkit-zoom-in|-webkit-zoom-out|-moz-grab|-moz-grabbing|-moz-zoom-in|-moz-zoom-out]]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;direction&quot;</span><span class="s0">: </span><span class="s3">&quot;ltr|rtl&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;display&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;display-outside&gt;||&lt;display-inside&gt;]|&lt;display-listitem&gt;|&lt;display-internal&gt;|&lt;display-box&gt;|&lt;display-legacy&gt;|&lt;-non-standard-display&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;empty-cells&quot;</span><span class="s0">: </span><span class="s3">&quot;show|hide&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;filter&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;filter-function-list&gt;|&lt;-ms-filter-function-list&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;flex&quot;</span><span class="s0">: </span><span class="s3">&quot;none|[&lt;'flex-grow'&gt; &lt;'flex-shrink'&gt;?||&lt;'flex-basis'&gt;]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;flex-basis&quot;</span><span class="s0">: </span><span class="s3">&quot;content|&lt;'width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;flex-direction&quot;</span><span class="s0">: </span><span class="s3">&quot;row|row-reverse|column|column-reverse&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;flex-flow&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'flex-direction'&gt;||&lt;'flex-wrap'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;flex-grow&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;flex-shrink&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;flex-wrap&quot;</span><span class="s0">: </span><span class="s3">&quot;nowrap|wrap|wrap-reverse&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;float&quot;</span><span class="s0">: </span><span class="s3">&quot;left|right|none|inline-start|inline-end&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font&quot;</span><span class="s0">: </span><span class="s3">&quot;[[&lt;'font-style'&gt;||&lt;font-variant-css21&gt;||&lt;'font-weight'&gt;||&lt;'font-stretch'&gt;]? &lt;'font-size'&gt; [/ &lt;'line-height'&gt;]? &lt;'font-family'&gt;]|caption|icon|menu|message-box|small-caption|status-bar&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-family&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;family-name&gt;|&lt;generic-family&gt;]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-feature-settings&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|&lt;feature-tag-value&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-kerning&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|normal|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-language-override&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|&lt;string&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-optical-sizing&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-variation-settings&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|[&lt;string&gt; &lt;number&gt;]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;absolute-size&gt;|&lt;relative-size&gt;|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-size-adjust&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;number&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-smooth&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|never|always|&lt;absolute-size&gt;|&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-stretch&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;font-stretch-absolute&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-style&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|italic|oblique &lt;angle&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-synthesis&quot;</span><span class="s0">: </span><span class="s3">&quot;none|[weight||style]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-variant&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|none|[&lt;common-lig-values&gt;||&lt;discretionary-lig-values&gt;||&lt;historical-lig-values&gt;||&lt;contextual-alt-values&gt;||stylistic( &lt;feature-value-name&gt; )||historical-forms||styleset( &lt;feature-value-name&gt;# )||character-variant( &lt;feature-value-name&gt;# )||swash( &lt;feature-value-name&gt; )||ornaments( &lt;feature-value-name&gt; )||annotation( &lt;feature-value-name&gt; )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||&lt;numeric-figure-values&gt;||&lt;numeric-spacing-values&gt;||&lt;numeric-fraction-values&gt;||ordinal||slashed-zero||&lt;east-asian-variant-values&gt;||&lt;east-asian-width-values&gt;||ruby]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-variant-alternates&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|[stylistic( &lt;feature-value-name&gt; )||historical-forms||styleset( &lt;feature-value-name&gt;# )||character-variant( &lt;feature-value-name&gt;# )||swash( &lt;feature-value-name&gt; )||ornaments( &lt;feature-value-name&gt; )||annotation( &lt;feature-value-name&gt; )]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-variant-caps&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-variant-east-asian&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|[&lt;east-asian-variant-values&gt;||&lt;east-asian-width-values&gt;||ruby]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-variant-ligatures&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|none|[&lt;common-lig-values&gt;||&lt;discretionary-lig-values&gt;||&lt;historical-lig-values&gt;||&lt;contextual-alt-values&gt;]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-variant-numeric&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|[&lt;numeric-figure-values&gt;||&lt;numeric-spacing-values&gt;||&lt;numeric-fraction-values&gt;||ordinal||slashed-zero]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-variant-position&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|sub|super&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;font-weight&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;font-weight-absolute&gt;|bolder|lighter&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;gap&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'row-gap'&gt; &lt;'column-gap'&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'grid-template'&gt;|&lt;'grid-template-rows'&gt; / [auto-flow&amp;&amp;dense?] &lt;'grid-auto-columns'&gt;?|[auto-flow&amp;&amp;dense?] &lt;'grid-auto-rows'&gt;? / &lt;'grid-template-columns'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-area&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;grid-line&gt; [/ &lt;grid-line&gt;]{0,3}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-auto-columns&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;track-size&gt;+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-auto-flow&quot;</span><span class="s0">: </span><span class="s3">&quot;[row|column]||dense&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-auto-rows&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;track-size&gt;+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-column&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;grid-line&gt; [/ &lt;grid-line&gt;]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-column-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;grid-line&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-column-gap&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-column-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;grid-line&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-gap&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'grid-row-gap'&gt; &lt;'grid-column-gap'&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-row&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;grid-line&gt; [/ &lt;grid-line&gt;]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-row-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;grid-line&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-row-gap&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-row-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;grid-line&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-template&quot;</span><span class="s0">: </span><span class="s3">&quot;none|[&lt;'grid-template-rows'&gt; / &lt;'grid-template-columns'&gt;]|[&lt;line-names&gt;? &lt;string&gt; &lt;track-size&gt;? &lt;line-names&gt;?]+ [/ &lt;explicit-track-list&gt;]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-template-areas&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;string&gt;+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-template-columns&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;track-list&gt;|&lt;auto-track-list&gt;|subgrid &lt;line-name-list&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;grid-template-rows&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;track-list&gt;|&lt;auto-track-list&gt;|subgrid &lt;line-name-list&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;hanging-punctuation&quot;</span><span class="s0">: </span><span class="s3">&quot;none|[first||[force-end|allow-end]||last]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;height&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length&gt;|&lt;percentage&gt;|min-content|max-content|fit-content( &lt;length-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;hyphens&quot;</span><span class="s0">: </span><span class="s3">&quot;none|manual|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;image-orientation&quot;</span><span class="s0">: </span><span class="s3">&quot;from-image|&lt;angle&gt;|[&lt;angle&gt;? flip]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;image-rendering&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|crisp-edges|pixelated|optimizeSpeed|optimizeQuality|&lt;-non-standard-image-rendering&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;image-resolution&quot;</span><span class="s0">: </span><span class="s3">&quot;[from-image||&lt;resolution&gt;]&amp;&amp;snap?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;ime-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|normal|active|inactive|disabled&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;initial-letter&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|[&lt;number&gt; &lt;integer&gt;?]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;initial-letter-align&quot;</span><span class="s0">: </span><span class="s3">&quot;[auto|alphabetic|hanging|ideographic]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;inline-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;inset&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'top'&gt;{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;inset-block&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'top'&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;inset-block-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'top'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;inset-block-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'top'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;inset-inline&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'top'&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;inset-inline-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'top'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;inset-inline-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'top'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;isolation&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|isolate&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;justify-content&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|&lt;content-distribution&gt;|&lt;overflow-position&gt;? [&lt;content-position&gt;|left|right]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;justify-items&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|stretch|&lt;baseline-position&gt;|&lt;overflow-position&gt;? [&lt;self-position&gt;|left|right]|legacy|legacy&amp;&amp;[left|right|center]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;justify-self&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|normal|stretch|&lt;baseline-position&gt;|&lt;overflow-position&gt;? [&lt;self-position&gt;|left|right]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;justify-tracks&quot;</span><span class="s0">: </span><span class="s3">&quot;[normal|&lt;content-distribution&gt;|&lt;overflow-position&gt;? [&lt;content-position&gt;|left|right]]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;left&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;letter-spacing&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;line-break&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|loose|normal|strict|anywhere&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;line-clamp&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;line-height&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|&lt;number&gt;|&lt;length&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;line-height-step&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;list-style&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'list-style-type'&gt;||&lt;'list-style-position'&gt;||&lt;'list-style-image'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;list-style-image&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;url&gt;|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;list-style-position&quot;</span><span class="s0">: </span><span class="s3">&quot;inside|outside&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;list-style-type&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;counter-style&gt;|&lt;string&gt;|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length&gt;|&lt;percentage&gt;|auto]{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin-block&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'margin-left'&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin-block-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'margin-left'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin-block-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'margin-left'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin-bottom&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin-inline&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'margin-left'&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin-inline-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'margin-left'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin-inline-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'margin-left'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin-left&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin-right&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin-top&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;margin-trim&quot;</span><span class="s0">: </span><span class="s3">&quot;none|in-flow|all&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;mask-layer&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-border&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'mask-border-source'&gt;||&lt;'mask-border-slice'&gt; [/ &lt;'mask-border-width'&gt;? [/ &lt;'mask-border-outset'&gt;]?]?||&lt;'mask-border-repeat'&gt;||&lt;'mask-border-mode'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-border-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;luminance|alpha&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-border-outset&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length&gt;|&lt;number&gt;]{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-border-repeat&quot;</span><span class="s0">: </span><span class="s3">&quot;[stretch|repeat|round|space]{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-border-slice&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number-percentage&gt;{1,4} fill?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-border-source&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;image&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-border-width&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length-percentage&gt;|&lt;number&gt;|auto]{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-clip&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;geometry-box&gt;|no-clip]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-composite&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;compositing-operator&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-image&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;mask-reference&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;masking-mode&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-origin&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;geometry-box&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-position&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;position&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-repeat&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;repeat-style&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;bg-size&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mask-type&quot;</span><span class="s0">: </span><span class="s3">&quot;luminance|alpha&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;masonry-auto-flow&quot;</span><span class="s0">: </span><span class="s3">&quot;[pack|next]||[definite-first|ordered]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;math-style&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|compact&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;max-block-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'max-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;max-height&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;length-percentage&gt;|min-content|max-content|fit-content( &lt;length-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;max-inline-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'max-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;max-lines&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;max-width&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;length-percentage&gt;|min-content|max-content|fit-content( &lt;length-percentage&gt; )|&lt;-non-standard-width&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;min-block-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'min-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;min-height&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length&gt;|&lt;percentage&gt;|min-content|max-content|fit-content( &lt;length-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;min-inline-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'min-width'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;min-width&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length-percentage&gt;|min-content|max-content|fit-content( &lt;length-percentage&gt; )|&lt;-non-standard-width&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;mix-blend-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;blend-mode&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;object-fit&quot;</span><span class="s0">: </span><span class="s3">&quot;fill|contain|cover|none|scale-down&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;object-position&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;position&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;offset&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;'offset-position'&gt;? [&lt;'offset-path'&gt; [&lt;'offset-distance'&gt;||&lt;'offset-rotate'&gt;]?]?]! [/ &lt;'offset-anchor'&gt;]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;offset-anchor&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;position&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;offset-distance&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;offset-path&quot;</span><span class="s0">: </span><span class="s3">&quot;none|ray( [&lt;angle&gt;&amp;&amp;&lt;size&gt;&amp;&amp;contain?] )|&lt;path()&gt;|&lt;url&gt;|[&lt;basic-shape&gt;||&lt;geometry-box&gt;]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;offset-position&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;position&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;offset-rotate&quot;</span><span class="s0">: </span><span class="s3">&quot;[auto|reverse]||&lt;angle&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;opacity&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;alpha-value&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;order&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;orphans&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;outline&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;'outline-color'&gt;||&lt;'outline-style'&gt;||&lt;'outline-width'&gt;]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;outline-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;|invert&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;outline-offset&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;outline-style&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;'border-style'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;outline-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;line-width&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overflow&quot;</span><span class="s0">: </span><span class="s3">&quot;[visible|hidden|clip|scroll|auto]{1,2}|&lt;-non-standard-overflow&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overflow-anchor&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overflow-block&quot;</span><span class="s0">: </span><span class="s3">&quot;visible|hidden|clip|scroll|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overflow-clip-box&quot;</span><span class="s0">: </span><span class="s3">&quot;padding-box|content-box&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overflow-inline&quot;</span><span class="s0">: </span><span class="s3">&quot;visible|hidden|clip|scroll|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overflow-wrap&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|break-word|anywhere&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overflow-x&quot;</span><span class="s0">: </span><span class="s3">&quot;visible|hidden|clip|scroll|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overflow-y&quot;</span><span class="s0">: </span><span class="s3">&quot;visible|hidden|clip|scroll|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overscroll-behavior&quot;</span><span class="s0">: </span><span class="s3">&quot;[contain|none|auto]{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overscroll-behavior-block&quot;</span><span class="s0">: </span><span class="s3">&quot;contain|none|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overscroll-behavior-inline&quot;</span><span class="s0">: </span><span class="s3">&quot;contain|none|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overscroll-behavior-x&quot;</span><span class="s0">: </span><span class="s3">&quot;contain|none|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;overscroll-behavior-y&quot;</span><span class="s0">: </span><span class="s3">&quot;contain|none|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;padding&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length&gt;|&lt;percentage&gt;]{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;padding-block&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'padding-left'&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;padding-block-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'padding-left'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;padding-block-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'padding-left'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;padding-bottom&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;padding-inline&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'padding-left'&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;padding-inline-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'padding-left'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;padding-inline-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'padding-left'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;padding-left&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;padding-right&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;padding-top&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;page-break-after&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|always|avoid|left|right|recto|verso&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;page-break-before&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|always|avoid|left|right|recto|verso&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;page-break-inside&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|avoid&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;paint-order&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|[fill||stroke||markers]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;perspective&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;perspective-origin&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;position&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;place-content&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'align-content'&gt; &lt;'justify-content'&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;place-items&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'align-items'&gt; &lt;'justify-items'&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;place-self&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'align-self'&gt; &lt;'justify-self'&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;pointer-events&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|none|visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|inherit&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;position&quot;</span><span class="s0">: </span><span class="s3">&quot;static|relative|absolute|sticky|fixed|-webkit-sticky&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;quotes&quot;</span><span class="s0">: </span><span class="s3">&quot;none|auto|[&lt;string&gt; &lt;string&gt;]+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;resize&quot;</span><span class="s0">: </span><span class="s3">&quot;none|both|horizontal|vertical|block|inline&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;right&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;rotate&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;angle&gt;|[x|y|z|&lt;number&gt;{3}]&amp;&amp;&lt;angle&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;row-gap&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;ruby-align&quot;</span><span class="s0">: </span><span class="s3">&quot;start|center|space-between|space-around&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;ruby-merge&quot;</span><span class="s0">: </span><span class="s3">&quot;separate|collapse|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;ruby-position&quot;</span><span class="s0">: </span><span class="s3">&quot;over|under|inter-character&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scale&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;number&gt;{1,3}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scrollbar-color&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|dark|light|&lt;color&gt;{2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scrollbar-gutter&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|[stable|always]&amp;&amp;both?&amp;&amp;force?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scrollbar-width&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|thin|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-behavior&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|smooth&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-margin&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-margin-block&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-margin-block-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-margin-block-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-margin-bottom&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-margin-inline&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-margin-inline-start&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-margin-inline-end&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-margin-left&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-margin-right&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-margin-top&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-padding&quot;</span><span class="s0">: </span><span class="s3">&quot;[auto|&lt;length-percentage&gt;]{1,4}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-padding-block&quot;</span><span class="s0">: </span><span class="s3">&quot;[auto|&lt;length-percentage&gt;]{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-padding-block-start&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-padding-block-end&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-padding-bottom&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-padding-inline&quot;</span><span class="s0">: </span><span class="s3">&quot;[auto|&lt;length-percentage&gt;]{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-padding-inline-start&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-padding-inline-end&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-padding-left&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-padding-right&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-padding-top&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-snap-align&quot;</span><span class="s0">: </span><span class="s3">&quot;[none|start|end|center]{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-snap-coordinate&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;position&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-snap-destination&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;position&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-snap-points-x&quot;</span><span class="s0">: </span><span class="s3">&quot;none|repeat( &lt;length-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-snap-points-y&quot;</span><span class="s0">: </span><span class="s3">&quot;none|repeat( &lt;length-percentage&gt; )&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-snap-stop&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|always&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-snap-type&quot;</span><span class="s0">: </span><span class="s3">&quot;none|[x|y|block|inline|both] [mandatory|proximity]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-snap-type-x&quot;</span><span class="s0">: </span><span class="s3">&quot;none|mandatory|proximity&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;scroll-snap-type-y&quot;</span><span class="s0">: </span><span class="s3">&quot;none|mandatory|proximity&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;shape-image-threshold&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;alpha-value&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;shape-margin&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;shape-outside&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;shape-box&gt;||&lt;basic-shape&gt;|&lt;image&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;tab-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer&gt;|&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;table-layout&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|fixed&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-align&quot;</span><span class="s0">: </span><span class="s3">&quot;start|end|left|right|center|justify|match-parent&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-align-last&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|start|end|left|right|center|justify&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-combine-upright&quot;</span><span class="s0">: </span><span class="s3">&quot;none|all|[digits &lt;integer&gt;?]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-decoration&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'text-decoration-line'&gt;||&lt;'text-decoration-style'&gt;||&lt;'text-decoration-color'&gt;||&lt;'text-decoration-thickness'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-decoration-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-decoration-line&quot;</span><span class="s0">: </span><span class="s3">&quot;none|[underline||overline||line-through||blink]|spelling-error|grammar-error&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-decoration-skip&quot;</span><span class="s0">: </span><span class="s3">&quot;none|[objects||[spaces|[leading-spaces||trailing-spaces]]||edges||box-decoration]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-decoration-skip-ink&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|all|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-decoration-style&quot;</span><span class="s0">: </span><span class="s3">&quot;solid|double|dotted|dashed|wavy&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-decoration-thickness&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|from-font|&lt;length&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-emphasis&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'text-emphasis-style'&gt;||&lt;'text-emphasis-color'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-emphasis-color&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;color&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-emphasis-position&quot;</span><span class="s0">: </span><span class="s3">&quot;[over|under]&amp;&amp;[right|left]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-emphasis-style&quot;</span><span class="s0">: </span><span class="s3">&quot;none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|&lt;string&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-indent&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length-percentage&gt;&amp;&amp;hanging?&amp;&amp;each-line?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-justify&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|inter-character|inter-word|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-orientation&quot;</span><span class="s0">: </span><span class="s3">&quot;mixed|upright|sideways&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-overflow&quot;</span><span class="s0">: </span><span class="s3">&quot;[clip|ellipsis|&lt;string&gt;]{1,2}&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-rendering&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|optimizeSpeed|optimizeLegibility|geometricPrecision&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-shadow&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;shadow-t&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-size-adjust&quot;</span><span class="s0">: </span><span class="s3">&quot;none|auto|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-transform&quot;</span><span class="s0">: </span><span class="s3">&quot;none|capitalize|uppercase|lowercase|full-width|full-size-kana&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-underline-offset&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-underline-position&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|from-font|[under||[left|right]]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;top&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;|&lt;percentage&gt;|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;touch-action&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|none|[[pan-x|pan-left|pan-right]||[pan-y|pan-up|pan-down]||pinch-zoom]|manipulation&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;transform&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;transform-list&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;transform-box&quot;</span><span class="s0">: </span><span class="s3">&quot;content-box|border-box|fill-box|stroke-box|view-box&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;transform-origin&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;length-percentage&gt;|left|center|right|top|bottom]|[[&lt;length-percentage&gt;|left|center|right]&amp;&amp;[&lt;length-percentage&gt;|top|center|bottom]] &lt;length&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;transform-style&quot;</span><span class="s0">: </span><span class="s3">&quot;flat|preserve-3d&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;transition&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;single-transition&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;transition-delay&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;time&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;transition-duration&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;time&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;transition-property&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;single-transition-property&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;transition-timing-function&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;timing-function&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;translate&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;length-percentage&gt; [&lt;length-percentage&gt; &lt;length&gt;?]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;unicode-bidi&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|embed|isolate|bidi-override|isolate-override|plaintext|-moz-isolate|-moz-isolate-override|-moz-plaintext|-webkit-isolate|-webkit-isolate-override|-webkit-plaintext&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;user-select&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|text|none|contain|all&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;vertical-align&quot;</span><span class="s0">: </span><span class="s3">&quot;baseline|sub|super|text-top|text-bottom|middle|top|bottom|&lt;percentage&gt;|&lt;length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;visibility&quot;</span><span class="s0">: </span><span class="s3">&quot;visible|hidden|collapse&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;white-space&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|pre|nowrap|pre-wrap|pre-line|break-spaces&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;widows&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;width&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length&gt;|&lt;percentage&gt;|min-content|max-content|fit-content( &lt;length-percentage&gt; )|fit-content|-moz-fit-content|-webkit-fit-content&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;will-change&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;animateable-feature&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;word-break&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|break-all|keep-all|break-word&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;word-spacing&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|&lt;length-percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;word-wrap&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|break-word&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;writing-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;horizontal-tb|vertical-rl|vertical-lr|sideways-rl|sideways-lr|&lt;svg-writing-mode&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;z-index&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;zoom&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|reset|&lt;number&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-background-clip&quot;</span><span class="s0">: </span><span class="s3">&quot;padding|border&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-border-radius-bottomleft&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-bottom-left-radius'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-border-radius-bottomright&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-bottom-right-radius'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-border-radius-topleft&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-top-left-radius'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-border-radius-topright&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'border-bottom-right-radius'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-control-character-visibility&quot;</span><span class="s0">: </span><span class="s3">&quot;visible|hidden&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-osx-font-smoothing&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|grayscale&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-moz-user-select&quot;</span><span class="s0">: </span><span class="s3">&quot;none|text|all|-moz-none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-flex-align&quot;</span><span class="s0">: </span><span class="s3">&quot;start|end|center|baseline|stretch&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-flex-item-align&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|start|end|center|baseline|stretch&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-flex-line-pack&quot;</span><span class="s0">: </span><span class="s3">&quot;start|end|center|justify|distribute|stretch&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-flex-negative&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'flex-shrink'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-flex-pack&quot;</span><span class="s0">: </span><span class="s3">&quot;start|end|center|justify|distribute&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-flex-order&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-flex-positive&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'flex-grow'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-flex-preferred-size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'flex-basis'&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-interpolation-mode&quot;</span><span class="s0">: </span><span class="s3">&quot;nearest-neighbor|bicubic&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-grid-column-align&quot;</span><span class="s0">: </span><span class="s3">&quot;start|end|center|stretch&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-grid-row-align&quot;</span><span class="s0">: </span><span class="s3">&quot;start|end|center|stretch&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-ms-hyphenate-limit-last&quot;</span><span class="s0">: </span><span class="s3">&quot;none|always|column|page|spread&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-background-clip&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;box&gt;|border|padding|content|text]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-column-break-after&quot;</span><span class="s0">: </span><span class="s3">&quot;always|auto|avoid&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-column-break-before&quot;</span><span class="s0">: </span><span class="s3">&quot;always|auto|avoid&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-column-break-inside&quot;</span><span class="s0">: </span><span class="s3">&quot;always|auto|avoid&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-font-smoothing&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|none|antialiased|subpixel-antialiased&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-mask-box-image&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;url&gt;|&lt;gradient&gt;|none] [&lt;length-percentage&gt;{4} &lt;-webkit-mask-box-repeat&gt;{2}]?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-print-color-adjust&quot;</span><span class="s0">: </span><span class="s3">&quot;economy|exact&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-text-security&quot;</span><span class="s0">: </span><span class="s3">&quot;none|circle|disc|square&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-user-drag&quot;</span><span class="s0">: </span><span class="s3">&quot;none|element|auto&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;-webkit-user-select&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|none|text|all&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;alignment-baseline&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|baseline|before-edge|text-before-edge|middle|central|after-edge|text-after-edge|ideographic|alphabetic|hanging|mathematical&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;baseline-shift&quot;</span><span class="s0">: </span><span class="s3">&quot;baseline|sub|super|&lt;svg-length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;behavior&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;url&gt;+&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;clip-rule&quot;</span><span class="s0">: </span><span class="s3">&quot;nonzero|evenodd&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;cue&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'cue-before'&gt; &lt;'cue-after'&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;cue-after&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;url&gt; &lt;decibel&gt;?|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;cue-before&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;url&gt; &lt;decibel&gt;?|none&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;dominant-baseline&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;fill&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;paint&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;fill-opacity&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number-zero-one&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;fill-rule&quot;</span><span class="s0">: </span><span class="s3">&quot;nonzero|evenodd&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;glyph-orientation-horizontal&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;angle&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;glyph-orientation-vertical&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;angle&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;kerning&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;svg-length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;marker&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;url&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;marker-end&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;url&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;marker-mid&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;url&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;marker-start&quot;</span><span class="s0">: </span><span class="s3">&quot;none|&lt;url&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;pause&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'pause-before'&gt; &lt;'pause-after'&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;pause-after&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;time&gt;|none|x-weak|weak|medium|strong|x-strong&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;pause-before&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;time&gt;|none|x-weak|weak|medium|strong|x-strong&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;rest&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;'rest-before'&gt; &lt;'rest-after'&gt;?&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;rest-after&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;time&gt;|none|x-weak|weak|medium|strong|x-strong&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;rest-before&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;time&gt;|none|x-weak|weak|medium|strong|x-strong&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;shape-rendering&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|optimizeSpeed|crispEdges|geometricPrecision&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;src&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;url&gt; [format( &lt;string&gt;# )]?|local( &lt;family-name&gt; )]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;speak&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|none|normal&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;speak-as&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|spell-out||digits||[literal-punctuation|no-punctuation]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;stroke&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;paint&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;stroke-dasharray&quot;</span><span class="s0">: </span><span class="s3">&quot;none|[&lt;svg-length&gt;+]#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;stroke-dashoffset&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;svg-length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;stroke-linecap&quot;</span><span class="s0">: </span><span class="s3">&quot;butt|round|square&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;stroke-linejoin&quot;</span><span class="s0">: </span><span class="s3">&quot;miter|round|bevel&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;stroke-miterlimit&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number-one-or-greater&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;stroke-opacity&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number-zero-one&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;stroke-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;svg-length&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;text-anchor&quot;</span><span class="s0">: </span><span class="s3">&quot;start|middle|end&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;unicode-range&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;urange&gt;#&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;voice-balance&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;number&gt;|left|center|right|leftwards|rightwards&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;voice-duration&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;time&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;voice-family&quot;</span><span class="s0">: </span><span class="s3">&quot;[[&lt;family-name&gt;|&lt;generic-voice&gt;] ,]* [&lt;family-name&gt;|&lt;generic-voice&gt;]|preserve&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;voice-pitch&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;frequency&gt;&amp;&amp;absolute|[[x-low|low|medium|high|x-high]||[&lt;frequency&gt;|&lt;semitones&gt;|&lt;percentage&gt;]]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;voice-range&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;frequency&gt;&amp;&amp;absolute|[[x-low|low|medium|high|x-high]||[&lt;frequency&gt;|&lt;semitones&gt;|&lt;percentage&gt;]]&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;voice-rate&quot;</span><span class="s0">: </span><span class="s3">&quot;[normal|x-slow|slow|medium|fast|x-fast]||&lt;percentage&gt;&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;voice-stress&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|strong|moderate|none|reduced&quot;</span><span class="s2">,</span>
            <span class="s3">&quot;voice-volume&quot;</span><span class="s0">: </span><span class="s3">&quot;silent|[[x-soft|soft|medium|loud|x-loud]||&lt;decibel&gt;]&quot;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s3">&quot;atrules&quot;</span><span class="s0">: {</span>
            <span class="s3">&quot;charset&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;string&gt;&quot;</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: </span><span class="s1">null</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;counter-style&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;counter-style-name&gt;&quot;</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: {</span>
                    <span class="s3">&quot;additive-symbols&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;integer&gt;&amp;&amp;&lt;symbol&gt;]#&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;fallback&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;counter-style-name&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;negative&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;symbol&gt; &lt;symbol&gt;?&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;pad&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;integer&gt;&amp;&amp;&lt;symbol&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;prefix&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;symbol&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;range&quot;</span><span class="s0">: </span><span class="s3">&quot;[[&lt;integer&gt;|infinite]{2}]#|auto&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;speak-as&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|bullets|numbers|words|spell-out|&lt;counter-style-name&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;suffix&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;symbol&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;symbols&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;symbol&gt;+&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;system&quot;</span><span class="s0">: </span><span class="s3">&quot;cyclic|numeric|alphabetic|symbolic|additive|[fixed &lt;integer&gt;?]|[extends &lt;counter-style-name&gt;]&quot;</span>
                <span class="s0">}</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;document&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;url&gt;|url-prefix( &lt;string&gt; )|domain( &lt;string&gt; )|media-document( &lt;string&gt; )|regexp( &lt;string&gt; )]#&quot;</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: </span><span class="s1">null</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;font-face&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: {</span>
                    <span class="s3">&quot;font-display&quot;</span><span class="s0">: </span><span class="s3">&quot;[auto|block|swap|fallback|optional]&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;font-family&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;family-name&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;font-feature-settings&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|&lt;feature-tag-value&gt;#&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;font-variation-settings&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|[&lt;string&gt; &lt;number&gt;]#&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;font-stretch&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;font-stretch-absolute&gt;{1,2}&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;font-style&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|italic|oblique &lt;angle&gt;{0,2}&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;font-weight&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;font-weight-absolute&gt;{1,2}&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;font-variant&quot;</span><span class="s0">: </span><span class="s3">&quot;normal|none|[&lt;common-lig-values&gt;||&lt;discretionary-lig-values&gt;||&lt;historical-lig-values&gt;||&lt;contextual-alt-values&gt;||stylistic( &lt;feature-value-name&gt; )||historical-forms||styleset( &lt;feature-value-name&gt;# )||character-variant( &lt;feature-value-name&gt;# )||swash( &lt;feature-value-name&gt; )||ornaments( &lt;feature-value-name&gt; )||annotation( &lt;feature-value-name&gt; )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||&lt;numeric-figure-values&gt;||&lt;numeric-spacing-values&gt;||&lt;numeric-fraction-values&gt;||ordinal||slashed-zero||&lt;east-asian-variant-values&gt;||&lt;east-asian-width-values&gt;||ruby]&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;src&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;url&gt; [format( &lt;string&gt;# )]?|local( &lt;family-name&gt; )]#&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;unicode-range&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;urange&gt;#&quot;</span>
                <span class="s0">}</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;font-feature-values&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;family-name&gt;#&quot;</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: </span><span class="s1">null</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;import&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s3">&quot;[&lt;string&gt;|&lt;url&gt;] [&lt;media-query-list&gt;]?&quot;</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: </span><span class="s1">null</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;keyframes&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;keyframes-name&gt;&quot;</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: </span><span class="s1">null</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;media&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;media-query-list&gt;&quot;</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: </span><span class="s1">null</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;namespace&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;namespace-prefix&gt;? [&lt;string&gt;|&lt;url&gt;]&quot;</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: </span><span class="s1">null</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;page&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;page-selector-list&gt;&quot;</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: {</span>
                    <span class="s3">&quot;bleed&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;length&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;marks&quot;</span><span class="s0">: </span><span class="s3">&quot;none|[crop||cross]&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;size&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;length&gt;{1,2}|auto|[&lt;page-size&gt;||[portrait|landscape]]&quot;</span>
                <span class="s0">}</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;property&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;custom-property-name&gt;&quot;</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: {</span>
                    <span class="s3">&quot;syntax&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;string&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;inherits&quot;</span><span class="s0">: </span><span class="s3">&quot;true|false&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;initial-value&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;string&gt;&quot;</span>
                <span class="s0">}</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;supports&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;supports-condition&gt;&quot;</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: </span><span class="s1">null</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s3">&quot;viewport&quot;</span><span class="s0">: {</span>
                <span class="s3">&quot;prelude&quot;</span><span class="s0">: </span><span class="s1">null</span><span class="s2">,</span>
                <span class="s3">&quot;descriptors&quot;</span><span class="s0">: {</span>
                    <span class="s3">&quot;height&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;viewport-length&gt;{1,2}&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;max-height&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;viewport-length&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;max-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;viewport-length&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;max-zoom&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;number&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;min-height&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;viewport-length&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;min-width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;viewport-length&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;min-zoom&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;number&gt;|&lt;percentage&gt;&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;orientation&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|portrait|landscape&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;user-zoom&quot;</span><span class="s0">: </span><span class="s3">&quot;zoom|fixed&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;viewport-fit&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|contain|cover&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;width&quot;</span><span class="s0">: </span><span class="s3">&quot;&lt;viewport-length&gt;{1,2}&quot;</span><span class="s2">,</span>
                    <span class="s3">&quot;zoom&quot;</span><span class="s0">: </span><span class="s3">&quot;auto|&lt;number&gt;|&lt;percentage&gt;&quot;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">cmpChar$3 = tokenizer.cmpChar</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">isDigit$4 = tokenizer.isDigit</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$9 = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">WHITESPACE$4 = TYPE$9.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMMENT$4 = TYPE$9.Comment</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">IDENT$3 = TYPE$9.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NUMBER$3 = TYPE$9.Number</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DIMENSION$2 = TYPE$9.Dimension</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">PLUSSIGN$3 = </span><span class="s5">0x002B</span><span class="s2">;    </span><span class="s4">// U+002B PLUS SIGN (+)</span>
    <span class="s1">var </span><span class="s0">HYPHENMINUS$3 = </span><span class="s5">0x002D</span><span class="s2">; </span><span class="s4">// U+002D HYPHEN-MINUS (-)</span>
    <span class="s1">var </span><span class="s0">N$4 = </span><span class="s5">0x006E</span><span class="s2">;           </span><span class="s4">// U+006E LATIN SMALL LETTER N (n)</span>
    <span class="s1">var </span><span class="s0">DISALLOW_SIGN$1 = </span><span class="s1">true</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">ALLOW_SIGN$1 = </span><span class="s1">false</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">checkInteger$1(offset</span><span class="s2">, </span><span class="s0">disallowSign) {</span>
        <span class="s1">var </span><span class="s0">pos = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + offset</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">code = </span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(pos)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(code === PLUSSIGN$3 || code === HYPHENMINUS$3) {</span>
            <span class="s1">if </span><span class="s0">(disallowSign) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Number sign is not allowed'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
            <span class="s0">pos++</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s2">; </span><span class="s0">pos &lt; </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd</span><span class="s2">; </span><span class="s0">pos++) {</span>
            <span class="s1">if </span><span class="s0">(!isDigit$4(</span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(pos))) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Integer is expected'</span><span class="s2">, </span><span class="s0">pos)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">checkTokenIsInteger(disallowSign) {</span>
        <span class="s1">return </span><span class="s0">checkInteger$1.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">0</span><span class="s2">, </span><span class="s0">disallowSign)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">expectCharCode(offset</span><span class="s2">, </span><span class="s0">code) {</span>
        <span class="s1">if </span><span class="s0">(!cmpChar$3(</span><span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + offset</span><span class="s2">, </span><span class="s0">code)) {</span>
            <span class="s1">var </span><span class="s0">msg = </span><span class="s3">''</span><span class="s2">;</span>

            <span class="s1">switch </span><span class="s0">(code) {</span>
                <span class="s1">case </span><span class="s0">N$4:</span>
                    <span class="s0">msg = </span><span class="s3">'N is expected'</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>
                <span class="s1">case </span><span class="s0">HYPHENMINUS$3:</span>
                    <span class="s0">msg = </span><span class="s3">'HyphenMinus is expected'</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.error(msg</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + offset)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s4">// ... &lt;signed-integer&gt;</span>
    <span class="s4">// ... ['+' | '-'] &lt;signless-integer&gt;</span>
    <span class="s1">function </span><span class="s0">consumeB$1() {</span>
        <span class="s1">var </span><span class="s0">offset = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">sign = </span><span class="s5">0</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">type = </span><span class="s1">this</span><span class="s0">.scanner.tokenType</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(type === WHITESPACE$4 || type === COMMENT$4) {</span>
            <span class="s0">type = </span><span class="s1">this</span><span class="s0">.scanner.lookupType(++offset)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(type !== NUMBER$3) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(PLUSSIGN$3</span><span class="s2">, </span><span class="s0">offset) ||</span>
                <span class="s1">this</span><span class="s0">.scanner.isDelim(HYPHENMINUS$3</span><span class="s2">, </span><span class="s0">offset)) {</span>
                <span class="s0">sign = </span><span class="s1">this</span><span class="s0">.scanner.isDelim(PLUSSIGN$3</span><span class="s2">, </span><span class="s0">offset) ? PLUSSIGN$3 : HYPHENMINUS$3</span><span class="s2">;</span>

                <span class="s1">do </span><span class="s0">{</span>
                    <span class="s0">type = </span><span class="s1">this</span><span class="s0">.scanner.lookupType(++offset)</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">while </span><span class="s0">(type === WHITESPACE$4 || type === COMMENT$4)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(type !== NUMBER$3) {</span>
                    <span class="s1">this</span><span class="s0">.scanner.skip(offset)</span><span class="s2">;</span>
                    <span class="s0">checkTokenIsInteger.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN$1)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">return null</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(offset &gt; </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s1">this</span><span class="s0">.scanner.skip(offset)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(sign === </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s0">type = </span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(type !== PLUSSIGN$3 &amp;&amp; type !== HYPHENMINUS$3) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Number sign is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s0">checkTokenIsInteger.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">sign !== </span><span class="s5">0</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s1">return </span><span class="s0">sign === HYPHENMINUS$3 ? </span><span class="s3">'-' </span><span class="s0">+ </span><span class="s1">this</span><span class="s0">.consume(NUMBER$3) : </span><span class="s1">this</span><span class="s0">.consume(NUMBER$3)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb</span>
    <span class="s1">var </span><span class="s0">AnPlusB = {</span>
        <span class="s0">name: </span><span class="s3">'AnPlusB'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">a: [String</span><span class="s2">, </span><span class="s1">null</span><span class="s0">]</span><span class="s2">,</span>
            <span class="s0">b: [String</span><span class="s2">, </span><span class="s1">null</span><span class="s0">]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s6">/* eslint-disable brace-style*/</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">a = </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">b = </span><span class="s1">null</span><span class="s2">;</span>

            <span class="s4">// &lt;integer&gt;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === NUMBER$3) {</span>
                <span class="s0">checkTokenIsInteger.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">ALLOW_SIGN$1)</span><span class="s2">;</span>
                <span class="s0">b = </span><span class="s1">this</span><span class="s0">.consume(NUMBER$3)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// -n</span>
            <span class="s4">// -n &lt;signed-integer&gt;</span>
            <span class="s4">// -n ['+' | '-'] &lt;signless-integer&gt;</span>
            <span class="s4">// -n- &lt;signless-integer&gt;</span>
            <span class="s4">// &lt;dashndashdigit-ident&gt;</span>
            <span class="s1">else if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === IDENT$3 &amp;&amp; cmpChar$3(</span><span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">, </span><span class="s0">HYPHENMINUS$3)) {</span>
                <span class="s0">a = </span><span class="s3">'-1'</span><span class="s2">;</span>

                <span class="s0">expectCharCode.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">1</span><span class="s2">, </span><span class="s0">N$4)</span><span class="s2">;</span>

                <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.getTokenLength()) {</span>
                    <span class="s4">// -n</span>
                    <span class="s4">// -n &lt;signed-integer&gt;</span>
                    <span class="s4">// -n ['+' | '-'] &lt;signless-integer&gt;</span>
                    <span class="s1">case </span><span class="s5">2</span><span class="s0">:</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                        <span class="s0">b = consumeB$1.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s4">// -n- &lt;signless-integer&gt;</span>
                    <span class="s1">case </span><span class="s5">3</span><span class="s0">:</span>
                        <span class="s0">expectCharCode.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">2</span><span class="s2">, </span><span class="s0">HYPHENMINUS$3)</span><span class="s2">;</span>

                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                        <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

                        <span class="s0">checkTokenIsInteger.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN$1)</span><span class="s2">;</span>

                        <span class="s0">b = </span><span class="s3">'-' </span><span class="s0">+ </span><span class="s1">this</span><span class="s0">.consume(NUMBER$3)</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s4">// &lt;dashndashdigit-ident&gt;</span>
                    <span class="s1">default</span><span class="s0">:</span>
                        <span class="s0">expectCharCode.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">2</span><span class="s2">, </span><span class="s0">HYPHENMINUS$3)</span><span class="s2">;</span>
                        <span class="s0">checkInteger$1.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">3</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN$1)</span><span class="s2">;</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>

                        <span class="s0">b = </span><span class="s1">this</span><span class="s0">.scanner.substrToCursor(start + </span><span class="s5">2</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s4">// '+'? n</span>
            <span class="s4">// '+'? n &lt;signed-integer&gt;</span>
            <span class="s4">// '+'? n ['+' | '-'] &lt;signless-integer&gt;</span>
            <span class="s4">// '+'? n- &lt;signless-integer&gt;</span>
            <span class="s4">// '+'? &lt;ndashdigit-ident&gt;</span>
            <span class="s1">else if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === IDENT$3 || (</span><span class="s1">this</span><span class="s0">.scanner.isDelim(PLUSSIGN$3) &amp;&amp; </span><span class="s1">this</span><span class="s0">.scanner.lookupType(</span><span class="s5">1</span><span class="s0">) === IDENT$3)) {</span>
                <span class="s1">var </span><span class="s0">sign = </span><span class="s5">0</span><span class="s2">;</span>
                <span class="s0">a = </span><span class="s3">'1'</span><span class="s2">;</span>

                <span class="s4">// just ignore a plus</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(PLUSSIGN$3)) {</span>
                    <span class="s0">sign = </span><span class="s5">1</span><span class="s2">;</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">expectCharCode.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">0</span><span class="s2">, </span><span class="s0">N$4)</span><span class="s2">;</span>

                <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.getTokenLength()) {</span>
                    <span class="s4">// '+'? n</span>
                    <span class="s4">// '+'? n &lt;signed-integer&gt;</span>
                    <span class="s4">// '+'? n ['+' | '-'] &lt;signless-integer&gt;</span>
                    <span class="s1">case </span><span class="s5">1</span><span class="s0">:</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                        <span class="s0">b = consumeB$1.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s4">// '+'? n- &lt;signless-integer&gt;</span>
                    <span class="s1">case </span><span class="s5">2</span><span class="s0">:</span>
                        <span class="s0">expectCharCode.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">1</span><span class="s2">, </span><span class="s0">HYPHENMINUS$3)</span><span class="s2">;</span>

                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                        <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

                        <span class="s0">checkTokenIsInteger.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN$1)</span><span class="s2">;</span>

                        <span class="s0">b = </span><span class="s3">'-' </span><span class="s0">+ </span><span class="s1">this</span><span class="s0">.consume(NUMBER$3)</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s4">// '+'? &lt;ndashdigit-ident&gt;</span>
                    <span class="s1">default</span><span class="s0">:</span>
                        <span class="s0">expectCharCode.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">1</span><span class="s2">, </span><span class="s0">HYPHENMINUS$3)</span><span class="s2">;</span>
                        <span class="s0">checkInteger$1.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">2</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN$1)</span><span class="s2">;</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>

                        <span class="s0">b = </span><span class="s1">this</span><span class="s0">.scanner.substrToCursor(start + sign + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s4">// &lt;ndashdigit-dimension&gt;</span>
            <span class="s4">// &lt;ndash-dimension&gt; &lt;signless-integer&gt;</span>
            <span class="s4">// &lt;n-dimension&gt;</span>
            <span class="s4">// &lt;n-dimension&gt; &lt;signed-integer&gt;</span>
            <span class="s4">// &lt;n-dimension&gt; ['+' | '-'] &lt;signless-integer&gt;</span>
            <span class="s1">else if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === DIMENSION$2) {</span>
                <span class="s1">var </span><span class="s0">code = </span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">;</span>
                <span class="s1">var </span><span class="s0">sign = code === PLUSSIGN$3 || code === HYPHENMINUS$3</span><span class="s2">;</span>

                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + sign</span><span class="s2">; </span><span class="s0">i &lt; </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd</span><span class="s2">; </span><span class="s0">i++) {</span>
                    <span class="s1">if </span><span class="s0">(!isDigit$4(</span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(i))) {</span>
                        <span class="s1">break</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>

                <span class="s1">if </span><span class="s0">(i === </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + sign) {</span>
                    <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Integer is expected'</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + sign)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">expectCharCode.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">i - </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">, </span><span class="s0">N$4)</span><span class="s2">;</span>
                <span class="s0">a = </span><span class="s1">this</span><span class="s0">.scanner.source.substring(start</span><span class="s2">, </span><span class="s0">i)</span><span class="s2">;</span>

                <span class="s4">// &lt;n-dimension&gt;</span>
                <span class="s4">// &lt;n-dimension&gt; &lt;signed-integer&gt;</span>
                <span class="s4">// &lt;n-dimension&gt; ['+' | '-'] &lt;signless-integer&gt;</span>
                <span class="s1">if </span><span class="s0">(i + </span><span class="s5">1 </span><span class="s0">=== </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd) {</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s0">b = consumeB$1.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">expectCharCode.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">i - </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + </span><span class="s5">1</span><span class="s2">, </span><span class="s0">HYPHENMINUS$3)</span><span class="s2">;</span>

                    <span class="s4">// &lt;ndash-dimension&gt; &lt;signless-integer&gt;</span>
                    <span class="s1">if </span><span class="s0">(i + </span><span class="s5">2 </span><span class="s0">=== </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd) {</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                        <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
                        <span class="s0">checkTokenIsInteger.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN$1)</span><span class="s2">;</span>
                        <span class="s0">b = </span><span class="s3">'-' </span><span class="s0">+ </span><span class="s1">this</span><span class="s0">.consume(NUMBER$3)</span><span class="s2">;</span>
                    <span class="s0">}</span>
                    <span class="s4">// &lt;ndashdigit-dimension&gt;</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">checkInteger$1.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">i - </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + </span><span class="s5">2</span><span class="s2">, </span><span class="s0">DISALLOW_SIGN$1)</span><span class="s2">;</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                        <span class="s0">b = </span><span class="s1">this</span><span class="s0">.scanner.substrToCursor(i + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">.error()</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(a !== </span><span class="s1">null </span><span class="s0">&amp;&amp; a.charCodeAt(</span><span class="s5">0</span><span class="s0">) === PLUSSIGN$3) {</span>
                <span class="s0">a = a.substr(</span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(b !== </span><span class="s1">null </span><span class="s0">&amp;&amp; b.charCodeAt(</span><span class="s5">0</span><span class="s0">) === PLUSSIGN$3) {</span>
                <span class="s0">b = b.substr(</span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'AnPlusB'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">a: a</span><span class="s2">,</span>
                <span class="s0">b: b</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">var </span><span class="s0">a = node.a !== </span><span class="s1">null </span><span class="s0">&amp;&amp; node.a !== undefined</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">b = node.b !== </span><span class="s1">null </span><span class="s0">&amp;&amp; node.b !== undefined</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(a) {</span>
                <span class="s1">this</span><span class="s0">.chunk(</span>
                    <span class="s0">node.a === </span><span class="s3">'+1' </span><span class="s0">? </span><span class="s3">'+n' </span><span class="s0">: </span><span class="s4">// eslint-disable-line operator-linebreak, indent</span>
                    <span class="s0">node.a ===  </span><span class="s3">'1' </span><span class="s0">?  </span><span class="s3">'n' </span><span class="s0">: </span><span class="s4">// eslint-disable-line operator-linebreak, indent</span>
                    <span class="s0">node.a === </span><span class="s3">'-1' </span><span class="s0">? </span><span class="s3">'-n' </span><span class="s0">: </span><span class="s4">// eslint-disable-line operator-linebreak, indent</span>
                    <span class="s0">node.a + </span><span class="s3">'n'             </span><span class="s4">// eslint-disable-line operator-linebreak, indent</span>
                <span class="s0">)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(b) {</span>
                    <span class="s0">b = String(node.b)</span><span class="s2">;</span>
                    <span class="s1">if </span><span class="s0">(b.charAt(</span><span class="s5">0</span><span class="s0">) === </span><span class="s3">'-' </span><span class="s0">|| b.charAt(</span><span class="s5">0</span><span class="s0">) === </span><span class="s3">'+'</span><span class="s0">) {</span>
                        <span class="s1">this</span><span class="s0">.chunk(b.charAt(</span><span class="s5">0</span><span class="s0">))</span><span class="s2">;</span>
                        <span class="s1">this</span><span class="s0">.chunk(b.substr(</span><span class="s5">1</span><span class="s0">))</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'+'</span><span class="s0">)</span><span class="s2">;</span>
                        <span class="s1">this</span><span class="s0">.chunk(b)</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">.chunk(String(node.b))</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$a = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">WhiteSpace = TYPE$a.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">Semicolon = TYPE$a.Semicolon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LeftCurlyBracket = TYPE$a.LeftCurlyBracket</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">Delim = TYPE$a.Delim</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">EXCLAMATIONMARK$1 = </span><span class="s5">0x0021</span><span class="s2">; </span><span class="s4">// U+0021 EXCLAMATION MARK (!)</span>

    <span class="s1">function </span><span class="s0">getOffsetExcludeWS() {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenIndex &gt; </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.lookupType(-</span><span class="s5">1</span><span class="s0">) === WhiteSpace) {</span>
                <span class="s1">return this</span><span class="s0">.scanner.tokenIndex &gt; </span><span class="s5">1</span>
                    <span class="s0">? </span><span class="s1">this</span><span class="s0">.scanner.getTokenStart(</span><span class="s1">this</span><span class="s0">.scanner.tokenIndex - </span><span class="s5">1</span><span class="s0">)</span>
                    <span class="s0">: </span><span class="s1">this</span><span class="s0">.scanner.firstCharOffset</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// 0, 0, false</span>
    <span class="s1">function </span><span class="s0">balanceEnd() {</span>
        <span class="s1">return </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// LEFTCURLYBRACKET, 0, false</span>
    <span class="s1">function </span><span class="s0">leftCurlyBracket(tokenType) {</span>
        <span class="s1">return </span><span class="s0">tokenType === LeftCurlyBracket ? </span><span class="s5">1 </span><span class="s0">: </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// LEFTCURLYBRACKET, SEMICOLON, false</span>
    <span class="s1">function </span><span class="s0">leftCurlyBracketOrSemicolon(tokenType) {</span>
        <span class="s1">return </span><span class="s0">tokenType === LeftCurlyBracket || tokenType === Semicolon ? </span><span class="s5">1 </span><span class="s0">: </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// EXCLAMATIONMARK, SEMICOLON, false</span>
    <span class="s1">function </span><span class="s0">exclamationMarkOrSemicolon(tokenType</span><span class="s2">, </span><span class="s0">source</span><span class="s2">, </span><span class="s0">offset) {</span>
        <span class="s1">if </span><span class="s0">(tokenType === Delim &amp;&amp; source.charCodeAt(offset) === EXCLAMATIONMARK$1) {</span>
            <span class="s1">return </span><span class="s5">1</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">tokenType === Semicolon ? </span><span class="s5">1 </span><span class="s0">: </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// 0, SEMICOLON, true</span>
    <span class="s1">function </span><span class="s0">semicolonIncluded(tokenType) {</span>
        <span class="s1">return </span><span class="s0">tokenType === Semicolon ? </span><span class="s5">2 </span><span class="s0">: </span><span class="s5">0</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">Raw = {</span>
        <span class="s0">name: </span><span class="s3">'Raw'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">value: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">(startToken</span><span class="s2">, </span><span class="s0">mode</span><span class="s2">, </span><span class="s0">excludeWhiteSpace) {</span>
            <span class="s1">var </span><span class="s0">startOffset = </span><span class="s1">this</span><span class="s0">.scanner.getTokenStart(startToken)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">endOffset</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.scanner.skip(</span>
                <span class="s1">this</span><span class="s0">.scanner.getRawLength(startToken</span><span class="s2">, </span><span class="s0">mode || balanceEnd)</span>
            <span class="s0">)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(excludeWhiteSpace &amp;&amp; </span><span class="s1">this</span><span class="s0">.scanner.tokenStart &gt; startOffset) {</span>
                <span class="s0">endOffset = getOffsetExcludeWS.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">endOffset = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Raw'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(startOffset</span><span class="s2">, </span><span class="s0">endOffset)</span><span class="s2">,</span>
                <span class="s0">value: </span><span class="s1">this</span><span class="s0">.scanner.source.substring(startOffset</span><span class="s2">, </span><span class="s0">endOffset)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.value)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>

        <span class="s0">mode: {</span>
            <span class="s1">default</span><span class="s0">: balanceEnd</span><span class="s2">,</span>
            <span class="s0">leftCurlyBracket: leftCurlyBracket</span><span class="s2">,</span>
            <span class="s0">leftCurlyBracketOrSemicolon: leftCurlyBracketOrSemicolon</span><span class="s2">,</span>
            <span class="s0">exclamationMarkOrSemicolon: exclamationMarkOrSemicolon</span><span class="s2">,</span>
            <span class="s0">semicolonIncluded: semicolonIncluded</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$b = tokenizer.TYPE</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">rawMode = Raw.mode</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">ATKEYWORD = TYPE$b.AtKeyword</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">SEMICOLON = TYPE$b.Semicolon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTCURLYBRACKET$1 = TYPE$b.LeftCurlyBracket</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">RIGHTCURLYBRACKET$1 = TYPE$b.RightCurlyBracket</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">consumeRaw(startToken) {</span>
        <span class="s1">return this</span><span class="s0">.Raw(startToken</span><span class="s2">, </span><span class="s0">rawMode.leftCurlyBracketOrSemicolon</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">isDeclarationBlockAtrule() {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">offset = </span><span class="s5">1</span><span class="s2">, </span><span class="s0">type</span><span class="s2">; </span><span class="s0">type = </span><span class="s1">this</span><span class="s0">.scanner.lookupType(offset)</span><span class="s2">; </span><span class="s0">offset++) {</span>
            <span class="s1">if </span><span class="s0">(type === RIGHTCURLYBRACKET$1) {</span>
                <span class="s1">return true</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(type === LEFTCURLYBRACKET$1 ||</span>
                <span class="s0">type === ATKEYWORD) {</span>
                <span class="s1">return false</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return false</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">Atrule = {</span>
        <span class="s0">name: </span><span class="s3">'Atrule'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">name: String</span><span class="s2">,</span>
            <span class="s0">prelude: [</span><span class="s3">'AtrulePrelude'</span><span class="s2">, </span><span class="s3">'Raw'</span><span class="s2">, </span><span class="s1">null</span><span class="s0">]</span><span class="s2">,</span>
            <span class="s0">block: [</span><span class="s3">'Block'</span><span class="s2">, </span><span class="s1">null</span><span class="s0">]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">name</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">nameLowerCase</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">prelude = </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">block = </span><span class="s1">null</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(ATKEYWORD)</span><span class="s2">;</span>

            <span class="s0">name = </span><span class="s1">this</span><span class="s0">.scanner.substrToCursor(start + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">nameLowerCase = name.toLowerCase()</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

            <span class="s4">// parse prelude</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.eof === </span><span class="s1">false </span><span class="s0">&amp;&amp;</span>
                <span class="s1">this</span><span class="s0">.scanner.tokenType !== LEFTCURLYBRACKET$1 &amp;&amp;</span>
                <span class="s1">this</span><span class="s0">.scanner.tokenType !== SEMICOLON) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.parseAtrulePrelude) {</span>
                    <span class="s0">prelude = </span><span class="s1">this</span><span class="s0">.parseWithFallback(</span><span class="s1">this</span><span class="s0">.AtrulePrelude.bind(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">name)</span><span class="s2">, </span><span class="s0">consumeRaw)</span><span class="s2">;</span>

                    <span class="s4">// turn empty AtrulePrelude into null</span>
                    <span class="s1">if </span><span class="s0">(prelude.type === </span><span class="s3">'AtrulePrelude' </span><span class="s0">&amp;&amp; prelude.children.head === </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s0">prelude = </span><span class="s1">null</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">prelude = consumeRaw.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenIndex)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
                <span class="s1">case </span><span class="s0">SEMICOLON:</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">LEFTCURLYBRACKET$1:</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.atrule.hasOwnProperty(nameLowerCase) &amp;&amp;</span>
                        <span class="s1">typeof this</span><span class="s0">.atrule[nameLowerCase].block === </span><span class="s3">'function'</span><span class="s0">) {</span>
                        <span class="s0">block = </span><span class="s1">this</span><span class="s0">.atrule[nameLowerCase].block.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s4">// TODO: should consume block content as Raw?</span>
                        <span class="s0">block = </span><span class="s1">this</span><span class="s0">.Block(isDeclarationBlockAtrule.call(</span><span class="s1">this</span><span class="s0">))</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Atrule'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">name: name</span><span class="s2">,</span>
                <span class="s0">prelude: prelude</span><span class="s2">,</span>
                <span class="s0">block: block</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'@'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(node.name)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(node.prelude !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">' '</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.node(node.prelude)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(node.block) {</span>
                <span class="s1">this</span><span class="s0">.node(node.block)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">';'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">walkContext: </span><span class="s3">'atrule'</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$c = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">SEMICOLON$1 = TYPE$c.Semicolon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTCURLYBRACKET$2 = TYPE$c.LeftCurlyBracket</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">AtrulePrelude = {</span>
        <span class="s0">name: </span><span class="s3">'AtrulePrelude'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">children: [[]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">(name) {</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">null</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(name !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s0">name = name.toLowerCase()</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.atrule.hasOwnProperty(name) &amp;&amp;</span>
                <span class="s1">typeof this</span><span class="s0">.atrule[name].prelude === </span><span class="s3">'function'</span><span class="s0">) {</span>
                <span class="s4">// custom consumer</span>
                <span class="s0">children = </span><span class="s1">this</span><span class="s0">.atrule[name].prelude.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s4">// default consumer</span>
                <span class="s0">children = </span><span class="s1">this</span><span class="s0">.readSequence(</span><span class="s1">this</span><span class="s0">.scope.AtrulePrelude)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.eof !== </span><span class="s1">true </span><span class="s0">&amp;&amp;</span>
                <span class="s1">this</span><span class="s0">.scanner.tokenType !== LEFTCURLYBRACKET$2 &amp;&amp;</span>
                <span class="s1">this</span><span class="s0">.scanner.tokenType !== SEMICOLON$1) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Semicolon or block is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(children === </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'AtrulePrelude'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocationFromList(children)</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.children(node)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">walkContext: </span><span class="s3">'atrulePrelude'</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$d = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$4 = TYPE$d.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">STRING = TYPE$d.String</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COLON = TYPE$d.Colon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTSQUAREBRACKET$1 = TYPE$d.LeftSquareBracket</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">RIGHTSQUAREBRACKET$1 = TYPE$d.RightSquareBracket</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DOLLARSIGN = </span><span class="s5">0x0024</span><span class="s2">;       </span><span class="s4">// U+0024 DOLLAR SIGN ($)</span>
    <span class="s1">var </span><span class="s0">ASTERISK$1 = </span><span class="s5">0x002A</span><span class="s2">;         </span><span class="s4">// U+002A ASTERISK (*)</span>
    <span class="s1">var </span><span class="s0">EQUALSSIGN = </span><span class="s5">0x003D</span><span class="s2">;       </span><span class="s4">// U+003D EQUALS SIGN (=)</span>
    <span class="s1">var </span><span class="s0">CIRCUMFLEXACCENT = </span><span class="s5">0x005E</span><span class="s2">; </span><span class="s4">// U+005E (^)</span>
    <span class="s1">var </span><span class="s0">VERTICALLINE$1 = </span><span class="s5">0x007C</span><span class="s2">;     </span><span class="s4">// U+007C VERTICAL LINE (|)</span>
    <span class="s1">var </span><span class="s0">TILDE = </span><span class="s5">0x007E</span><span class="s2">;            </span><span class="s4">// U+007E TILDE (~)</span>

    <span class="s1">function </span><span class="s0">getAttributeName() {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
            <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Unexpected end of input'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">expectIdent = </span><span class="s1">false</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">checkColon = </span><span class="s1">true</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(ASTERISK$1)) {</span>
            <span class="s0">expectIdent = </span><span class="s1">true</span><span class="s2">;</span>
            <span class="s0">checkColon = </span><span class="s1">false</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.isDelim(VERTICALLINE$1)) {</span>
            <span class="s1">this</span><span class="s0">.eat(IDENT$4)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(VERTICALLINE$1)) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart + </span><span class="s5">1</span><span class="s0">) !== EQUALSSIGN) {</span>
                <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.eat(IDENT$4)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else if </span><span class="s0">(expectIdent) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Identifier is expected'</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(expectIdent) {</span>
            <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Vertical line is expected'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(checkColon &amp;&amp; </span><span class="s1">this</span><span class="s0">.scanner.tokenType === COLON) {</span>
            <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.eat(IDENT$4)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s3">'Identifier'</span><span class="s2">,</span>
            <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
            <span class="s0">name: </span><span class="s1">this</span><span class="s0">.scanner.substrToCursor(start)</span>
        <span class="s0">}</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">getOperator() {</span>
        <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">code = </span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(start)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(code !== EQUALSSIGN &amp;&amp;        </span><span class="s4">// =</span>
            <span class="s0">code !== TILDE &amp;&amp;             </span><span class="s4">// ~=</span>
            <span class="s0">code !== CIRCUMFLEXACCENT &amp;&amp;  </span><span class="s4">// ^=</span>
            <span class="s0">code !== DOLLARSIGN &amp;&amp;        </span><span class="s4">// $=</span>
            <span class="s0">code !== ASTERISK$1 &amp;&amp;          </span><span class="s4">// *=</span>
            <span class="s0">code !== VERTICALLINE$1         </span><span class="s4">// |=</span>
        <span class="s0">) {</span>
            <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Attribute selector (=, ~=, ^=, $=, *=, |=) is expected'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(code !== EQUALSSIGN) {</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.isDelim(EQUALSSIGN)) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Equal sign is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return this</span><span class="s0">.scanner.substrToCursor(start)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// '[' &lt;wq-name&gt; ']'</span>
    <span class="s4">// '[' &lt;wq-name&gt; &lt;attr-matcher&gt; [ &lt;string-token&gt; | &lt;ident-token&gt; ] &lt;attr-modifier&gt;? ']'</span>
    <span class="s1">var </span><span class="s0">AttributeSelector = {</span>
        <span class="s0">name: </span><span class="s3">'AttributeSelector'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">name: </span><span class="s3">'Identifier'</span><span class="s2">,</span>
            <span class="s0">matcher: [String</span><span class="s2">, </span><span class="s1">null</span><span class="s0">]</span><span class="s2">,</span>
            <span class="s0">value: [</span><span class="s3">'String'</span><span class="s2">, </span><span class="s3">'Identifier'</span><span class="s2">, </span><span class="s1">null</span><span class="s0">]</span><span class="s2">,</span>
            <span class="s0">flags: [String</span><span class="s2">, </span><span class="s1">null</span><span class="s0">]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">name</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">matcher = </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">value = </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">flags = </span><span class="s1">null</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(LEFTSQUAREBRACKET$1)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

            <span class="s0">name = getAttributeName.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType !== RIGHTSQUAREBRACKET$1) {</span>
                <span class="s4">// avoid case `[name i]`</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType !== IDENT$4) {</span>
                    <span class="s0">matcher = getOperator.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>

                    <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

                    <span class="s0">value = </span><span class="s1">this</span><span class="s0">.scanner.tokenType === STRING</span>
                        <span class="s0">? </span><span class="s1">this</span><span class="s0">.String()</span>
                        <span class="s0">: </span><span class="s1">this</span><span class="s0">.Identifier()</span><span class="s2">;</span>

                    <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s4">// attribute flags</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === IDENT$4) {</span>
                    <span class="s0">flags = </span><span class="s1">this</span><span class="s0">.scanner.getTokenValue()</span><span class="s2">;</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>

                    <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.eat(RIGHTSQUAREBRACKET$1)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'AttributeSelector'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">name: name</span><span class="s2">,</span>
                <span class="s0">matcher: matcher</span><span class="s2">,</span>
                <span class="s0">value: value</span><span class="s2">,</span>
                <span class="s0">flags: flags</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">var </span><span class="s0">flagsPrefix = </span><span class="s3">' '</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'['</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.node(node.name)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(node.matcher !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.chunk(node.matcher)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(node.value !== </span><span class="s1">null</span><span class="s0">) {</span>
                    <span class="s1">this</span><span class="s0">.node(node.value)</span><span class="s2">;</span>

                    <span class="s4">// space between string and flags is not required</span>
                    <span class="s1">if </span><span class="s0">(node.value.type === </span><span class="s3">'String'</span><span class="s0">) {</span>
                        <span class="s0">flagsPrefix = </span><span class="s3">''</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(node.flags !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.chunk(flagsPrefix)</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.chunk(node.flags)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">']'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$e = tokenizer.TYPE</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">rawMode$1 = Raw.mode</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">WHITESPACE$5 = TYPE$e.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMMENT$5 = TYPE$e.Comment</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">SEMICOLON$2 = TYPE$e.Semicolon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">ATKEYWORD$1 = TYPE$e.AtKeyword</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTCURLYBRACKET$3 = TYPE$e.LeftCurlyBracket</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">RIGHTCURLYBRACKET$2 = TYPE$e.RightCurlyBracket</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">consumeRaw$1(startToken) {</span>
        <span class="s1">return this</span><span class="s0">.Raw(startToken</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">consumeRule() {</span>
        <span class="s1">return this</span><span class="s0">.parseWithFallback(</span><span class="s1">this</span><span class="s0">.Rule</span><span class="s2">, </span><span class="s0">consumeRaw$1)</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">consumeRawDeclaration(startToken) {</span>
        <span class="s1">return this</span><span class="s0">.Raw(startToken</span><span class="s2">, </span><span class="s0">rawMode$1.semicolonIncluded</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">consumeDeclaration() {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === SEMICOLON$2) {</span>
            <span class="s1">return </span><span class="s0">consumeRawDeclaration.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenIndex)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s0">node = </span><span class="s1">this</span><span class="s0">.parseWithFallback(</span><span class="s1">this</span><span class="s0">.Declaration</span><span class="s2">, </span><span class="s0">consumeRawDeclaration)</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === SEMICOLON$2) {</span>
            <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">node</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">Block = {</span>
        <span class="s0">name: </span><span class="s3">'Block'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">children: [[</span>
                <span class="s3">'Atrule'</span><span class="s2">,</span>
                <span class="s3">'Rule'</span><span class="s2">,</span>
                <span class="s3">'Declaration'</span>
            <span class="s0">]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">(isDeclaration) {</span>
            <span class="s1">var </span><span class="s0">consumer = isDeclaration ? consumeDeclaration : consumeRule</span><span class="s2">;</span>

            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(LEFTCURLYBRACKET$3)</span><span class="s2">;</span>

            <span class="s0">scan:</span>
            <span class="s1">while </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
                <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
                    <span class="s1">case </span><span class="s0">RIGHTCURLYBRACKET$2:</span>
                        <span class="s1">break </span><span class="s0">scan</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">WHITESPACE$5:</span>
                    <span class="s1">case </span><span class="s0">COMMENT$5:</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">ATKEYWORD$1:</span>
                        <span class="s0">children.push(</span><span class="s1">this</span><span class="s0">.parseWithFallback(</span><span class="s1">this</span><span class="s0">.Atrule</span><span class="s2">, </span><span class="s0">consumeRaw$1))</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">default</span><span class="s0">:</span>
                        <span class="s0">children.push(consumer.call(</span><span class="s1">this</span><span class="s0">))</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
                <span class="s1">this</span><span class="s0">.eat(RIGHTCURLYBRACKET$2)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Block'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'{'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.children(node</span><span class="s2">, </span><span class="s1">function</span><span class="s0">(prev) {</span>
                <span class="s1">if </span><span class="s0">(prev.type === </span><span class="s3">'Declaration'</span><span class="s0">) {</span>
                    <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">';'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">})</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'}'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">walkContext: </span><span class="s3">'block'</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$f = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">LEFTSQUAREBRACKET$2 = TYPE$f.LeftSquareBracket</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">RIGHTSQUAREBRACKET$2 = TYPE$f.RightSquareBracket</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">Brackets = {</span>
        <span class="s0">name: </span><span class="s3">'Brackets'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">children: [[]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">(readSequence</span><span class="s2">, </span><span class="s0">recognizer) {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">null</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(LEFTSQUAREBRACKET$2)</span><span class="s2">;</span>

            <span class="s0">children = readSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">recognizer)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
                <span class="s1">this</span><span class="s0">.eat(RIGHTSQUAREBRACKET$2)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Brackets'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'['</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.children(node)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">']'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">CDC = tokenizer.TYPE.CDC</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">CDC_1 = {</span>
        <span class="s0">name: </span><span class="s3">'CDC'</span><span class="s2">,</span>
        <span class="s0">structure: []</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(CDC)</span><span class="s2">; </span><span class="s4">// --&gt;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'CDC'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'--&gt;'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">CDO = tokenizer.TYPE.CDO</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">CDO_1 = {</span>
        <span class="s0">name: </span><span class="s3">'CDO'</span><span class="s2">,</span>
        <span class="s0">structure: []</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(CDO)</span><span class="s2">; </span><span class="s4">// &lt;!--</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'CDO'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'&lt;!--'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$g = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$5 = TYPE$g.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">FULLSTOP = </span><span class="s5">0x002E</span><span class="s2">; </span><span class="s4">// U+002E FULL STOP (.)</span>

    <span class="s4">// '.' ident</span>
    <span class="s1">var </span><span class="s0">ClassSelector = {</span>
        <span class="s0">name: </span><span class="s3">'ClassSelector'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">name: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.isDelim(FULLSTOP)) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Full stop is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'ClassSelector'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart - </span><span class="s5">1</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd)</span><span class="s2">,</span>
                <span class="s0">name: </span><span class="s1">this</span><span class="s0">.consume(IDENT$5)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'.'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(node.name)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$h = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$6 = TYPE$h.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">PLUSSIGN$4 = </span><span class="s5">0x002B</span><span class="s2">;        </span><span class="s4">// U+002B PLUS SIGN (+)</span>
    <span class="s1">var </span><span class="s0">SOLIDUS = </span><span class="s5">0x002F</span><span class="s2">;         </span><span class="s4">// U+002F SOLIDUS (/)</span>
    <span class="s1">var </span><span class="s0">GREATERTHANSIGN$1 = </span><span class="s5">0x003E</span><span class="s2">; </span><span class="s4">// U+003E GREATER-THAN SIGN (&gt;)</span>
    <span class="s1">var </span><span class="s0">TILDE$1 = </span><span class="s5">0x007E</span><span class="s2">;           </span><span class="s4">// U+007E TILDE (~)</span>

    <span class="s4">// + | &gt; | ~ | /deep/</span>
    <span class="s1">var </span><span class="s0">Combinator = {</span>
        <span class="s0">name: </span><span class="s3">'Combinator'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">name: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">code = </span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">;</span>

            <span class="s1">switch </span><span class="s0">(code) {</span>
                <span class="s1">case </span><span class="s0">GREATERTHANSIGN$1:</span>
                <span class="s1">case </span><span class="s0">PLUSSIGN$4:</span>
                <span class="s1">case </span><span class="s0">TILDE$1:</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">SOLIDUS:</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>

                    <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType !== IDENT$6 || </span><span class="s1">this</span><span class="s0">.scanner.lookupValue(</span><span class="s5">0</span><span class="s2">, </span><span class="s3">'deep'</span><span class="s0">) === </span><span class="s1">false</span><span class="s0">) {</span>
                        <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Identifier `deep` is expected'</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>

                    <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.isDelim(SOLIDUS)) {</span>
                        <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Solidus is expected'</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">default</span><span class="s0">:</span>
                    <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Combinator is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Combinator'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">name: </span><span class="s1">this</span><span class="s0">.scanner.substrToCursor(start)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.name)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$i = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">COMMENT$6 = TYPE$i.Comment</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">ASTERISK$2 = </span><span class="s5">0x002A</span><span class="s2">;        </span><span class="s4">// U+002A ASTERISK (*)</span>
    <span class="s1">var </span><span class="s0">SOLIDUS$1 = </span><span class="s5">0x002F</span><span class="s2">;         </span><span class="s4">// U+002F SOLIDUS (/)</span>

    <span class="s4">// '/*' .* '*/'</span>
    <span class="s1">var </span><span class="s0">Comment = {</span>
        <span class="s0">name: </span><span class="s3">'Comment'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">value: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">end = </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(COMMENT$6)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">((end - start + </span><span class="s5">2</span><span class="s0">) &gt;= </span><span class="s5">2 </span><span class="s0">&amp;&amp;</span>
                <span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(end - </span><span class="s5">2</span><span class="s0">) === ASTERISK$2 &amp;&amp;</span>
                <span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(end - </span><span class="s5">1</span><span class="s0">) === SOLIDUS$1) {</span>
                <span class="s0">end -= </span><span class="s5">2</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Comment'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">value: </span><span class="s1">this</span><span class="s0">.scanner.source.substring(start + </span><span class="s5">2</span><span class="s2">, </span><span class="s0">end)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'/*'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(node.value)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'*/'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">isCustomProperty$1 = names.isCustomProperty</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$j = tokenizer.TYPE</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">rawMode$2 = Raw.mode</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$7 = TYPE$j.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">HASH$1 = TYPE$j.Hash</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COLON$1 = TYPE$j.Colon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">SEMICOLON$3 = TYPE$j.Semicolon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DELIM$2 = TYPE$j.Delim</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">WHITESPACE$6 = TYPE$j.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">EXCLAMATIONMARK$2 = </span><span class="s5">0x0021</span><span class="s2">; </span><span class="s4">// U+0021 EXCLAMATION MARK (!)</span>
    <span class="s1">var </span><span class="s0">NUMBERSIGN$2 = </span><span class="s5">0x0023</span><span class="s2">;      </span><span class="s4">// U+0023 NUMBER SIGN (#)</span>
    <span class="s1">var </span><span class="s0">DOLLARSIGN$1 = </span><span class="s5">0x0024</span><span class="s2">;      </span><span class="s4">// U+0024 DOLLAR SIGN ($)</span>
    <span class="s1">var </span><span class="s0">AMPERSAND$1 = </span><span class="s5">0x0026</span><span class="s2">;       </span><span class="s4">// U+0026 ANPERSAND (&amp;)</span>
    <span class="s1">var </span><span class="s0">ASTERISK$3 = </span><span class="s5">0x002A</span><span class="s2">;        </span><span class="s4">// U+002A ASTERISK (*)</span>
    <span class="s1">var </span><span class="s0">PLUSSIGN$5 = </span><span class="s5">0x002B</span><span class="s2">;        </span><span class="s4">// U+002B PLUS SIGN (+)</span>
    <span class="s1">var </span><span class="s0">SOLIDUS$2 = </span><span class="s5">0x002F</span><span class="s2">;         </span><span class="s4">// U+002F SOLIDUS (/)</span>

    <span class="s1">function </span><span class="s0">consumeValueRaw(startToken) {</span>
        <span class="s1">return this</span><span class="s0">.Raw(startToken</span><span class="s2">, </span><span class="s0">rawMode$2.exclamationMarkOrSemicolon</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">consumeCustomPropertyRaw(startToken) {</span>
        <span class="s1">return this</span><span class="s0">.Raw(startToken</span><span class="s2">, </span><span class="s0">rawMode$2.exclamationMarkOrSemicolon</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">consumeValue() {</span>
        <span class="s1">var </span><span class="s0">startValueToken = </span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">value = </span><span class="s1">this</span><span class="s0">.Value()</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(value.type !== </span><span class="s3">'Raw' </span><span class="s0">&amp;&amp;</span>
            <span class="s1">this</span><span class="s0">.scanner.eof === </span><span class="s1">false </span><span class="s0">&amp;&amp;</span>
            <span class="s1">this</span><span class="s0">.scanner.tokenType !== SEMICOLON$3 &amp;&amp;</span>
            <span class="s1">this</span><span class="s0">.scanner.isDelim(EXCLAMATIONMARK$2) === </span><span class="s1">false </span><span class="s0">&amp;&amp;</span>
            <span class="s1">this</span><span class="s0">.scanner.isBalanceEdge(startValueToken) === </span><span class="s1">false</span><span class="s0">) {</span>
            <span class="s1">this</span><span class="s0">.error()</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">value</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">Declaration = {</span>
        <span class="s0">name: </span><span class="s3">'Declaration'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">important: [Boolean</span><span class="s2">, </span><span class="s0">String]</span><span class="s2">,</span>
            <span class="s0">property: String</span><span class="s2">,</span>
            <span class="s0">value: [</span><span class="s3">'Value'</span><span class="s2">, </span><span class="s3">'Raw'</span><span class="s0">]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">startToken = </span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">property = readProperty$1.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">customProperty = isCustomProperty$1(property)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">parseValue = customProperty ? </span><span class="s1">this</span><span class="s0">.parseCustomProperty : </span><span class="s1">this</span><span class="s0">.parseValue</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">consumeRaw = customProperty ? consumeCustomPropertyRaw : consumeValueRaw</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">important = </span><span class="s1">false</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">value</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.eat(COLON$1)</span><span class="s2">;</span>

            <span class="s1">const </span><span class="s0">valueStart = </span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(!customProperty) {</span>
                <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(parseValue) {</span>
                <span class="s0">value = </span><span class="s1">this</span><span class="s0">.parseWithFallback(consumeValue</span><span class="s2">, </span><span class="s0">consumeRaw)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">value = consumeRaw.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenIndex)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(customProperty &amp;&amp; value.type === </span><span class="s3">'Value' </span><span class="s0">&amp;&amp; value.children.isEmpty()) {</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s0">offset = valueStart - </span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">; </span><span class="s0">offset &lt;= </span><span class="s5">0</span><span class="s2">; </span><span class="s0">offset++) {</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.lookupType(offset) === WHITESPACE$6) {</span>
                        <span class="s0">value.children.appendData({</span>
                            <span class="s0">type: </span><span class="s3">'WhiteSpace'</span><span class="s2">,</span>
                            <span class="s0">loc: </span><span class="s1">null</span><span class="s2">,</span>
                            <span class="s0">value: </span><span class="s3">' '</span>
                        <span class="s0">})</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(EXCLAMATIONMARK$2)) {</span>
                <span class="s0">important = getImportant.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s4">// Do not include semicolon to range per spec</span>
            <span class="s4">// https://drafts.csswg.org/css-syntax/#declaration-diagram</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.eof === </span><span class="s1">false </span><span class="s0">&amp;&amp;</span>
                <span class="s1">this</span><span class="s0">.scanner.tokenType !== SEMICOLON$3 &amp;&amp;</span>
                <span class="s1">this</span><span class="s0">.scanner.isBalanceEdge(startToken) === </span><span class="s1">false</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.error()</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Declaration'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">important: important</span><span class="s2">,</span>
                <span class="s0">property: property</span><span class="s2">,</span>
                <span class="s0">value: value</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.property)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">':'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.node(node.value)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(node.important) {</span>
                <span class="s1">this</span><span class="s0">.chunk(node.important === </span><span class="s1">true </span><span class="s0">? </span><span class="s3">'!important' </span><span class="s0">: </span><span class="s3">'!' </span><span class="s0">+ node.important)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">walkContext: </span><span class="s3">'declaration'</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">readProperty$1() {</span>
        <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>

        <span class="s4">// hacks</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === DELIM$2) {</span>
            <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart)) {</span>
                <span class="s1">case </span><span class="s0">ASTERISK$3:</span>
                <span class="s1">case </span><span class="s0">DOLLARSIGN$1:</span>
                <span class="s1">case </span><span class="s0">PLUSSIGN$5:</span>
                <span class="s1">case </span><span class="s0">NUMBERSIGN$2:</span>
                <span class="s1">case </span><span class="s0">AMPERSAND$1:</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s4">// TODO: not sure we should support this hack</span>
                <span class="s1">case </span><span class="s0">SOLIDUS$2:</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(SOLIDUS$2)) {</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === HASH$1) {</span>
            <span class="s1">this</span><span class="s0">.eat(HASH$1)</span><span class="s2">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s1">this</span><span class="s0">.eat(IDENT$7)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return this</span><span class="s0">.scanner.substrToCursor(start)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// ! ws* important</span>
    <span class="s1">function </span><span class="s0">getImportant() {</span>
        <span class="s1">this</span><span class="s0">.eat(DELIM$2)</span><span class="s2">;</span>
        <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

        <span class="s1">var </span><span class="s0">important = </span><span class="s1">this</span><span class="s0">.consume(IDENT$7)</span><span class="s2">;</span>

        <span class="s4">// store original value in case it differ from `important`</span>
        <span class="s4">// for better original source restoring and hacks like `!ie` support</span>
        <span class="s1">return </span><span class="s0">important === </span><span class="s3">'important' </span><span class="s0">? </span><span class="s1">true </span><span class="s0">: important</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">TYPE$k = tokenizer.TYPE</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">rawMode$3 = Raw.mode</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">WHITESPACE$7 = TYPE$k.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMMENT$7 = TYPE$k.Comment</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">SEMICOLON$4 = TYPE$k.Semicolon</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">consumeRaw$2(startToken) {</span>
        <span class="s1">return this</span><span class="s0">.Raw(startToken</span><span class="s2">, </span><span class="s0">rawMode$3.semicolonIncluded</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">DeclarationList = {</span>
        <span class="s0">name: </span><span class="s3">'DeclarationList'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">children: [[</span>
                <span class="s3">'Declaration'</span>
            <span class="s0">]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>

            
            <span class="s1">while </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
                <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
                    <span class="s1">case </span><span class="s0">WHITESPACE$7:</span>
                    <span class="s1">case </span><span class="s0">COMMENT$7:</span>
                    <span class="s1">case </span><span class="s0">SEMICOLON$4:</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">default</span><span class="s0">:</span>
                        <span class="s0">children.push(</span><span class="s1">this</span><span class="s0">.parseWithFallback(</span><span class="s1">this</span><span class="s0">.Declaration</span><span class="s2">, </span><span class="s0">consumeRaw$2))</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'DeclarationList'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocationFromList(children)</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.children(node</span><span class="s2">, </span><span class="s1">function</span><span class="s0">(prev) {</span>
                <span class="s1">if </span><span class="s0">(prev.type === </span><span class="s3">'Declaration'</span><span class="s0">) {</span>
                    <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">';'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">})</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">consumeNumber$3 = utils.consumeNumber</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$l = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">DIMENSION$3 = TYPE$l.Dimension</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">Dimension = {</span>
        <span class="s0">name: </span><span class="s3">'Dimension'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">value: String</span><span class="s2">,</span>
            <span class="s0">unit: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">numberEnd = consumeNumber$3(</span><span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">, </span><span class="s0">start)</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(DIMENSION$3)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Dimension'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">value: </span><span class="s1">this</span><span class="s0">.scanner.source.substring(start</span><span class="s2">, </span><span class="s0">numberEnd)</span><span class="s2">,</span>
                <span class="s0">unit: </span><span class="s1">this</span><span class="s0">.scanner.source.substring(numberEnd</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.value)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(node.unit)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$m = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">RIGHTPARENTHESIS$2 = TYPE$m.RightParenthesis</span><span class="s2">;</span>

    <span class="s4">// &lt;function-token&gt; &lt;sequence&gt; )</span>
    <span class="s1">var </span><span class="s0">_Function = {</span>
        <span class="s0">name: </span><span class="s3">'Function'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">name: String</span><span class="s2">,</span>
            <span class="s0">children: [[]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">(readSequence</span><span class="s2">, </span><span class="s0">recognizer) {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">name = </span><span class="s1">this</span><span class="s0">.consumeFunctionName()</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">nameLowerCase = name.toLowerCase()</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">children</span><span class="s2">;</span>

            <span class="s0">children = recognizer.hasOwnProperty(nameLowerCase)</span>
                <span class="s0">? recognizer[nameLowerCase].call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">recognizer)</span>
                <span class="s0">: readSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">recognizer)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
                <span class="s1">this</span><span class="s0">.eat(RIGHTPARENTHESIS$2)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Function'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">name: name</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.name)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'('</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.children(node)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">')'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">walkContext: </span><span class="s3">'function'</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$n = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">HASH$2 = TYPE$n.Hash</span><span class="s2">;</span>

    <span class="s4">// '#' ident</span>
    <span class="s1">var </span><span class="s0">Hash = {</span>
        <span class="s0">name: </span><span class="s3">'Hash'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">value: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(HASH$2)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Hash'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">value: </span><span class="s1">this</span><span class="s0">.scanner.substrToCursor(start + </span><span class="s5">1</span><span class="s0">)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'#'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(node.value)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$o = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$8 = TYPE$o.Ident</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">Identifier = {</span>
        <span class="s0">name: </span><span class="s3">'Identifier'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">name: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Identifier'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd)</span><span class="s2">,</span>
                <span class="s0">name: </span><span class="s1">this</span><span class="s0">.consume(IDENT$8)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.name)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$p = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">HASH$3 = TYPE$p.Hash</span><span class="s2">;</span>

    <span class="s4">// &lt;hash-token&gt;</span>
    <span class="s1">var </span><span class="s0">IdSelector = {</span>
        <span class="s0">name: </span><span class="s3">'IdSelector'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">name: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>

            <span class="s4">// TODO: check value is an ident</span>
            <span class="s1">this</span><span class="s0">.eat(HASH$3)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'IdSelector'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">name: </span><span class="s1">this</span><span class="s0">.scanner.substrToCursor(start + </span><span class="s5">1</span><span class="s0">)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'#'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(node.name)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$q = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$9 = TYPE$q.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NUMBER$4 = TYPE$q.Number</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DIMENSION$4 = TYPE$q.Dimension</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTPARENTHESIS$2 = TYPE$q.LeftParenthesis</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">RIGHTPARENTHESIS$3 = TYPE$q.RightParenthesis</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COLON$2 = TYPE$q.Colon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DELIM$3 = TYPE$q.Delim</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">MediaFeature = {</span>
        <span class="s0">name: </span><span class="s3">'MediaFeature'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">name: String</span><span class="s2">,</span>
            <span class="s0">value: [</span><span class="s3">'Identifier'</span><span class="s2">, </span><span class="s3">'Number'</span><span class="s2">, </span><span class="s3">'Dimension'</span><span class="s2">, </span><span class="s3">'Ratio'</span><span class="s2">, </span><span class="s1">null</span><span class="s0">]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">name</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">value = </span><span class="s1">null</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(LEFTPARENTHESIS$2)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

            <span class="s0">name = </span><span class="s1">this</span><span class="s0">.consume(IDENT$9)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType !== RIGHTPARENTHESIS$3) {</span>
                <span class="s1">this</span><span class="s0">.eat(COLON$2)</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

                <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
                    <span class="s1">case </span><span class="s0">NUMBER$4:</span>
                        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.lookupNonWSType(</span><span class="s5">1</span><span class="s0">) === DELIM$3) {</span>
                            <span class="s0">value = </span><span class="s1">this</span><span class="s0">.Ratio()</span><span class="s2">;</span>
                        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">value = </span><span class="s1">this</span><span class="s0">.Number()</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">DIMENSION$4:</span>
                        <span class="s0">value = </span><span class="s1">this</span><span class="s0">.Dimension()</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">IDENT$9:</span>
                        <span class="s0">value = </span><span class="s1">this</span><span class="s0">.Identifier()</span><span class="s2">;</span>

                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">default</span><span class="s0">:</span>
                        <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Number, dimension, ratio or identifier is expected'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.eat(RIGHTPARENTHESIS$3)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'MediaFeature'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">name: name</span><span class="s2">,</span>
                <span class="s0">value: value</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'('</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(node.name)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(node.value !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">':'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.node(node.value)</span><span class="s2">;</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">')'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$r = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">WHITESPACE$8 = TYPE$r.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMMENT$8 = TYPE$r.Comment</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">IDENT$a = TYPE$r.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTPARENTHESIS$3 = TYPE$r.LeftParenthesis</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">MediaQuery = {</span>
        <span class="s0">name: </span><span class="s3">'MediaQuery'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">children: [[</span>
                <span class="s3">'Identifier'</span><span class="s2">,</span>
                <span class="s3">'MediaFeature'</span><span class="s2">,</span>
                <span class="s3">'WhiteSpace'</span>
            <span class="s0">]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

            <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">child = </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">space = </span><span class="s1">null</span><span class="s2">;</span>

            <span class="s0">scan:</span>
            <span class="s1">while </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
                <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
                    <span class="s1">case </span><span class="s0">COMMENT$8:</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                        <span class="s1">continue</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">WHITESPACE$8:</span>
                        <span class="s0">space = </span><span class="s1">this</span><span class="s0">.WhiteSpace()</span><span class="s2">;</span>
                        <span class="s1">continue</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">IDENT$a:</span>
                        <span class="s0">child = </span><span class="s1">this</span><span class="s0">.Identifier()</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">LEFTPARENTHESIS$3:</span>
                        <span class="s0">child = </span><span class="s1">this</span><span class="s0">.MediaFeature()</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">default</span><span class="s0">:</span>
                        <span class="s1">break </span><span class="s0">scan</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">if </span><span class="s0">(space !== </span><span class="s1">null</span><span class="s0">) {</span>
                    <span class="s0">children.push(space)</span><span class="s2">;</span>
                    <span class="s0">space = </span><span class="s1">null</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">children.push(child)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(child === </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Identifier or parenthesis is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'MediaQuery'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocationFromList(children)</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.children(node)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">COMMA$1 = tokenizer.TYPE.Comma</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">MediaQueryList = {</span>
        <span class="s0">name: </span><span class="s3">'MediaQueryList'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">children: [[</span>
                <span class="s3">'MediaQuery'</span>
            <span class="s0">]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">(relative) {</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

            <span class="s1">while </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
                <span class="s0">children.push(</span><span class="s1">this</span><span class="s0">.MediaQuery(relative))</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType !== COMMA$1) {</span>
                    <span class="s1">break</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'MediaQueryList'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocationFromList(children)</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.children(node</span><span class="s2">, </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">','</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">})</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">Nth = {</span>
        <span class="s0">name: </span><span class="s3">'Nth'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">nth: [</span><span class="s3">'AnPlusB'</span><span class="s2">, </span><span class="s3">'Identifier'</span><span class="s0">]</span><span class="s2">,</span>
            <span class="s0">selector: [</span><span class="s3">'SelectorList'</span><span class="s2">, </span><span class="s1">null</span><span class="s0">]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">(allowOfClause) {</span>
            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">end = start</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">selector = </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">query</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.lookupValue(</span><span class="s5">0</span><span class="s2">, </span><span class="s3">'odd'</span><span class="s0">) || </span><span class="s1">this</span><span class="s0">.scanner.lookupValue(</span><span class="s5">0</span><span class="s2">, </span><span class="s3">'even'</span><span class="s0">)) {</span>
                <span class="s0">query = </span><span class="s1">this</span><span class="s0">.Identifier()</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">query = </span><span class="s1">this</span><span class="s0">.AnPlusB()</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(allowOfClause &amp;&amp; </span><span class="s1">this</span><span class="s0">.scanner.lookupValue(</span><span class="s5">0</span><span class="s2">, </span><span class="s3">'of'</span><span class="s0">)) {</span>
                <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>

                <span class="s0">selector = </span><span class="s1">this</span><span class="s0">.SelectorList()</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.needPositions) {</span>
                    <span class="s0">end = </span><span class="s1">this</span><span class="s0">.getLastListNode(selector.children).loc.end.offset</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.needPositions) {</span>
                    <span class="s0">end = query.loc.end.offset</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Nth'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s0">end)</span><span class="s2">,</span>
                <span class="s0">nth: query</span><span class="s2">,</span>
                <span class="s0">selector: selector</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.node(node.nth)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(node.selector !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">' of '</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.node(node.selector)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">NUMBER$5 = tokenizer.TYPE.Number</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">_Number = {</span>
        <span class="s0">name: </span><span class="s3">'Number'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">value: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Number'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd)</span><span class="s2">,</span>
                <span class="s0">value: </span><span class="s1">this</span><span class="s0">.consume(NUMBER$5)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.value)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s4">// '/' | '*' | ',' | ':' | '+' | '-'</span>
    <span class="s1">var </span><span class="s0">Operator = {</span>
        <span class="s0">name: </span><span class="s3">'Operator'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">value: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Operator'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">value: </span><span class="s1">this</span><span class="s0">.scanner.substrToCursor(start)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.value)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$s = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">LEFTPARENTHESIS$4 = TYPE$s.LeftParenthesis</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">RIGHTPARENTHESIS$4 = TYPE$s.RightParenthesis</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">Parentheses = {</span>
        <span class="s0">name: </span><span class="s3">'Parentheses'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">children: [[]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">(readSequence</span><span class="s2">, </span><span class="s0">recognizer) {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">null</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(LEFTPARENTHESIS$4)</span><span class="s2">;</span>

            <span class="s0">children = readSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">recognizer)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
                <span class="s1">this</span><span class="s0">.eat(RIGHTPARENTHESIS$4)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Parentheses'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'('</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.children(node)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">')'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">consumeNumber$4 = utils.consumeNumber</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$t = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">PERCENTAGE$1 = TYPE$t.Percentage</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">Percentage = {</span>
        <span class="s0">name: </span><span class="s3">'Percentage'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">value: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">numberEnd = consumeNumber$4(</span><span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">, </span><span class="s0">start)</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(PERCENTAGE$1)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Percentage'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">value: </span><span class="s1">this</span><span class="s0">.scanner.source.substring(start</span><span class="s2">, </span><span class="s0">numberEnd)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.value)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'%'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$u = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$b = TYPE$u.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">FUNCTION$1 = TYPE$u.Function</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COLON$3 = TYPE$u.Colon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">RIGHTPARENTHESIS$5 = TYPE$u.RightParenthesis</span><span class="s2">;</span>

    <span class="s4">// : [ &lt;ident&gt; | &lt;function-token&gt; &lt;any-value&gt;? ) ]</span>
    <span class="s1">var </span><span class="s0">PseudoClassSelector = {</span>
        <span class="s0">name: </span><span class="s3">'PseudoClassSelector'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">name: String</span><span class="s2">,</span>
            <span class="s0">children: [[</span><span class="s3">'Raw'</span><span class="s0">]</span><span class="s2">, </span><span class="s1">null</span><span class="s0">]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">name</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">nameLowerCase</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(COLON$3)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === FUNCTION$1) {</span>
                <span class="s0">name = </span><span class="s1">this</span><span class="s0">.consumeFunctionName()</span><span class="s2">;</span>
                <span class="s0">nameLowerCase = name.toLowerCase()</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.pseudo.hasOwnProperty(nameLowerCase)) {</span>
                    <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
                    <span class="s0">children = </span><span class="s1">this</span><span class="s0">.pseudo[nameLowerCase].call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>
                    <span class="s0">children.push(</span>
                        <span class="s1">this</span><span class="s0">.Raw(</span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span>
                    <span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">this</span><span class="s0">.eat(RIGHTPARENTHESIS$5)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">name = </span><span class="s1">this</span><span class="s0">.consume(IDENT$b)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'PseudoClassSelector'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">name: name</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">':'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(node.name)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(node.children !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'('</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.children(node)</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">')'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">walkContext: </span><span class="s3">'function'</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$v = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$c = TYPE$v.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">FUNCTION$2 = TYPE$v.Function</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COLON$4 = TYPE$v.Colon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">RIGHTPARENTHESIS$6 = TYPE$v.RightParenthesis</span><span class="s2">;</span>

    <span class="s4">// :: [ &lt;ident&gt; | &lt;function-token&gt; &lt;any-value&gt;? ) ]</span>
    <span class="s1">var </span><span class="s0">PseudoElementSelector = {</span>
        <span class="s0">name: </span><span class="s3">'PseudoElementSelector'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">name: String</span><span class="s2">,</span>
            <span class="s0">children: [[</span><span class="s3">'Raw'</span><span class="s0">]</span><span class="s2">, </span><span class="s1">null</span><span class="s0">]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">name</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">nameLowerCase</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.eat(COLON$4)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.eat(COLON$4)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === FUNCTION$2) {</span>
                <span class="s0">name = </span><span class="s1">this</span><span class="s0">.consumeFunctionName()</span><span class="s2">;</span>
                <span class="s0">nameLowerCase = name.toLowerCase()</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.pseudo.hasOwnProperty(nameLowerCase)) {</span>
                    <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
                    <span class="s0">children = </span><span class="s1">this</span><span class="s0">.pseudo[nameLowerCase].call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>
                    <span class="s0">children.push(</span>
                        <span class="s1">this</span><span class="s0">.Raw(</span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span>
                    <span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">this</span><span class="s0">.eat(RIGHTPARENTHESIS$6)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">name = </span><span class="s1">this</span><span class="s0">.consume(IDENT$c)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'PseudoElementSelector'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">name: name</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'::'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(node.name)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(node.children !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'('</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.children(node)</span><span class="s2">;</span>
                <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">')'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">walkContext: </span><span class="s3">'function'</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">isDigit$5 = tokenizer.isDigit</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$w = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">NUMBER$6 = TYPE$w.Number</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DELIM$4 = TYPE$w.Delim</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">SOLIDUS$3 = </span><span class="s5">0x002F</span><span class="s2">;  </span><span class="s4">// U+002F SOLIDUS (/)</span>
    <span class="s1">var </span><span class="s0">FULLSTOP$1 = </span><span class="s5">0x002E</span><span class="s2">; </span><span class="s4">// U+002E FULL STOP (.)</span>

    <span class="s4">// Terms of &lt;ratio&gt; should be a positive numbers (not zero or negative)</span>
    <span class="s4">// (see https://drafts.csswg.org/mediaqueries-3/#values)</span>
    <span class="s4">// However, -o-min-device-pixel-ratio takes fractional values as a ratio's term</span>
    <span class="s4">// and this is using by various sites. Therefore we relax checking on parse</span>
    <span class="s4">// to test a term is unsigned number without an exponent part.</span>
    <span class="s4">// Additional checking may be applied on lexer validation.</span>
    <span class="s1">function </span><span class="s0">consumeNumber$5() {</span>
        <span class="s1">this</span><span class="s0">.scanner.skipWS()</span><span class="s2">;</span>

        <span class="s1">var </span><span class="s0">value = </span><span class="s1">this</span><span class="s0">.consume(NUMBER$6)</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; value.length</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s1">var </span><span class="s0">code = value.charCodeAt(i)</span><span class="s2">;</span>
            <span class="s1">if </span><span class="s0">(!isDigit$5(code) &amp;&amp; code !== FULLSTOP$1) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Unsigned number is expected'</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart - value.length + i)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(Number(value) === </span><span class="s5">0</span><span class="s0">) {</span>
            <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Zero number is not allowed'</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart - value.length)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">value</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// &lt;positive-integer&gt; S* '/' S* &lt;positive-integer&gt;</span>
    <span class="s1">var </span><span class="s0">Ratio = {</span>
        <span class="s0">name: </span><span class="s3">'Ratio'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">left: String</span><span class="s2">,</span>
            <span class="s0">right: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">left = consumeNumber$5.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">right</span><span class="s2">;</span>

            <span class="s1">this</span><span class="s0">.scanner.skipWS()</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.isDelim(SOLIDUS$3)) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Solidus is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.eat(DELIM$4)</span><span class="s2">;</span>
            <span class="s0">right = consumeNumber$5.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Ratio'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">left: left</span><span class="s2">,</span>
                <span class="s0">right: right</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.left)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'/'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(node.right)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$x = tokenizer.TYPE</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">rawMode$4 = Raw.mode</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">LEFTCURLYBRACKET$4 = TYPE$x.LeftCurlyBracket</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">consumeRaw$3(startToken) {</span>
        <span class="s1">return this</span><span class="s0">.Raw(startToken</span><span class="s2">, </span><span class="s0">rawMode$4.leftCurlyBracket</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">consumePrelude() {</span>
        <span class="s1">var </span><span class="s0">prelude = </span><span class="s1">this</span><span class="s0">.SelectorList()</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(prelude.type !== </span><span class="s3">'Raw' </span><span class="s0">&amp;&amp;</span>
            <span class="s1">this</span><span class="s0">.scanner.eof === </span><span class="s1">false </span><span class="s0">&amp;&amp;</span>
            <span class="s1">this</span><span class="s0">.scanner.tokenType !== LEFTCURLYBRACKET$4) {</span>
            <span class="s1">this</span><span class="s0">.error()</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">prelude</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">Rule = {</span>
        <span class="s0">name: </span><span class="s3">'Rule'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">prelude: [</span><span class="s3">'SelectorList'</span><span class="s2">, </span><span class="s3">'Raw'</span><span class="s0">]</span><span class="s2">,</span>
            <span class="s0">block: [</span><span class="s3">'Block'</span><span class="s0">]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">startToken = </span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">startOffset = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">prelude</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">block</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.parseRulePrelude) {</span>
                <span class="s0">prelude = </span><span class="s1">this</span><span class="s0">.parseWithFallback(consumePrelude</span><span class="s2">, </span><span class="s0">consumeRaw$3)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">prelude = consumeRaw$3.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">startToken)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">block = </span><span class="s1">this</span><span class="s0">.Block(</span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Rule'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(startOffset</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">prelude: prelude</span><span class="s2">,</span>
                <span class="s0">block: block</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.node(node.prelude)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.node(node.block)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">walkContext: </span><span class="s3">'rule'</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">Selector = {</span>
        <span class="s0">name: </span><span class="s3">'Selector'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">children: [[</span>
                <span class="s3">'TypeSelector'</span><span class="s2">,</span>
                <span class="s3">'IdSelector'</span><span class="s2">,</span>
                <span class="s3">'ClassSelector'</span><span class="s2">,</span>
                <span class="s3">'AttributeSelector'</span><span class="s2">,</span>
                <span class="s3">'PseudoClassSelector'</span><span class="s2">,</span>
                <span class="s3">'PseudoElementSelector'</span><span class="s2">,</span>
                <span class="s3">'Combinator'</span><span class="s2">,</span>
                <span class="s3">'WhiteSpace'</span>
            <span class="s0">]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.readSequence(</span><span class="s1">this</span><span class="s0">.scope.Selector)</span><span class="s2">;</span>

            <span class="s4">// nothing were consumed</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.getFirstListNode(children) === </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Selector is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Selector'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocationFromList(children)</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.children(node)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$y = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">COMMA$2 = TYPE$y.Comma</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">SelectorList = {</span>
        <span class="s0">name: </span><span class="s3">'SelectorList'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">children: [[</span>
                <span class="s3">'Selector'</span><span class="s2">,</span>
                <span class="s3">'Raw'</span>
            <span class="s0">]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>

            <span class="s1">while </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
                <span class="s0">children.push(</span><span class="s1">this</span><span class="s0">.Selector())</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === COMMA$2) {</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s1">continue</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">break</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'SelectorList'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocationFromList(children)</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.children(node</span><span class="s2">, </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">','</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">})</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">walkContext: </span><span class="s3">'selector'</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">STRING$1 = tokenizer.TYPE.String</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">_String = {</span>
        <span class="s0">name: </span><span class="s3">'String'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">value: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'String'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd)</span><span class="s2">,</span>
                <span class="s0">value: </span><span class="s1">this</span><span class="s0">.consume(STRING$1)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.value)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$z = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">WHITESPACE$9 = TYPE$z.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMMENT$9 = TYPE$z.Comment</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">ATKEYWORD$2 = TYPE$z.AtKeyword</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">CDO$1 = TYPE$z.CDO</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">CDC$1 = TYPE$z.CDC</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">EXCLAMATIONMARK$3 = </span><span class="s5">0x0021</span><span class="s2">; </span><span class="s4">// U+0021 EXCLAMATION MARK (!)</span>

    <span class="s1">function </span><span class="s0">consumeRaw$4(startToken) {</span>
        <span class="s1">return this</span><span class="s0">.Raw(startToken</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">StyleSheet = {</span>
        <span class="s0">name: </span><span class="s3">'StyleSheet'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">children: [[</span>
                <span class="s3">'Comment'</span><span class="s2">,</span>
                <span class="s3">'CDO'</span><span class="s2">,</span>
                <span class="s3">'CDC'</span><span class="s2">,</span>
                <span class="s3">'Atrule'</span><span class="s2">,</span>
                <span class="s3">'Rule'</span><span class="s2">,</span>
                <span class="s3">'Raw'</span>
            <span class="s0">]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">child</span><span class="s2">;</span>

            
            <span class="s1">while </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
                <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
                    <span class="s1">case </span><span class="s0">WHITESPACE$9:</span>
                        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                        <span class="s1">continue</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">COMMENT$9:</span>
                        <span class="s4">// ignore comments except exclamation comments (i.e. /*! .. */) on top level</span>
                        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart + </span><span class="s5">2</span><span class="s0">) !== EXCLAMATIONMARK$3) {</span>
                            <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                            <span class="s1">continue</span><span class="s2">;</span>
                        <span class="s0">}</span>

                        <span class="s0">child = </span><span class="s1">this</span><span class="s0">.Comment()</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">CDO$1: </span><span class="s4">// &lt;!--</span>
                        <span class="s0">child = </span><span class="s1">this</span><span class="s0">.CDO()</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">CDC$1: </span><span class="s4">// --&gt;</span>
                        <span class="s0">child = </span><span class="s1">this</span><span class="s0">.CDC()</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s4">// CSS Syntax Module Level 3</span>
                    <span class="s4">// §2.2 Error handling</span>
                    <span class="s4">// At the &quot;top level&quot; of a stylesheet, an &lt;at-keyword-token&gt; starts an at-rule.</span>
                    <span class="s1">case </span><span class="s0">ATKEYWORD$2:</span>
                        <span class="s0">child = </span><span class="s1">this</span><span class="s0">.parseWithFallback(</span><span class="s1">this</span><span class="s0">.Atrule</span><span class="s2">, </span><span class="s0">consumeRaw$4)</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s4">// Anything else starts a qualified rule ...</span>
                    <span class="s1">default</span><span class="s0">:</span>
                        <span class="s0">child = </span><span class="s1">this</span><span class="s0">.parseWithFallback(</span><span class="s1">this</span><span class="s0">.Rule</span><span class="s2">, </span><span class="s0">consumeRaw$4)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s0">children.push(child)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'StyleSheet'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.children(node)</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">walkContext: </span><span class="s3">'stylesheet'</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$A = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$d = TYPE$A.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">ASTERISK$4 = </span><span class="s5">0x002A</span><span class="s2">;     </span><span class="s4">// U+002A ASTERISK (*)</span>
    <span class="s1">var </span><span class="s0">VERTICALLINE$2 = </span><span class="s5">0x007C</span><span class="s2">; </span><span class="s4">// U+007C VERTICAL LINE (|)</span>

    <span class="s1">function </span><span class="s0">eatIdentifierOrAsterisk() {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType !== IDENT$d &amp;&amp;</span>
            <span class="s1">this</span><span class="s0">.scanner.isDelim(ASTERISK$4) === </span><span class="s1">false</span><span class="s0">) {</span>
            <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Identifier or asterisk is expected'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s4">// ident</span>
    <span class="s4">// ident|ident</span>
    <span class="s4">// ident|*</span>
    <span class="s4">// *</span>
    <span class="s4">// *|ident</span>
    <span class="s4">// *|*</span>
    <span class="s4">// |ident</span>
    <span class="s4">// |*</span>
    <span class="s1">var </span><span class="s0">TypeSelector = {</span>
        <span class="s0">name: </span><span class="s3">'TypeSelector'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">name: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(VERTICALLINE$2)) {</span>
                <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                <span class="s0">eatIdentifierOrAsterisk.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">eatIdentifierOrAsterisk.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(VERTICALLINE$2)) {</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s0">eatIdentifierOrAsterisk.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'TypeSelector'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">name: </span><span class="s1">this</span><span class="s0">.scanner.substrToCursor(start)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.name)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">isHexDigit$4 = tokenizer.isHexDigit</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">cmpChar$4 = tokenizer.cmpChar</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$B = tokenizer.TYPE</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NAME$3 = tokenizer.NAME</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$e = TYPE$B.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NUMBER$7 = TYPE$B.Number</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DIMENSION$5 = TYPE$B.Dimension</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">PLUSSIGN$6 = </span><span class="s5">0x002B</span><span class="s2">;     </span><span class="s4">// U+002B PLUS SIGN (+)</span>
    <span class="s1">var </span><span class="s0">HYPHENMINUS$4 = </span><span class="s5">0x002D</span><span class="s2">;  </span><span class="s4">// U+002D HYPHEN-MINUS (-)</span>
    <span class="s1">var </span><span class="s0">QUESTIONMARK$2 = </span><span class="s5">0x003F</span><span class="s2">; </span><span class="s4">// U+003F QUESTION MARK (?)</span>
    <span class="s1">var </span><span class="s0">U$1 = </span><span class="s5">0x0075</span><span class="s2">;            </span><span class="s4">// U+0075 LATIN SMALL LETTER U (u)</span>

    <span class="s1">function </span><span class="s0">eatHexSequence(offset</span><span class="s2">, </span><span class="s0">allowDash) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">pos = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + offset</span><span class="s2">, </span><span class="s0">len = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">pos &lt; </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd</span><span class="s2">; </span><span class="s0">pos++) {</span>
            <span class="s1">var </span><span class="s0">code = </span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(pos)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(code === HYPHENMINUS$4 &amp;&amp; allowDash &amp;&amp; len !== </span><span class="s5">0</span><span class="s0">) {</span>
                <span class="s1">if </span><span class="s0">(eatHexSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">offset + len + </span><span class="s5">1</span><span class="s2">, </span><span class="s1">false</span><span class="s0">) === </span><span class="s5">0</span><span class="s0">) {</span>
                    <span class="s1">this</span><span class="s0">.error()</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">return </span><span class="s0">-</span><span class="s5">1</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(!isHexDigit$4(code)) {</span>
                <span class="s1">this</span><span class="s0">.error(</span>
                    <span class="s0">allowDash &amp;&amp; len !== </span><span class="s5">0</span>
                        <span class="s0">? </span><span class="s3">'HyphenMinus' </span><span class="s0">+ (len &lt; </span><span class="s5">6 </span><span class="s0">? </span><span class="s3">' or hex digit' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">) + </span><span class="s3">' is expected'</span>
                        <span class="s0">: (len &lt; </span><span class="s5">6 </span><span class="s0">? </span><span class="s3">'Hex digit is expected' </span><span class="s0">: </span><span class="s3">'Unexpected input'</span><span class="s0">)</span><span class="s2">,</span>
                    <span class="s0">pos</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(++len &gt; </span><span class="s5">6</span><span class="s0">) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Too many hex digits'</span><span class="s2">, </span><span class="s0">pos)</span><span class="s2">;</span>
            <span class="s0">}    }</span>

        <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
        <span class="s1">return </span><span class="s0">len</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">eatQuestionMarkSequence(max) {</span>
        <span class="s1">var </span><span class="s0">count = </span><span class="s5">0</span><span class="s2">;</span>

        <span class="s1">while </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(QUESTIONMARK$2)) {</span>
            <span class="s1">if </span><span class="s0">(++count &gt; max) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Too many question marks'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">startsWith$1(code) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart) !== code) {</span>
            <span class="s1">this</span><span class="s0">.error(NAME$3[code] + </span><span class="s3">' is expected'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s4">// https://drafts.csswg.org/css-syntax/#urange</span>
    <span class="s4">// Informally, the &lt;urange&gt; production has three forms:</span>
    <span class="s4">// U+0001</span>
    <span class="s4">//      Defines a range consisting of a single code point, in this case the code point &quot;1&quot;.</span>
    <span class="s4">// U+0001-00ff</span>
    <span class="s4">//      Defines a range of codepoints between the first and the second value, in this case</span>
    <span class="s4">//      the range between &quot;1&quot; and &quot;ff&quot; (255 in decimal) inclusive.</span>
    <span class="s4">// U+00??</span>
    <span class="s4">//      Defines a range of codepoints where the &quot;?&quot; characters range over all hex digits,</span>
    <span class="s4">//      in this case defining the same as the value U+0000-00ff.</span>
    <span class="s4">// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat &quot;?&quot; as a hexadecimal digit).</span>
    <span class="s4">//</span>
    <span class="s4">// &lt;urange&gt; =</span>
    <span class="s4">//   u '+' &lt;ident-token&gt; '?'* |</span>
    <span class="s4">//   u &lt;dimension-token&gt; '?'* |</span>
    <span class="s4">//   u &lt;number-token&gt; '?'* |</span>
    <span class="s4">//   u &lt;number-token&gt; &lt;dimension-token&gt; |</span>
    <span class="s4">//   u &lt;number-token&gt; &lt;number-token&gt; |</span>
    <span class="s4">//   u '+' '?'+</span>
    <span class="s1">function </span><span class="s0">scanUnicodeRange() {</span>
        <span class="s1">var </span><span class="s0">hexLength = </span><span class="s5">0</span><span class="s2">;</span>

        <span class="s4">// u '+' &lt;ident-token&gt; '?'*</span>
        <span class="s4">// u '+' '?'+</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(PLUSSIGN$6)) {</span>
            <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === IDENT$e) {</span>
                <span class="s0">hexLength = eatHexSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">0</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s1">if </span><span class="s0">(hexLength &gt; </span><span class="s5">0</span><span class="s0">) {</span>
                    <span class="s0">eatQuestionMarkSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">6 </span><span class="s0">- hexLength)</span><span class="s2">;</span>
                <span class="s0">}</span>
                <span class="s1">return</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(QUESTIONMARK$2)) {</span>
                <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                <span class="s0">eatQuestionMarkSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">5</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s1">return</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Hex digit or question mark is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">return</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// u &lt;number-token&gt; '?'*</span>
        <span class="s4">// u &lt;number-token&gt; &lt;dimension-token&gt;</span>
        <span class="s4">// u &lt;number-token&gt; &lt;number-token&gt;</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === NUMBER$7) {</span>
            <span class="s0">startsWith$1.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">PLUSSIGN$6)</span><span class="s2">;</span>
            <span class="s0">hexLength = eatHexSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">1</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.isDelim(QUESTIONMARK$2)) {</span>
                <span class="s0">eatQuestionMarkSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">6 </span><span class="s0">- hexLength)</span><span class="s2">;</span>
                <span class="s1">return</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === DIMENSION$5 ||</span>
                <span class="s1">this</span><span class="s0">.scanner.tokenType === NUMBER$7) {</span>
                <span class="s0">startsWith$1.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">HYPHENMINUS$4)</span><span class="s2">;</span>
                <span class="s0">eatHexSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">1</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s1">return</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s4">// u &lt;dimension-token&gt; '?'*</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === DIMENSION$5) {</span>
            <span class="s0">startsWith$1.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s0">PLUSSIGN$6)</span><span class="s2">;</span>
            <span class="s0">hexLength = eatHexSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">1</span><span class="s2">, </span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(hexLength &gt; </span><span class="s5">0</span><span class="s0">) {</span>
                <span class="s0">eatQuestionMarkSequence.call(</span><span class="s1">this</span><span class="s2">, </span><span class="s5">6 </span><span class="s0">- hexLength)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">this</span><span class="s0">.error()</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">UnicodeRange = {</span>
        <span class="s0">name: </span><span class="s3">'UnicodeRange'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">value: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>

            <span class="s4">// U or u</span>
            <span class="s1">if </span><span class="s0">(!cmpChar$4(</span><span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">, </span><span class="s0">start</span><span class="s2">, </span><span class="s0">U$1)) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'U is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(!cmpChar$4(</span><span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">, </span><span class="s0">start + </span><span class="s5">1</span><span class="s2">, </span><span class="s0">PLUSSIGN$6)) {</span>
                <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Plus sign is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
            <span class="s0">scanUnicodeRange.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'UnicodeRange'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">value: </span><span class="s1">this</span><span class="s0">.scanner.substrToCursor(start)</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.value)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">isWhiteSpace$2 = tokenizer.isWhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">cmpStr$5 = tokenizer.cmpStr</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$C = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">FUNCTION$3 = TYPE$C.Function</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">URL$1 = TYPE$C.Url</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">RIGHTPARENTHESIS$7 = TYPE$C.RightParenthesis</span><span class="s2">;</span>

    <span class="s4">// &lt;url-token&gt; | &lt;function-token&gt; &lt;string&gt; )</span>
    <span class="s1">var </span><span class="s0">Url = {</span>
        <span class="s0">name: </span><span class="s3">'Url'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">value: [</span><span class="s3">'String'</span><span class="s2">, </span><span class="s3">'Raw'</span><span class="s0">]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">value</span><span class="s2">;</span>

            <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
                <span class="s1">case </span><span class="s0">URL$1:</span>
                    <span class="s1">var </span><span class="s0">rawStart = start + </span><span class="s5">4</span><span class="s2">;</span>
                    <span class="s1">var </span><span class="s0">rawEnd = </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd - </span><span class="s5">1</span><span class="s2">;</span>

                    <span class="s1">while </span><span class="s0">(rawStart &lt; rawEnd &amp;&amp; isWhiteSpace$2(</span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(rawStart))) {</span>
                        <span class="s0">rawStart++</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">while </span><span class="s0">(rawStart &lt; rawEnd &amp;&amp; isWhiteSpace$2(</span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(rawEnd - </span><span class="s5">1</span><span class="s0">))) {</span>
                        <span class="s0">rawEnd--</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s0">value = {</span>
                        <span class="s0">type: </span><span class="s3">'Raw'</span><span class="s2">,</span>
                        <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(rawStart</span><span class="s2">, </span><span class="s0">rawEnd)</span><span class="s2">,</span>
                        <span class="s0">value: </span><span class="s1">this</span><span class="s0">.scanner.source.substring(rawStart</span><span class="s2">, </span><span class="s0">rawEnd)</span>
                    <span class="s0">}</span><span class="s2">;</span>

                    <span class="s1">this</span><span class="s0">.eat(URL$1)</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">FUNCTION$3:</span>
                    <span class="s1">if </span><span class="s0">(!cmpStr$5(</span><span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd</span><span class="s2">, </span><span class="s3">'url('</span><span class="s0">)) {</span>
                        <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Function name must be `url`'</span><span class="s0">)</span><span class="s2">;</span>
                    <span class="s0">}</span>

                    <span class="s1">this</span><span class="s0">.eat(FUNCTION$3)</span><span class="s2">;</span>
                    <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
                    <span class="s0">value = </span><span class="s1">this</span><span class="s0">.String()</span><span class="s2">;</span>
                    <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>
                    <span class="s1">this</span><span class="s0">.eat(RIGHTPARENTHESIS$7)</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">default</span><span class="s0">:</span>
                    <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Url or Function is expected'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Url'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">value: value</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'url'</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">'('</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.node(node.value)</span><span class="s2">;</span>
            <span class="s1">this</span><span class="s0">.chunk(</span><span class="s3">')'</span><span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">Value = {</span>
        <span class="s0">name: </span><span class="s3">'Value'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">children: [[]]</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">start = </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">;</span>
            <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.readSequence(</span><span class="s1">this</span><span class="s0">.scope.Value)</span><span class="s2">;</span>

            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: </span><span class="s3">'Value'</span><span class="s2">,</span>
                <span class="s0">loc: </span><span class="s1">this</span><span class="s0">.getLocation(start</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">,</span>
                <span class="s0">children: children</span>
            <span class="s0">}</span><span class="s2">;</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.children(node)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">WHITESPACE$a = tokenizer.TYPE.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">SPACE$2 = Object.freeze({</span>
        <span class="s0">type: </span><span class="s3">'WhiteSpace'</span><span class="s2">,</span>
        <span class="s0">loc: </span><span class="s1">null</span><span class="s2">,</span>
        <span class="s0">value: </span><span class="s3">' '</span>
    <span class="s0">})</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">WhiteSpace$1 = {</span>
        <span class="s0">name: </span><span class="s3">'WhiteSpace'</span><span class="s2">,</span>
        <span class="s0">structure: {</span>
            <span class="s0">value: String</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">this</span><span class="s0">.eat(WHITESPACE$a)</span><span class="s2">;</span>
            <span class="s1">return </span><span class="s0">SPACE$2</span><span class="s2">;</span>

            <span class="s4">// return {</span>
            <span class="s4">//     type: 'WhiteSpace',</span>
            <span class="s4">//     loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),</span>
            <span class="s4">//     value: this.consume(WHITESPACE)</span>
            <span class="s4">// };</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">generate: </span><span class="s1">function</span><span class="s0">(node) {</span>
            <span class="s1">this</span><span class="s0">.chunk(node.value)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">node = {</span>
        <span class="s0">AnPlusB: AnPlusB</span><span class="s2">,</span>
        <span class="s0">Atrule: Atrule</span><span class="s2">,</span>
        <span class="s0">AtrulePrelude: AtrulePrelude</span><span class="s2">,</span>
        <span class="s0">AttributeSelector: AttributeSelector</span><span class="s2">,</span>
        <span class="s0">Block: Block</span><span class="s2">,</span>
        <span class="s0">Brackets: Brackets</span><span class="s2">,</span>
        <span class="s0">CDC: CDC_1</span><span class="s2">,</span>
        <span class="s0">CDO: CDO_1</span><span class="s2">,</span>
        <span class="s0">ClassSelector: ClassSelector</span><span class="s2">,</span>
        <span class="s0">Combinator: Combinator</span><span class="s2">,</span>
        <span class="s0">Comment: Comment</span><span class="s2">,</span>
        <span class="s0">Declaration: Declaration</span><span class="s2">,</span>
        <span class="s0">DeclarationList: DeclarationList</span><span class="s2">,</span>
        <span class="s0">Dimension: Dimension</span><span class="s2">,</span>
        <span class="s0">Function: _Function</span><span class="s2">,</span>
        <span class="s0">Hash: Hash</span><span class="s2">,</span>
        <span class="s0">Identifier: Identifier</span><span class="s2">,</span>
        <span class="s0">IdSelector: IdSelector</span><span class="s2">,</span>
        <span class="s0">MediaFeature: MediaFeature</span><span class="s2">,</span>
        <span class="s0">MediaQuery: MediaQuery</span><span class="s2">,</span>
        <span class="s0">MediaQueryList: MediaQueryList</span><span class="s2">,</span>
        <span class="s0">Nth: Nth</span><span class="s2">,</span>
        <span class="s0">Number: _Number</span><span class="s2">,</span>
        <span class="s0">Operator: Operator</span><span class="s2">,</span>
        <span class="s0">Parentheses: Parentheses</span><span class="s2">,</span>
        <span class="s0">Percentage: Percentage</span><span class="s2">,</span>
        <span class="s0">PseudoClassSelector: PseudoClassSelector</span><span class="s2">,</span>
        <span class="s0">PseudoElementSelector: PseudoElementSelector</span><span class="s2">,</span>
        <span class="s0">Ratio: Ratio</span><span class="s2">,</span>
        <span class="s0">Raw: Raw</span><span class="s2">,</span>
        <span class="s0">Rule: Rule</span><span class="s2">,</span>
        <span class="s0">Selector: Selector</span><span class="s2">,</span>
        <span class="s0">SelectorList: SelectorList</span><span class="s2">,</span>
        <span class="s0">String: _String</span><span class="s2">,</span>
        <span class="s0">StyleSheet: StyleSheet</span><span class="s2">,</span>
        <span class="s0">TypeSelector: TypeSelector</span><span class="s2">,</span>
        <span class="s0">UnicodeRange: UnicodeRange</span><span class="s2">,</span>
        <span class="s0">Url: Url</span><span class="s2">,</span>
        <span class="s0">Value: Value</span><span class="s2">,</span>
        <span class="s0">WhiteSpace: WhiteSpace$1</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">lexer = {</span>
        <span class="s0">generic: </span><span class="s1">true</span><span class="s2">,</span>
        <span class="s0">types: data.types</span><span class="s2">,</span>
        <span class="s0">atrules: data.atrules</span><span class="s2">,</span>
        <span class="s0">properties: data.properties</span><span class="s2">,</span>
        <span class="s0">node: node</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">cmpChar$5 = tokenizer.cmpChar</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">cmpStr$6 = tokenizer.cmpStr</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">TYPE$D = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">IDENT$f = TYPE$D.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">STRING$2 = TYPE$D.String</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NUMBER$8 = TYPE$D.Number</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">FUNCTION$4 = TYPE$D.Function</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">URL$2 = TYPE$D.Url</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">HASH$4 = TYPE$D.Hash</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DIMENSION$6 = TYPE$D.Dimension</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">PERCENTAGE$2 = TYPE$D.Percentage</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTPARENTHESIS$5 = TYPE$D.LeftParenthesis</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTSQUAREBRACKET$3 = TYPE$D.LeftSquareBracket</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMMA$3 = TYPE$D.Comma</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DELIM$5 = TYPE$D.Delim</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NUMBERSIGN$3 = </span><span class="s5">0x0023</span><span class="s2">;  </span><span class="s4">// U+0023 NUMBER SIGN (#)</span>
    <span class="s1">var </span><span class="s0">ASTERISK$5 = </span><span class="s5">0x002A</span><span class="s2">;    </span><span class="s4">// U+002A ASTERISK (*)</span>
    <span class="s1">var </span><span class="s0">PLUSSIGN$7 = </span><span class="s5">0x002B</span><span class="s2">;    </span><span class="s4">// U+002B PLUS SIGN (+)</span>
    <span class="s1">var </span><span class="s0">HYPHENMINUS$5 = </span><span class="s5">0x002D</span><span class="s2">; </span><span class="s4">// U+002D HYPHEN-MINUS (-)</span>
    <span class="s1">var </span><span class="s0">SOLIDUS$4 = </span><span class="s5">0x002F</span><span class="s2">;     </span><span class="s4">// U+002F SOLIDUS (/)</span>
    <span class="s1">var </span><span class="s0">U$2 = </span><span class="s5">0x0075</span><span class="s2">;           </span><span class="s4">// U+0075 LATIN SMALL LETTER U (u)</span>

    <span class="s1">var </span><span class="s0">_default = </span><span class="s1">function </span><span class="s0">defaultRecognizer(context) {</span>
        <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
            <span class="s1">case </span><span class="s0">HASH$4:</span>
                <span class="s1">return this</span><span class="s0">.Hash()</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">COMMA$3:</span>
                <span class="s0">context.space = </span><span class="s1">null</span><span class="s2">;</span>
                <span class="s0">context.ignoreWSAfter = </span><span class="s1">true</span><span class="s2">;</span>
                <span class="s1">return this</span><span class="s0">.Operator()</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">LEFTPARENTHESIS$5:</span>
                <span class="s1">return this</span><span class="s0">.Parentheses(</span><span class="s1">this</span><span class="s0">.readSequence</span><span class="s2">, </span><span class="s0">context.recognizer)</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">LEFTSQUAREBRACKET$3:</span>
                <span class="s1">return this</span><span class="s0">.Brackets(</span><span class="s1">this</span><span class="s0">.readSequence</span><span class="s2">, </span><span class="s0">context.recognizer)</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">STRING$2:</span>
                <span class="s1">return this</span><span class="s0">.String()</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">DIMENSION$6:</span>
                <span class="s1">return this</span><span class="s0">.Dimension()</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">PERCENTAGE$2:</span>
                <span class="s1">return this</span><span class="s0">.Percentage()</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">NUMBER$8:</span>
                <span class="s1">return this</span><span class="s0">.Number()</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">FUNCTION$4:</span>
                <span class="s1">return </span><span class="s0">cmpStr$6(</span><span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenEnd</span><span class="s2">, </span><span class="s3">'url('</span><span class="s0">)</span>
                    <span class="s0">? </span><span class="s1">this</span><span class="s0">.Url()</span>
                    <span class="s0">: </span><span class="s1">this</span><span class="s0">.Function(</span><span class="s1">this</span><span class="s0">.readSequence</span><span class="s2">, </span><span class="s0">context.recognizer)</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">URL$2:</span>
                <span class="s1">return this</span><span class="s0">.Url()</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">IDENT$f:</span>
                <span class="s4">// check for unicode range, it should start with u+ or U+</span>
                <span class="s1">if </span><span class="s0">(cmpChar$5(</span><span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart</span><span class="s2">, </span><span class="s0">U$2) &amp;&amp;</span>
                    <span class="s0">cmpChar$5(</span><span class="s1">this</span><span class="s0">.scanner.source</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + </span><span class="s5">1</span><span class="s2">, </span><span class="s0">PLUSSIGN$7)) {</span>
                    <span class="s1">return this</span><span class="s0">.UnicodeRange()</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">return this</span><span class="s0">.Identifier()</span><span class="s2">;</span>
                <span class="s0">}</span>

            <span class="s1">case </span><span class="s0">DELIM$5:</span>
                <span class="s1">var </span><span class="s0">code = </span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(code === SOLIDUS$4 ||</span>
                    <span class="s0">code === ASTERISK$5 ||</span>
                    <span class="s0">code === PLUSSIGN$7 ||</span>
                    <span class="s0">code === HYPHENMINUS$5) {</span>
                    <span class="s1">return this</span><span class="s0">.Operator()</span><span class="s2">; </span><span class="s4">// TODO: replace with Delim</span>
                <span class="s0">}</span>

                <span class="s4">// TODO: produce a node with Delim node type</span>

                <span class="s1">if </span><span class="s0">(code === NUMBERSIGN$3) {</span>
                    <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Hex or identifier is expected'</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">break</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">atrulePrelude = {</span>
        <span class="s0">getNode: _default</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$E = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">DELIM$6 = TYPE$E.Delim</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">IDENT$g = TYPE$E.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">DIMENSION$7 = TYPE$E.Dimension</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">PERCENTAGE$3 = TYPE$E.Percentage</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NUMBER$9 = TYPE$E.Number</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">HASH$5 = TYPE$E.Hash</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COLON$5 = TYPE$E.Colon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTSQUAREBRACKET$4 = TYPE$E.LeftSquareBracket</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">NUMBERSIGN$4 = </span><span class="s5">0x0023</span><span class="s2">;      </span><span class="s4">// U+0023 NUMBER SIGN (#)</span>
    <span class="s1">var </span><span class="s0">ASTERISK$6 = </span><span class="s5">0x002A</span><span class="s2">;        </span><span class="s4">// U+002A ASTERISK (*)</span>
    <span class="s1">var </span><span class="s0">PLUSSIGN$8 = </span><span class="s5">0x002B</span><span class="s2">;        </span><span class="s4">// U+002B PLUS SIGN (+)</span>
    <span class="s1">var </span><span class="s0">SOLIDUS$5 = </span><span class="s5">0x002F</span><span class="s2">;         </span><span class="s4">// U+002F SOLIDUS (/)</span>
    <span class="s1">var </span><span class="s0">FULLSTOP$2 = </span><span class="s5">0x002E</span><span class="s2">;        </span><span class="s4">// U+002E FULL STOP (.)</span>
    <span class="s1">var </span><span class="s0">GREATERTHANSIGN$2 = </span><span class="s5">0x003E</span><span class="s2">; </span><span class="s4">// U+003E GREATER-THAN SIGN (&gt;)</span>
    <span class="s1">var </span><span class="s0">VERTICALLINE$3 = </span><span class="s5">0x007C</span><span class="s2">;    </span><span class="s4">// U+007C VERTICAL LINE (|)</span>
    <span class="s1">var </span><span class="s0">TILDE$2 = </span><span class="s5">0x007E</span><span class="s2">;           </span><span class="s4">// U+007E TILDE (~)</span>

    <span class="s1">function </span><span class="s0">getNode(context) {</span>
        <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
            <span class="s1">case </span><span class="s0">LEFTSQUAREBRACKET$4:</span>
                <span class="s1">return this</span><span class="s0">.AttributeSelector()</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">HASH$5:</span>
                <span class="s1">return this</span><span class="s0">.IdSelector()</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">COLON$5:</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.lookupType(</span><span class="s5">1</span><span class="s0">) === COLON$5) {</span>
                    <span class="s1">return this</span><span class="s0">.PseudoElementSelector()</span><span class="s2">;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">return this</span><span class="s0">.PseudoClassSelector()</span><span class="s2">;</span>
                <span class="s0">}</span>

            <span class="s1">case </span><span class="s0">IDENT$g:</span>
                <span class="s1">return this</span><span class="s0">.TypeSelector()</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">NUMBER$9:</span>
            <span class="s1">case </span><span class="s0">PERCENTAGE$3:</span>
                <span class="s1">return this</span><span class="s0">.Percentage()</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">DIMENSION$7:</span>
                <span class="s4">// throws when .123ident</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart) === FULLSTOP$2) {</span>
                    <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Identifier is expected'</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scanner.tokenStart + </span><span class="s5">1</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>
                <span class="s1">break</span><span class="s2">;</span>

            <span class="s1">case </span><span class="s0">DELIM$6:</span>
                <span class="s1">var </span><span class="s0">code = </span><span class="s1">this</span><span class="s0">.scanner.source.charCodeAt(</span><span class="s1">this</span><span class="s0">.scanner.tokenStart)</span><span class="s2">;</span>

                <span class="s1">switch </span><span class="s0">(code) {</span>
                    <span class="s1">case </span><span class="s0">PLUSSIGN$8:</span>
                    <span class="s1">case </span><span class="s0">GREATERTHANSIGN$2:</span>
                    <span class="s1">case </span><span class="s0">TILDE$2:</span>
                        <span class="s0">context.space = </span><span class="s1">null</span><span class="s2">;</span>
                        <span class="s0">context.ignoreWSAfter = </span><span class="s1">true</span><span class="s2">;</span>
                        <span class="s1">return this</span><span class="s0">.Combinator()</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">SOLIDUS$5:  </span><span class="s4">// /deep/</span>
                        <span class="s1">return this</span><span class="s0">.Combinator()</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">FULLSTOP$2:</span>
                        <span class="s1">return this</span><span class="s0">.ClassSelector()</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">ASTERISK$6:</span>
                    <span class="s1">case </span><span class="s0">VERTICALLINE$3:</span>
                        <span class="s1">return this</span><span class="s0">.TypeSelector()</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">NUMBERSIGN$4:</span>
                        <span class="s1">return this</span><span class="s0">.IdSelector()</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">break</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s0">selector = {</span>
        <span class="s0">getNode: getNode</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s4">// legacy IE function</span>
    <span class="s4">// expression( &lt;any-value&gt; )</span>
    <span class="s1">var </span><span class="s0">expression = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
            <span class="s1">this</span><span class="s0">.Raw(</span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$F = tokenizer.TYPE</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">rawMode$5 = Raw.mode</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">COMMA$4 = TYPE$F.Comma</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">WHITESPACE$b = TYPE$F.WhiteSpace</span><span class="s2">;</span>

    <span class="s4">// var( &lt;ident&gt; , &lt;value&gt;? )</span>
    <span class="s1">var </span><span class="s0">_var = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>

        <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

        <span class="s4">// NOTE: Don't check more than a first argument is an ident, rest checks are for lexer</span>
        <span class="s0">children.push(</span><span class="s1">this</span><span class="s0">.Identifier())</span><span class="s2">;</span>

        <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === COMMA$4) {</span>
            <span class="s0">children.push(</span><span class="s1">this</span><span class="s0">.Operator())</span><span class="s2">;</span>

            <span class="s1">const </span><span class="s0">startIndex = </span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">;</span>
            <span class="s1">const </span><span class="s0">value = </span><span class="s1">this</span><span class="s0">.parseCustomProperty</span>
                <span class="s0">? </span><span class="s1">this</span><span class="s0">.Value(</span><span class="s1">null</span><span class="s0">)</span>
                <span class="s0">: </span><span class="s1">this</span><span class="s0">.Raw(</span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">, </span><span class="s0">rawMode$5.exclamationMarkOrSemicolon</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>

            <span class="s1">if </span><span class="s0">(value.type === </span><span class="s3">'Value' </span><span class="s0">&amp;&amp; value.children.isEmpty()) {</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s0">offset = startIndex - </span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">; </span><span class="s0">offset &lt;= </span><span class="s5">0</span><span class="s2">; </span><span class="s0">offset++) {</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.lookupType(offset) === WHITESPACE$b) {</span>
                        <span class="s0">value.children.appendData({</span>
                            <span class="s0">type: </span><span class="s3">'WhiteSpace'</span><span class="s2">,</span>
                            <span class="s0">loc: </span><span class="s1">null</span><span class="s2">,</span>
                            <span class="s0">value: </span><span class="s3">' '</span>
                        <span class="s0">})</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s0">children.push(value)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">children</span><span class="s2">;</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">value = {</span>
        <span class="s0">getNode: _default</span><span class="s2">,</span>
        <span class="s3">'expression'</span><span class="s0">: expression</span><span class="s2">,</span>
        <span class="s3">'var'</span><span class="s0">: _var</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">scope = {</span>
        <span class="s0">AtrulePrelude: atrulePrelude</span><span class="s2">,</span>
        <span class="s0">Selector: selector</span><span class="s2">,</span>
        <span class="s0">Value: value</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">fontFace = {</span>
        <span class="s0">parse: {</span>
            <span class="s0">prelude: </span><span class="s1">null</span><span class="s2">,</span>
            <span class="s0">block: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">return this</span><span class="s0">.Block(</span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$G = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">STRING$3 = TYPE$G.String</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">IDENT$h = TYPE$G.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">URL$3 = TYPE$G.Url</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">FUNCTION$5 = TYPE$G.Function</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTPARENTHESIS$6 = TYPE$G.LeftParenthesis</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">_import = {</span>
        <span class="s0">parse: {</span>
            <span class="s0">prelude: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>

                <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

                <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
                    <span class="s1">case </span><span class="s0">STRING$3:</span>
                        <span class="s0">children.push(</span><span class="s1">this</span><span class="s0">.String())</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">case </span><span class="s0">URL$3:</span>
                    <span class="s1">case </span><span class="s0">FUNCTION$5:</span>
                        <span class="s0">children.push(</span><span class="s1">this</span><span class="s0">.Url())</span><span class="s2">;</span>
                        <span class="s1">break</span><span class="s2">;</span>

                    <span class="s1">default</span><span class="s0">:</span>
                        <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'String or url() is expected'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.lookupNonWSType(</span><span class="s5">0</span><span class="s0">) === IDENT$h ||</span>
                    <span class="s1">this</span><span class="s0">.lookupNonWSType(</span><span class="s5">0</span><span class="s0">) === LEFTPARENTHESIS$6) {</span>
                    <span class="s0">children.push(</span><span class="s1">this</span><span class="s0">.WhiteSpace())</span><span class="s2">;</span>
                    <span class="s0">children.push(</span><span class="s1">this</span><span class="s0">.MediaQueryList())</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">return </span><span class="s0">children</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">block: </span><span class="s1">null</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">media = {</span>
        <span class="s0">parse: {</span>
            <span class="s0">prelude: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
                    <span class="s1">this</span><span class="s0">.MediaQueryList()</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">block: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">return this</span><span class="s0">.Block(</span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">page = {</span>
        <span class="s0">parse: {</span>
            <span class="s0">prelude: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
                    <span class="s1">this</span><span class="s0">.SelectorList()</span>
                <span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">block: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">return this</span><span class="s0">.Block(</span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">TYPE$H = tokenizer.TYPE</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">WHITESPACE$c = TYPE$H.WhiteSpace</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COMMENT$a = TYPE$H.Comment</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">IDENT$i = TYPE$H.Ident</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">FUNCTION$6 = TYPE$H.Function</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">COLON$6 = TYPE$H.Colon</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">LEFTPARENTHESIS$7 = TYPE$H.LeftParenthesis</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">consumeRaw$5() {</span>
        <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
            <span class="s1">this</span><span class="s0">.Raw(</span><span class="s1">this</span><span class="s0">.scanner.tokenIndex</span><span class="s2">, </span><span class="s1">null</span><span class="s2">, </span><span class="s1">false</span><span class="s0">)</span>
        <span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">parentheses() {</span>
        <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType === IDENT$i &amp;&amp;</span>
            <span class="s1">this</span><span class="s0">.lookupNonWSType(</span><span class="s5">1</span><span class="s0">) === COLON$6) {</span>
            <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
                <span class="s1">this</span><span class="s0">.Declaration()</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">readSequence.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">readSequence() {</span>
        <span class="s1">var </span><span class="s0">children = </span><span class="s1">this</span><span class="s0">.createList()</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">space = </span><span class="s1">null</span><span class="s2">;</span>
        <span class="s1">var </span><span class="s0">child</span><span class="s2">;</span>

        <span class="s1">this</span><span class="s0">.scanner.skipSC()</span><span class="s2">;</span>

        <span class="s0">scan:</span>
        <span class="s1">while </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.scanner.eof) {</span>
            <span class="s1">switch </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.scanner.tokenType) {</span>
                <span class="s1">case </span><span class="s0">WHITESPACE$c:</span>
                    <span class="s0">space = </span><span class="s1">this</span><span class="s0">.WhiteSpace()</span><span class="s2">;</span>
                    <span class="s1">continue</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">COMMENT$a:</span>
                    <span class="s1">this</span><span class="s0">.scanner.next()</span><span class="s2">;</span>
                    <span class="s1">continue</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">FUNCTION$6:</span>
                    <span class="s0">child = </span><span class="s1">this</span><span class="s0">.Function(consumeRaw$5</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scope.AtrulePrelude)</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">IDENT$i:</span>
                    <span class="s0">child = </span><span class="s1">this</span><span class="s0">.Identifier()</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">case </span><span class="s0">LEFTPARENTHESIS$7:</span>
                    <span class="s0">child = </span><span class="s1">this</span><span class="s0">.Parentheses(parentheses</span><span class="s2">, </span><span class="s1">this</span><span class="s0">.scope.AtrulePrelude)</span><span class="s2">;</span>
                    <span class="s1">break</span><span class="s2">;</span>

                <span class="s1">default</span><span class="s0">:</span>
                    <span class="s1">break </span><span class="s0">scan</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s1">if </span><span class="s0">(space !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s0">children.push(space)</span><span class="s2">;</span>
                <span class="s0">space = </span><span class="s1">null</span><span class="s2">;</span>
            <span class="s0">}</span>

            <span class="s0">children.push(child)</span><span class="s2">;</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">children</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">supports = {</span>
        <span class="s0">parse: {</span>
            <span class="s0">prelude: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">var </span><span class="s0">children = readSequence.call(</span><span class="s1">this</span><span class="s0">)</span><span class="s2">;</span>

                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.getFirstListNode(children) === </span><span class="s1">null</span><span class="s0">) {</span>
                    <span class="s1">this</span><span class="s0">.error(</span><span class="s3">'Condition is expected'</span><span class="s0">)</span><span class="s2">;</span>
                <span class="s0">}</span>

                <span class="s1">return </span><span class="s0">children</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">block: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">return this</span><span class="s0">.Block(</span><span class="s1">false</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">atrule = {</span>
        <span class="s3">'font-face'</span><span class="s0">: fontFace</span><span class="s2">,</span>
        <span class="s3">'import'</span><span class="s0">: _import</span><span class="s2">,</span>
        <span class="s3">'media'</span><span class="s0">: media</span><span class="s2">,</span>
        <span class="s3">'page'</span><span class="s0">: page</span><span class="s2">,</span>
        <span class="s3">'supports'</span><span class="s0">: supports</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">dir = {</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
                <span class="s1">this</span><span class="s0">.Identifier()</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">has$1 = {</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
                <span class="s1">this</span><span class="s0">.SelectorList()</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">lang = {</span>
        <span class="s0">parse: </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
                <span class="s1">this</span><span class="s0">.Identifier()</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">selectorList = {</span>
        <span class="s0">parse: </span><span class="s1">function </span><span class="s0">selectorList() {</span>
            <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
                <span class="s1">this</span><span class="s0">.SelectorList()</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">matches = selectorList</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">not = selectorList</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">ALLOW_OF_CLAUSE = </span><span class="s1">true</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">nthWithOfClause = {</span>
        <span class="s0">parse: </span><span class="s1">function </span><span class="s0">nthWithOfClause() {</span>
            <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
                <span class="s1">this</span><span class="s0">.Nth(ALLOW_OF_CLAUSE)</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">nthChild = nthWithOfClause</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">nthLastChild = nthWithOfClause</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">DISALLOW_OF_CLAUSE = </span><span class="s1">false</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">nth = {</span>
        <span class="s0">parse: </span><span class="s1">function </span><span class="s0">nth() {</span>
            <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
                <span class="s1">this</span><span class="s0">.Nth(DISALLOW_OF_CLAUSE)</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">nthLastOfType = nth</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">nthOfType = nth</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">slotted = {</span>
        <span class="s0">parse: </span><span class="s1">function </span><span class="s0">compoundSelector() {</span>
            <span class="s1">return this</span><span class="s0">.createSingleNodeList(</span>
                <span class="s1">this</span><span class="s0">.Selector()</span>
            <span class="s0">)</span><span class="s2">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">pseudo = {</span>
        <span class="s3">'dir'</span><span class="s0">: dir</span><span class="s2">,</span>
        <span class="s3">'has'</span><span class="s0">: has$1</span><span class="s2">,</span>
        <span class="s3">'lang'</span><span class="s0">: lang</span><span class="s2">,</span>
        <span class="s3">'matches'</span><span class="s0">: matches</span><span class="s2">,</span>
        <span class="s3">'not'</span><span class="s0">: not</span><span class="s2">,</span>
        <span class="s3">'nth-child'</span><span class="s0">: nthChild</span><span class="s2">,</span>
        <span class="s3">'nth-last-child'</span><span class="s0">: nthLastChild</span><span class="s2">,</span>
        <span class="s3">'nth-last-of-type'</span><span class="s0">: nthLastOfType</span><span class="s2">,</span>
        <span class="s3">'nth-of-type'</span><span class="s0">: nthOfType</span><span class="s2">,</span>
        <span class="s3">'slotted'</span><span class="s0">: slotted</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">parser = {</span>
        <span class="s0">parseContext: {</span>
            <span class="s1">default</span><span class="s0">: </span><span class="s3">'StyleSheet'</span><span class="s2">,</span>
            <span class="s0">stylesheet: </span><span class="s3">'StyleSheet'</span><span class="s2">,</span>
            <span class="s0">atrule: </span><span class="s3">'Atrule'</span><span class="s2">,</span>
            <span class="s0">atrulePrelude: </span><span class="s1">function</span><span class="s0">(options) {</span>
                <span class="s1">return this</span><span class="s0">.AtrulePrelude(options.atrule ? String(options.atrule) : </span><span class="s1">null</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">mediaQueryList: </span><span class="s3">'MediaQueryList'</span><span class="s2">,</span>
            <span class="s0">mediaQuery: </span><span class="s3">'MediaQuery'</span><span class="s2">,</span>
            <span class="s0">rule: </span><span class="s3">'Rule'</span><span class="s2">,</span>
            <span class="s0">selectorList: </span><span class="s3">'SelectorList'</span><span class="s2">,</span>
            <span class="s0">selector: </span><span class="s3">'Selector'</span><span class="s2">,</span>
            <span class="s0">block: </span><span class="s1">function</span><span class="s0">() {</span>
                <span class="s1">return this</span><span class="s0">.Block(</span><span class="s1">true</span><span class="s0">)</span><span class="s2">;</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">declarationList: </span><span class="s3">'DeclarationList'</span><span class="s2">,</span>
            <span class="s0">declaration: </span><span class="s3">'Declaration'</span><span class="s2">,</span>
            <span class="s0">value: </span><span class="s3">'Value'</span>
        <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">scope: scope</span><span class="s2">,</span>
        <span class="s0">atrule: atrule</span><span class="s2">,</span>
        <span class="s0">pseudo: pseudo</span><span class="s2">,</span>
        <span class="s0">node: node</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">walker = {</span>
        <span class="s0">node: node</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">version = </span><span class="s3">&quot;1.1.3&quot;</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">_package = {</span>
    	<span class="s0">version: version</span>
    <span class="s0">}</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">_package$1 = </span><span class="s6">/*#__PURE__*/</span><span class="s0">Object.freeze({</span>
        <span class="s0">__proto__: </span><span class="s1">null</span><span class="s2">,</span>
        <span class="s0">version: version</span><span class="s2">,</span>
        <span class="s3">'default'</span><span class="s0">: _package</span>
    <span class="s0">})</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">require$$4 = getCjsExportFromNamespace(_package$1)</span><span class="s2">;</span>

    <span class="s1">function </span><span class="s0">merge() {</span>
        <span class="s1">var </span><span class="s0">dest = {}</span><span class="s2">;</span>

        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s5">0</span><span class="s2">; </span><span class="s0">i &lt; arguments.length</span><span class="s2">; </span><span class="s0">i++) {</span>
            <span class="s1">var </span><span class="s0">src = arguments[i]</span><span class="s2">;</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">key </span><span class="s1">in </span><span class="s0">src) {</span>
                <span class="s0">dest[key] = src[key]</span><span class="s2">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s0">dest</span><span class="s2">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">syntax = create$4.create(</span>
        <span class="s0">merge(</span>
            <span class="s0">lexer</span><span class="s2">,</span>
            <span class="s0">parser</span><span class="s2">,</span>
            <span class="s0">walker</span>
        <span class="s0">)</span>
    <span class="s0">)</span><span class="s2">;</span>
    <span class="s1">var </span><span class="s0">version$1 = require$$4.version</span><span class="s2">;</span>
    <span class="s0">syntax.version = version$1</span><span class="s2">;</span>

    <span class="s1">var </span><span class="s0">lib = syntax</span><span class="s2">;</span>

    <span class="s1">return </span><span class="s0">lib</span><span class="s2">;</span>

<span class="s0">})))</span><span class="s2">;</span>
</pre>
</body>
</html>